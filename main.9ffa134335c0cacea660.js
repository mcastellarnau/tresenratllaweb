(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a}));var r=n("os0x"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(u){if(n)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var u=Object(r.e)(o.value,2),a=u[1],c=this.normalizeInstanceIdentifier(u[0]);try{var l=this.getOrInitializeService(c);a.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},os0x:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return u})),n.d(e,"h",(function(){return a})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function u(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}a((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),u={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},a=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=u[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var u=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:u,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return w})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return a})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return g}));var r=n("os0x");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return u().indexOf("Electron/")>=0}function p(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return u().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",u=this.serviceName+": "+s+" ("+i+").",a=new v(i,u,r);return a},t}();function m(t,e){return t.replace(b,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=I),void 0===r.error&&(r.error=I),void 0===r.complete&&(r.complete=I);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function I(){}},xsWp:function(t,e,n){"use strict";n.r(e),n.d(e,"__PRIVATE_registerFirestore",(function(){return Bf}));var r=n("os0x"),i=n("zIRd"),o=n("q/0M"),s=n("qOnz"),u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var c,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},h=h||{},f=l||self;function d(){}function p(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function g(t){var e=p(t);return"array"==e||"object"==e&&"number"==typeof t.length}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var y="closure_uid_"+(1e9*Math.random()>>>0),m=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now;function T(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function x(){this.j=this.j,this.i=this.i}x.prototype.j=!1,x.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++m)}(this)},x.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var O=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},S=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function C(t){return Array.prototype.concat.apply([],arguments)}function A(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function k(t){return/^[\s\xa0]*$/.test(t)}var j,N=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function R(t,e){return-1!=t.indexOf(e)}function P(t,e){return t<e?-1:t>e?1:0}t:{var D=f.navigator;if(D){var L=D.userAgent;if(L){j=L;break t}}j=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function V(t){var e={};for(var n in t)e[n]=t[n];return e}var U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<U.length;o++)n=U[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function q(t){return q[" "](t),t}q[" "]=d;var z,H,B=R(j,"Opera"),G=R(j,"Trident")||R(j,"MSIE"),$=R(j,"Edge"),K=$||G,W=R(j,"Gecko")&&!(R(j.toLowerCase(),"webkit")&&!R(j,"Edge"))&&!(R(j,"Trident")||R(j,"MSIE"))&&!R(j,"Edge"),Q=R(j.toLowerCase(),"webkit")&&!R(j,"Edge");function Z(){var t=f.document;return t?t.documentMode:void 0}t:{var Y="",X=(H=j,W?/rv:([^\);]+)(\)|;)/.exec(H):$?/Edge\/([\d\.]+)/.exec(H):G?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(H):Q?/WebKit\/(\S+)/.exec(H):B?/(?:Version)[ \/]?(\S+)/.exec(H):void 0);if(X&&(Y=X?X[1]:""),G){var J=Z();if(null!=J&&J>parseFloat(Y)){z=String(J);break t}}z=Y}var tt={};function et(t){return function(t,e){var n=tt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=N(String(z)).split("."),r=N(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;e=P(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||P(0==s[2].length,0==u[2].length)||P(s[2],u[2]),s=s[3],u=u[3]}while(0==e)}return 0<=e}))}var nt=f.document&&G&&(Z()||parseInt(z,10))||void 0,rt=!G||9<=Number(nt),it=G&&!et("9"),ot=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{f.addEventListener("test",d,e),f.removeEventListener("test",d,e)}catch(n){}return t}();function st(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ut(t,e){if(st.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(W){t:{try{q(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:at[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}st.prototype.b=function(){this.defaultPrevented=!0},T(ut,st);var at={2:"touch",3:"pen",4:"mouse"};ut.prototype.b=function(){ut.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,it)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(sr){}};var ct="closure_listenable_"+(1e6*Math.random()|0),lt=0;function ht(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++lt,this.Y=this.Z=!1}function ft(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function dt(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=O(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ft(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function gt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}dt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=gt(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ht(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var vt="closure_lm_"+(1e6*Math.random()|0),yt={};function mt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Ot(r),e&&e[ct]?e.wa(n,r,v(i)?!!i.capture:!!i,o):bt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)mt(t,e[o],n,r,i);return null}return n=Ot(n),t&&t[ct]?t.va(e,n,v(r)?!!r.capture:!!r,i):bt(t,e,n,!1,r,i)}function bt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=v(i)?!!i.capture:!!i;if(s&&!rt)return null;var u=Tt(t);if(u||(t[vt]=u=new dt(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=It,e=rt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ot||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_t(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function wt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ct])pt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_t(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Tt(e))?(pt(n,t),0==n.b&&(n.src=null,e[vt]=null)):ft(t)}}}function _t(t){return t in yt?yt[t]:yt[t]="on"+t}function Et(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&wt(t),n.call(r,e)}function It(t,e){if(t.Y)return!0;if(!rt){if(!e)t:{e=["window","event"];for(var n=f,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Et(t,e=new ut(e,this))}return Et(t,new ut(e,this))}function Tt(t){return(t=t[vt])instanceof dt?t:null}var xt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ot(t){return"function"==p(t)?t:(t[xt]||(t[xt]=function(e){return t.handleEvent(e)}),t[xt])}function St(){x.call(this),this.c=new dt(this),this.J=this,this.C=null}function Ct(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var u=s.listener,a=s.ca||s.src;s.Z&&pt(t.c,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}T(St,x),St.prototype[ct]=!0,(c=St.prototype).addEventListener=function(t,e,n,r){mt(this,t,e,n,r)},c.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=v(i)?!!i.capture:!!i,r=Ot(r),e&&e[ct]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=gt(s=e.a[n],r,i,o))&&(ft(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Tt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=gt(n,r,i,o)),(r=-1<e?n[e]:null)&&wt(r))}(this,t,e,n,r)},c.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new st(t,n);else if(t instanceof st)t.target=t.target||n;else{var i=t;F(t=new st(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=Ct(s,r,!0,t)&&i}if(i=Ct(s=t.a=n,r,!0,t)&&i,i=Ct(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Ct(s=t.a=e[o],r,!1,t)&&i;return i},c.G=function(){if(St.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ft(n[r]);delete e.a[t],e.b--}}this.C=null},c.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},c.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var At=f.JSON.stringify;function kt(){this.b=this.a=null}var jt,Nt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Pt}),(function(t){t.reset()}),100);function Rt(){var t=Vt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Pt(){this.next=this.b=this.a=null}function Dt(t){f.setTimeout((function(){throw t}),0)}function Lt(t,e){jt||function(){var t=f.Promise.resolve(void 0);jt=function(){t.then(Ut)}}(),Mt||(jt(),Mt=!0),Vt.add(t,e)}kt.prototype.add=function(t,e){var n=Nt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Pt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Pt.prototype.reset=function(){this.next=this.b=this.a=null};var Mt=!1,Vt=new kt;function Ut(){for(var t;t=Rt();){try{t.a.call(t.b)}catch(n){Dt(n)}var e=Nt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Mt=!1}function Ft(t,e){St.call(this),this.b=t||1,this.a=e||f,this.f=_(this.Ya,this),this.g=I()}function qt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function zt(t,e,n){if("function"==p(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:f.setTimeout(t,e||0)}function Ht(t){t.a=zt((function(){t.a=null,t.c&&(t.c=!1,Ht(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}T(Ft,St),(c=Ft.prototype).aa=!1,c.M=null,c.Ya=function(){if(this.aa){var t=I()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(qt(this),this.start()))}},c.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=I())},c.G=function(){Ft.S.G.call(this),qt(this),delete this.a};var Bt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ht(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(f.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(x);function Gt(t){x.call(this),this.b=t,this.a={}}T(Gt,x);var $t=[];function Kt(t,e,n,r){Array.isArray(n)||(n&&($t[0]=n.toString()),n=$t);for(var i=0;i<n.length;i++){var o=mt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Wt(t){M(t.a,(function(t,e){this.a.hasOwnProperty(e)&&wt(t)}),t),t.a={}}function Qt(){this.a=!0}function Zt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return At(n)}catch(u){return e}}(t,n)+(r?" "+r:"")}))}Gt.prototype.G=function(){Gt.S.G.call(this),Wt(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qt.prototype.info=function(){};var Yt=null;function Xt(){return Yt=Yt||new St}function Jt(t){st.call(this,"serverreachability",t)}function te(t){var e=Xt();e.dispatchEvent(new Jt(e,t))}function ee(t){st.call(this,"statevent",t)}function ne(t){var e=Xt();e.dispatchEvent(new ee(e,t))}function re(t){st.call(this,"timingevent",t)}function ie(t,e){if("function"!=p(t))throw Error("Fn must not be null and must be a function");return f.setTimeout((function(){t()}),e)}T(Jt,st),T(ee,st),T(re,st);var oe={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},se={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function ue(){}function ae(){}ue.prototype.a=null;var ce,le={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function he(){st.call(this,"d")}function fe(){st.call(this,"c")}function de(){}function pe(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Gt(this),this.P=ge,this.R=new Ft(t=K?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}T(he,st),T(fe,st),T(de,ue),ce=new de;var ge=45e3,ve={},ye={};function me(t,e,n){t.H=1,t.i=Fe(Pe(e)),t.j=n,t.I=!0,be(t,null)}function be(t,e){t.u=I(),Ee(t),t.l=Pe(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Je(n.b,"t",r),t.D=0,t.a=Wn(t.g,t.g.C?e:null),0<t.O&&(t.F=new Bt(_(t.Ca,t,t.a),t.O)),Kt(t.J,t.a,"readystatechange",t.Wa),e=t.B?V(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),te(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var c=u[a].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function we(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=_e(t,n);if(i==ye){4==e&&(t.h=4,ne(14),r=!1),Zt(t.c,t.f,null,"[Incomplete Response]");break}if(i==ve){t.h=4,ne(15),Zt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Zt(t.c,t.f,i,null),Se(t,i)}4==e&&0==n.length&&(t.h=1,ne(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fn(e),e.F=!0)):(Zt(t.c,t.f,n,"[Invalid Chunked Response]"),Oe(t),xe(t))}function _e(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ye:(n=Number(e.substring(n,r)),isNaN(n)?ve:(r+=1)+n>e.length?ye:(e=e.substr(r,n),t.D=r+n,e))}function Ee(t){t.U=I()+t.P,Ie(t,t.P)}function Ie(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ie(_(t.Ua,t),e)}function Te(t){t.o&&(f.clearTimeout(t.o),t.o=null)}function xe(t){0==t.g.v||t.A||Hn(t.g,t)}function Oe(t){Te(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,qt(t.R),Wt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Se(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||un(n.b,t)))if(n.I=t.N,!t.C&&un(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Bf){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;zn(n),jn(n)}Un(n),ne(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ie(_(n.Ra,n),6e3));if(1>=sn(n.b)&&n.ea){try{n.ea()}catch(Bf){}n.ea=void 0}}else Gn(n,11)}else if((t.C||n.a==t)&&zn(n),!k(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"==typeof u&&0<u){var a=1.5*u;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=a.b;!h.a&&(R(l,"spdy")||R(l,"quic")||R(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(an(h,h.b),h.b=null))}if(a.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(a.na=f,Ue(a.B,a.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=I()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((a=n).la=Kn(a,a.C?a.ga:null,a.fa),d.C){cn(a.b,d);var p=d,g=a.D;g&&p.setTimeout(g),p.o&&(Te(p),Ee(p)),a.a=d}else Vn(a);0<n.g.length&&Pn(n)}else"stop"!=i[0]&&"close"!=i[0]||Gn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Gn(n,7):kn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);te(4)}catch(Bf){}}function Ce(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(g(t)||"string"==typeof t)S(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(g(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(g(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ae(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ae)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ke(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];je(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)je(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function je(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(c=pe.prototype).setTimeout=function(t){this.P=t},c.Wa=function(t){t=t.target;var e=this.F;e&&3==On(t)?e.f():this.Ca(t)},c.Ca=function(t){try{if(t==this.a)t:{var e=On(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!K&&!this.a.$())){this.A||4!=e||7==n||te(8==n||0>=r?3:2),Te(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,ne(12),Oe(this),xe(this);break t}Zt(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Se(this,a)}this.I?(we(this,e,o),K&&this.b&&3==e&&(Kt(this.J,this.R,"tick",this.Va),this.R.start())):(Zt(this.c,this.f,o,null),Se(this,o)),4==e&&Oe(this),this.b&&!this.A&&(4==e?Hn(this.g,this):(this.b=!1,Ee(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ne(12)):(this.h=0,ne(13)),Oe(this),xe(this)}}}catch(c){}},c.Va=function(){if(this.a){var t=On(this.a),e=this.a.$();this.D<e.length&&(Te(this),we(this,t,e),this.b&&4!=t&&Ee(this))}},c.cancel=function(){this.A=!0,Oe(this)},c.Ua=function(){this.o=null;var t=I();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(te(3),ne(17)),Oe(this),this.h=2,xe(this)):Ie(this,this.U-t)},(c=Ae.prototype).K=function(){ke(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},c.L=function(){return ke(this),this.a.concat()},c.get=function(t,e){return je(this.b,t)?this.b[t]:e},c.set=function(t,e){je(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},c.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ne=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Re(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Re){this.a=void 0!==e?e:t.a,De(this,t.f),this.j=t.j,Le(this,t.c),Me(this,t.h),this.g=t.g,e=t.b;var n=new Qe;n.c=e.c,e.a&&(n.a=new Ae(e.a),n.b=e.b),Ve(this,n),this.i=t.i}else t&&(n=String(t).match(Ne))?(this.a=!!e,De(this,n[1]||"",!0),this.j=qe(n[2]||""),Le(this,n[3]||"",!0),Me(this,n[4]),this.g=qe(n[5]||"",!0),Ve(this,n[6]||"",!0),this.i=qe(n[7]||"")):(this.a=!!e,this.b=new Qe(null,this.a))}function Pe(t){return new Re(t)}function De(t,e,n){t.f=n?qe(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Le(t,e,n){t.c=n?qe(e,!0):e}function Me(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ve(t,e,n){e instanceof Qe?(t.b=e,function(t,e){e&&!t.f&&(Ze(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ye(this,e),Je(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=ze(e,Ke)),t.b=new Qe(e,t.a))}function Ue(t,e,n){t.b.set(e,n)}function Fe(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^I()).toString(36)),t}function qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ze(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,He),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function He(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Re.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ze(e,Be,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ze(e,Be,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ze(n,"/"==n.charAt(0)?$e:Ge,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ze(n,We)),t.join("")};var Be=/[#\/\?@]/g,Ge=/[#\?:]/g,$e=/[#\?]/g,Ke=/[#\?@]/g,We=/#/g;function Qe(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ze(t){t.a||(t.a=new Ae,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ye(t,e){Ze(t),e=tn(t,e),je(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,je((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ke(t)))}function Xe(t,e){return Ze(t),e=tn(t,e),je(t.a.b,e)}function Je(t,e,n){Ye(t,e),0<n.length&&(t.c=null,t.a.set(tn(t,e),A(n)),t.b+=n.length)}function tn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function en(t,e){this.b=t,this.a=e}function nn(t){this.g=t||rn,t=f.PerformanceNavigationTiming?0<(t=f.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(f.ia&&f.ia.ya&&f.ia.ya()&&f.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(c=Qe.prototype).add=function(t,e){Ze(this),this.c=null,t=tn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},c.forEach=function(t,e){Ze(this),this.a.forEach((function(n,r){S(n,(function(n){t.call(e,n,r,this)}),this)}),this)},c.L=function(){Ze(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},c.K=function(t){Ze(this);var e=[];if("string"==typeof t)Xe(this,t)&&(e=C(e,this.a.get(tn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=C(e,t[n])}return e},c.set=function(t,e){return Ze(this),this.c=null,Xe(this,t=tn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},c.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},c.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var rn=10;function on(t){return!!t.b||!!t.a&&t.a.size>=t.f}function sn(t){return t.b?1:t.a?t.a.size:0}function un(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function an(t,e){t.a?t.a.add(e):t.b=e}function cn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ln(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=a(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return A(t.c)}function hn(){}function fn(){this.a=new hn}function dn(t,e,n){var r=n||"";try{Ce(t,(function(t,n){var i=t;v(t)&&(i=At(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function pn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}nn.prototype.cancel=function(){var t,e;if(this.c=ln(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=a(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},hn.prototype.stringify=function(t){return f.JSON.stringify(t,void 0)},hn.prototype.parse=function(t){return f.JSON.parse(t,void 0)};var gn=f.JSON.parse;function vn(t){St.call(this),this.headers=new Ae,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=yn,this.D=this.F=!1}T(vn,St);var yn="",mn=/^https?$/i,bn=["POST","PUT"];function wn(t){return"content-type"==t.toLowerCase()}function _n(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,En(t),Tn(t)}function En(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function In(t){if(t.b&&void 0!==h&&(!t.s[1]||4!=On(t)||2!=t.X()))if(t.l&&4==On(t))zt(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==On(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ne)[1]||null;if(!o&&f.self&&f.self.location){var s=f.self.location.protocol;o=s.substr(0,s.length-1)}i=!mn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var u=2<On(t)?t.a.statusText:""}catch(a){u=""}t.f=u+" ["+t.X()+"]",En(t)}}finally{Tn(t)}}}function Tn(t,e){if(t.a){xn(t);var n=t.a,r=t.s[0]?d:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function xn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(f.clearTimeout(t.m),t.m=null)}function On(t){return t.a?t.a.readyState:0}function Sn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return M(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ue(t,e,n))}function Cn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function An(t){this.pa=0,this.g=[],this.c=new Qt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Cn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Cn("baseRetryDelayMs",5e3,t),this.Ma=Cn("retryDelaySeedMs",1e4,t),this.Ja=Cn("forwardChannelMaxRetries",2,t),this.ma=Cn("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new nn(t&&t.concurrentRequestLimit),this.ka=new fn,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function kn(t){if(Nn(t),3==t.v){var e=t.R++,n=Pe(t.B);Ue(n,"SID",t.J),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),Ln(t,n),(e=new pe(t,t.c,e,void 0)).H=2,e.i=Fe(Pe(n)),n=!1,f.navigator&&f.navigator.sendBeacon&&(n=f.navigator.sendBeacon(e.i.toString(),"")),!n&&f.Image&&((new Image).src=e.i,n=!0),n||(e.a=Wn(e.g,null),e.a.ba(e.i)),e.u=I(),Ee(e)}$n(t)}function jn(t){t.a&&(Fn(t),t.a.cancel(),t.a=null)}function Nn(t){jn(t),t.j&&(f.clearTimeout(t.j),t.j=null),zn(t),t.b.cancel(),t.h&&("number"==typeof t.h&&f.clearTimeout(t.h),t.h=null)}function Rn(t,e){t.g.push(new en(t.La++,e)),3==t.v&&Pn(t)}function Pn(t){on(t.b)||t.h||(t.h=!0,Lt(t.Ba,t),t.u=0)}function Dn(t,e){var n;n=e?e.f:t.R++;var r=Pe(t.B);Ue(r,"SID",t.J),Ue(r,"RID",n),Ue(r,"AID",t.P),Ln(t,r),t.i&&t.l&&Sn(r,t.i,t.l),n=new pe(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Mn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),an(t.b,n),me(n,r,e)}function Ln(t,e){t.f&&Ce({},(function(t,n){Ue(e,n,t)}))}function Mn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?_(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var c=i[a].b,l=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),u=!1;else try{dn(l,s,"req"+c+"_")}catch(Ar){r&&r(l)}}if(u){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Vn(t){t.a||t.j||(t.U=1,Lt(t.Aa,t),t.o=0)}function Un(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=ie(_(t.Aa,t),Bn(t,t.o)),t.o++,0))}function Fn(t){null!=t.s&&(f.clearTimeout(t.s),t.s=null)}function qn(t){t.a=new pe(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Pe(t.la);Ue(e,"RID","rpc"),Ue(e,"SID",t.J),Ue(e,"CI",t.H?"0":"1"),Ue(e,"AID",t.P),Ln(t,e),Ue(e,"TYPE","xmlhttp"),t.i&&t.l&&Sn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Fe(Pe(e)),n.j=null,n.I=!0,be(n,t)}function zn(t){null!=t.m&&(f.clearTimeout(t.m),t.m=null)}function Hn(t,e){var n=null;if(t.a==e){zn(t),Fn(t),t.a=null;var r=2}else{if(!un(t.b,e))return;n=e.s,cn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=I()-e.u;var i=t.u;(r=Xt()).dispatchEvent(new re(r,n,e,i)),Pn(t)}else Vn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(sn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=ie(_(t.Ba,t,e),Bn(t,t.u)),t.u++,0)))}(t,e)||2==r&&Un(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Gn(t,5);break;case 4:Gn(t,10);break;case 3:Gn(t,6);break;default:Gn(t,2)}}function Bn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Gn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=_(t.Xa,t);n||(n=new Re("//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||De(n,"https"),Fe(n)),function(t,e){var n=new Qt;if(f.Image){var r=new Image;r.onload=E(pn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=E(pn,n,r,"TestLoadImage: error",!1,e),r.onabort=E(pn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=E(pn,n,r,"TestLoadImage: timeout",!1,e),f.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ne(2);t.v=0,t.f&&t.f.ra(e),$n(t),Nn(t)}function $n(t){t.v=0,t.I=-1,t.f&&(0==ln(t.b).length&&0==t.g.length||(t.b.c.length=0,A(t.g),t.g.length=0),t.f.qa())}function Kn(t,e,n){var r=function(t){return t instanceof Re?Pe(t):new Re(t,void 0)}(n);if(""!=r.c)e&&Le(r,e+"."+r.c),Me(r,r.h);else{var i=f.location;r=function(t,e,n,r){var i=new Re(null,void 0);return t&&De(i,t),e&&Le(i,e),n&&Me(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&M(t.W,(function(t,e){Ue(r,e,t)})),n=t.na,(e=t.A)&&n&&Ue(r,e,n),Ue(r,"VER",t.ha),Ln(t,r),r}function Wn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vn(t.Ka)).F=t.C,e}function Qn(){}function Zn(){if(G&&!(10<=Number(nt)))throw Error("Environmental error: no available transport.")}function Yn(t,e){St.call(this),this.a=new An(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!k(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!k(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new tr(this)}function Xn(t){he.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Jn(){fe.call(this),this.status=1}function tr(t){this.a=t}(c=vn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:ce),this.a.onreadystatechange=_(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void _n(this,o)}t=n||"";var i=new Ae(this.headers);r&&Ce(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=wn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=f.FormData&&t instanceof f.FormData,!(0<=O(bn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{xn(this),0<this.o&&((this.D=function(t){return G&&et(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=_(this.xa,this)):this.m=zt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){_n(this,o)}},c.xa=function(){void 0!==h&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},c.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Tn(this))},c.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Tn(this,!0)),vn.S.G.call(this)},c.za=function(){this.j||(this.A||this.l||this.g?In(this):this.Ta())},c.Ta=function(){In(this)},c.X=function(){try{return 2<On(this)?this.a.status:-1}catch(H){return-1}},c.$=function(){try{return this.a?this.a.responseText:""}catch(H){return""}},c.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),gn(e)}},c.ua=function(){return this.h},c.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(c=An.prototype).ha=8,c.v=1,c.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new pe(this,this.c,t,void 0),r=this.l;if(this.O&&(r?F(r=V(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Mn(this,n,e),Ue(i=Pe(this.B),"RID",t),Ue(i,"CVER",22),this.A&&Ue(i,"X-HTTP-Session-Id",this.A),Ln(this,i),this.i&&r&&Sn(i,this.i,r),an(this.b,n),this.Ga&&Ue(i,"TYPE","init"),this.da?(Ue(i,"$req",e),Ue(i,"SID","null"),n.V=!0,me(n,i,null)):me(n,i,e),this.v=2}}else 3==this.v&&(t?Dn(this,t):0==this.g.length||on(this.b)||Dn(this))},c.Aa=function(){if(this.j=null,qn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ie(_(this.Sa,this),t)}},c.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,jn(this),qn(this))},c.Ra=function(){null!=this.m&&(this.m=null,jn(this),Un(this),ne(19))},c.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),ne(2)):(this.c.info("Failed to ping google.com"),ne(1))},(c=Qn.prototype).ta=function(){},c.sa=function(){},c.ra=function(){},c.qa=function(){},c.Ha=function(){},Zn.prototype.a=function(t,e){return new Yn(t,e)},T(Yn,St),(c=Yn.prototype).addEventListener=function(t,e,n,r){Yn.S.addEventListener.call(this,t,e,n,r)},c.removeEventListener=function(t,e,n,r){Yn.S.removeEventListener.call(this,t,e,n,r)},c.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;ne(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Kn(t,null,t.fa),Pn(t)},c.close=function(){kn(this.a)},c.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,Rn(this.a,e)}else this.g?((e={}).__data__=At(t),Rn(this.a,e)):Rn(this.a,t)},c.G=function(){this.a.f=null,delete this.f,kn(this.a),delete this.a,Yn.S.G.call(this)},T(Xn,he),T(Jn,fe),T(tr,Qn),tr.prototype.ta=function(){this.a.dispatchEvent("a")},tr.prototype.sa=function(t){this.a.dispatchEvent(new Xn(t))},tr.prototype.ra=function(t){this.a.dispatchEvent(new Jn(t))},tr.prototype.qa=function(){this.a.dispatchEvent("b")},Zn.prototype.createWebChannel=Zn.prototype.a,Yn.prototype.send=Yn.prototype.Pa,Yn.prototype.open=Yn.prototype.Oa,Yn.prototype.close=Yn.prototype.close,oe.NO_ERROR=0,oe.TIMEOUT=8,oe.HTTP_ERROR=6,se.COMPLETE="complete",ae.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",St.prototype.listen=St.prototype.va,vn.prototype.listenOnce=vn.prototype.wa,vn.prototype.getLastError=vn.prototype.Qa,vn.prototype.getLastErrorCode=vn.prototype.ua,vn.prototype.getStatus=vn.prototype.X,vn.prototype.getResponseJson=vn.prototype.Na,vn.prototype.getResponseText=vn.prototype.$,vn.prototype.send=vn.prototype.ba;var er=oe,nr=se,rr=ae,ir=vn,or=n("/6Yf"),sr=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},ur=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),ar=new o.b("@firebase/firestore");function cr(){return ar.logLevel}function lr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ar.logLevel<=o.a.DEBUG){var i=e.map(dr);ar.debug.apply(ar,Object(r.g)(["Firestore (8.0.2): "+t],i))}}function hr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ar.logLevel<=o.a.ERROR){var i=e.map(dr);ar.error.apply(ar,Object(r.g)(["Firestore (8.0.2): "+t],i))}}function fr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ar.logLevel<=o.a.WARN){var i=e.map(dr);ar.warn.apply(ar,Object(r.g)(["Firestore (8.0.2): "+t],i))}}function dr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function pr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.0.2) INTERNAL ASSERTION FAILED: "+t;throw hr(e),new Error(e)}function gr(t,e){t||pr()}function vr(t,e){return t}function yr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var mr=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=yr(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function br(t,e){return t<e?-1:t>e?1:0}function wr(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function _r(t){return t+"\0"}function Er(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ir(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Tr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var xr=function(){function t(t,e){this.h=t,this.l=e,this._={}}return t.prototype.get=function(t){var e=this.h(t),n=this._[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.l(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.h(t),r=this._[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.l(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this._[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.h(t),n=this._[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.l(n[r][0],t))return 1===n.length?delete this._[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Ir(this._,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.T=function(){return Tr(this._)},t}(),Or={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Sr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(r.c)(e,t),e}(Error),Cr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Sr(Or.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Sr(Or.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Sr(Or.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Sr(Or.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.I=function(t){return this.seconds===t.seconds?br(this.nanoseconds,t.nanoseconds):br(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ar=function(){function t(t){this.timestamp=t}return t.m=function(e){return new t(e)},t.min=function(){return new t(new Cr(0,0))},t.prototype.A=function(t){return this.timestamp.I(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.R=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.P=function(){return this.timestamp},t}(),kr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&pr(),void 0===n?n=t.length-e:n>t.length-e&&pr(),this.segments=t,this.offset=e,this.g=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.g},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.V(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.p(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.v=function(t){return this.p(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.S=function(){return this.p(this.segments,this.offset,this.length-1)},t.prototype.D=function(){return this.segments[this.offset]},t.prototype.C=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.T=function(){return 0===this.length},t.prototype.N=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.F=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.O=function(){return this.segments.slice(this.offset,this.limit())},t.V=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),jr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.p=function(t,n,r){return new e(t,n,r)},e.prototype.M=function(){return this.O().join("/")},e.prototype.toString=function(){return this.M()},e.k=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Sr(Or.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.$=function(){return new e([])},e}(kr),Nr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Rr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.p=function(t,n,r){return new e(t,n,r)},e.L=function(t){return Nr.test(t)},e.prototype.M=function(){return this.O().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.L(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.M()},e.prototype.B=function(){return 1===this.length&&"__name__"===this.get(0)},e.q=function(){return new e(["__name__"])},e.U=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Sr(Or.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new Sr(Or.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new Sr(Or.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new Sr(Or.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.$=function(){return new e([])},e}(kr),Pr=function(){function t(t){this.path=t}return t.K=function(e){return new t(jr.k(e))},t.W=function(e){return new t(jr.k(e).v(5))},t.prototype.j=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===jr.V(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.V=function(t,e){return jr.V(t.path,e.path)},t.G=function(t){return t.length%2==0},t.H=function(e){return new t(new jr(e.slice()))},t}();function Dr(t){return null==t}function Lr(t){return 0===t&&1/t==-1/0}function Mr(t){return"number"==typeof t&&Number.isInteger(t)&&!Lr(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Vr=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.J=null};function Ur(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Vr(t,e,n,r,i,o,s)}function Fr(t){var e=vr(t);if(null===e.J){var n=e.path.M();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.M()+t.op.toString()+ji(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.M()+e.dir;var e})).join(","),Dr(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ps(e.startAt)),e.endAt&&(n+="|ub:",n+=Ps(e.endAt)),e.J=n}return e.J}function qr(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Us(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Si(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ls(t.startAt,e.startAt)&&Ls(t.endAt,e.endAt)}function zr(t){return Pr.G(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Hr=function(){function t(t){this.Y=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.Y)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.Y)},t.prototype.X=function(){return 2*this.Y.length},t.prototype.A=function(t){return br(this.Y,t.Y)},t.prototype.isEqual=function(t){return this.Y===t.Y},t}();Hr.Z=new Hr("");var Br,Gr,$r=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Ar.min()),void 0===o&&(o=Ar.min()),void 0===s&&(s=Hr.Z),this.target=t,this.targetId=e,this.tt=n,this.sequenceNumber=r,this.et=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.nt=function(e){return new t(this.target,this.targetId,this.tt,e,this.et,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.st=function(e,n){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.it=function(e){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,this.et,e,this.resumeToken)},t}(),Kr=function(t){this.count=t};function Wr(t){switch(t){case Or.OK:return pr();case Or.CANCELLED:case Or.UNKNOWN:case Or.DEADLINE_EXCEEDED:case Or.RESOURCE_EXHAUSTED:case Or.INTERNAL:case Or.UNAVAILABLE:case Or.UNAUTHENTICATED:return!1;case Or.INVALID_ARGUMENT:case Or.NOT_FOUND:case Or.ALREADY_EXISTS:case Or.PERMISSION_DENIED:case Or.FAILED_PRECONDITION:case Or.ABORTED:case Or.OUT_OF_RANGE:case Or.UNIMPLEMENTED:case Or.DATA_LOSS:return!0;default:return pr()}}function Qr(t){if(void 0===t)return hr("GRPC error has no .code"),Or.UNKNOWN;switch(t){case Br.OK:return Or.OK;case Br.CANCELLED:return Or.CANCELLED;case Br.UNKNOWN:return Or.UNKNOWN;case Br.DEADLINE_EXCEEDED:return Or.DEADLINE_EXCEEDED;case Br.RESOURCE_EXHAUSTED:return Or.RESOURCE_EXHAUSTED;case Br.INTERNAL:return Or.INTERNAL;case Br.UNAVAILABLE:return Or.UNAVAILABLE;case Br.UNAUTHENTICATED:return Or.UNAUTHENTICATED;case Br.INVALID_ARGUMENT:return Or.INVALID_ARGUMENT;case Br.NOT_FOUND:return Or.NOT_FOUND;case Br.ALREADY_EXISTS:return Or.ALREADY_EXISTS;case Br.PERMISSION_DENIED:return Or.PERMISSION_DENIED;case Br.FAILED_PRECONDITION:return Or.FAILED_PRECONDITION;case Br.ABORTED:return Or.ABORTED;case Br.OUT_OF_RANGE:return Or.OUT_OF_RANGE;case Br.UNIMPLEMENTED:return Or.UNIMPLEMENTED;case Br.DATA_LOSS:return Or.DATA_LOSS;default:return pr()}}(Gr=Br||(Br={}))[Gr.OK=0]="OK",Gr[Gr.CANCELLED=1]="CANCELLED",Gr[Gr.UNKNOWN=2]="UNKNOWN",Gr[Gr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gr[Gr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gr[Gr.NOT_FOUND=5]="NOT_FOUND",Gr[Gr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gr[Gr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gr[Gr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gr[Gr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gr[Gr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gr[Gr.ABORTED=10]="ABORTED",Gr[Gr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gr[Gr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gr[Gr.INTERNAL=13]="INTERNAL",Gr[Gr.UNAVAILABLE=14]="UNAVAILABLE",Gr[Gr.DATA_LOSS=15]="DATA_LOSS";var Zr=function(){function t(t,e){this.V=t,this.root=e||Xr.EMPTY}return t.prototype.rt=function(e,n){return new t(this.V,this.root.rt(e,n,this.V).copy(null,null,Xr.ot,null,null))},t.prototype.remove=function(e){return new t(this.V,this.root.remove(e,this.V).copy(null,null,Xr.ot,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.T();){var n=this.V(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.T();){var r=this.V(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.T=function(){return this.root.T()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.at=function(){return this.root.at()},t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(t){return this.root.ut(t)},t.prototype.forEach=function(t){this.ut((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ut((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.lt=function(){return new Yr(this.root,null,this.V,!1)},t.prototype._t=function(t){return new Yr(this.root,t,this.V,!1)},t.prototype.ft=function(){return new Yr(this.root,null,this.V,!0)},t.prototype.dt=function(t){return new Yr(this.root,t,this.V,!0)},t}(),Yr=function(){function t(t,e,n,r){this.wt=r,this.Tt=[];for(var i=1;!t.T();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.wt?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.wt?t.right:t.left}}return t.prototype.Et=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.wt)for(t=t.left;!t.T();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.T();)this.Tt.push(t),t=t.left;return e},t.prototype.It=function(){return this.Tt.length>0},t.prototype.At=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},t}(),Xr=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.T=function(){return!1},t.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},t.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},t.prototype.min=function(){return this.left.T()?this:this.left.min()},t.prototype.at=function(){return this.min().key},t.prototype.ct=function(){return this.right.T()?this.key:this.right.ct()},t.prototype.rt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.rt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.rt(t,e,n))).Rt()},t.prototype.Pt=function(){if(this.left.T())return t.EMPTY;var e=this;return e.left.gt()||e.left.left.gt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.Pt(),null)).Rt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.T()||i.left.gt()||i.left.left.gt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.gt()&&(i=i.yt()),i.right.T()||i.right.gt()||i.right.left.gt()||(i=i.vt()),0===n(e,i.key)){if(i.right.T())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Rt()},t.prototype.gt=function(){return this.color},t.prototype.Rt=function(){var t=this;return t.right.gt()&&!t.left.gt()&&(t=t.bt()),t.left.gt()&&t.left.left.gt()&&(t=t.yt()),t.left.gt()&&t.right.gt()&&(t=t.St()),t},t.prototype.Vt=function(){var t=this.St();return t.right.left.gt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.yt())).bt()).St()),t},t.prototype.vt=function(){var t=this.St();return t.left.left.gt()&&(t=(t=t.yt()).St()),t},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.yt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.St=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Dt=function(){var t=this.Ct();return Math.pow(2,t)<=this.size+1},t.prototype.Ct=function(){if(this.gt()&&this.left.gt())throw pr();if(this.right.gt())throw pr();var t=this.left.Ct();if(t!==this.right.Ct())throw pr();return t+(this.gt()?0:1)},t}();Xr.EMPTY=null,Xr.RED=!0,Xr.ot=!1,Xr.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw pr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw pr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw pr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw pr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw pr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.rt=function(t,e,n){return new Xr(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.T=function(){return!0},t.prototype.ut=function(t){return!1},t.prototype.ht=function(t){return!1},t.prototype.at=function(){return null},t.prototype.ct=function(){return null},t.prototype.gt=function(){return!1},t.prototype.Dt=function(){return!0},t.prototype.Ct=function(){return 0},t}());var Jr=function(){function t(t){this.V=t,this.data=new Zr(this.V)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.at()},t.prototype.last=function(){return this.data.ct()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ut((function(e,n){return t(e),!1}))},t.prototype.Nt=function(t,e){for(var n=this.data._t(t[0]);n.It();){var r=n.Et();if(this.V(r.key,t[1])>=0)return;e(r.key)}},t.prototype.xt=function(t,e){var n;for(n=void 0!==e?this.data._t(e):this.data.lt();n.It();)if(!t(n.Et().key))return},t.prototype.Ft=function(t){var e=this.data._t(t);return e.It()?e.Et().key:null},t.prototype.lt=function(){return new ti(this.data.lt())},t.prototype._t=function(t){return new ti(this.data._t(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).rt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.T=function(){return this.data.T()},t.prototype.Ot=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.lt(),r=e.data.lt();n.It();){var i=n.Et().key,o=r.Et().key;if(0!==this.V(i,o))return!1}return!0},t.prototype.O=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.V);return n.data=e,n},t}(),ti=function(){function t(t){this.Mt=t}return t.prototype.Et=function(){return this.Mt.Et().key},t.prototype.It=function(){return this.Mt.It()},t}(),ei=new Zr(Pr.V);function ni(){return ei}function ri(){return ni()}var ii=new Zr(Pr.V);function oi(){return ii}var si=new Zr(Pr.V),ui=new Jr(Pr.V);function ai(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ui,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ci=new Jr(br);function li(){return ci}var hi=function(){function t(t){this.V=t?function(e,n){return t(e,n)||Pr.V(e.key,n.key)}:function(t,e){return Pr.V(t.key,e.key)},this.kt=oi(),this.$t=new Zr(this.V)}return t.Lt=function(e){return new t(e.V)},t.prototype.has=function(t){return null!=this.kt.get(t)},t.prototype.get=function(t){return this.kt.get(t)},t.prototype.first=function(){return this.$t.at()},t.prototype.last=function(){return this.$t.ct()},t.prototype.T=function(){return this.$t.T()},t.prototype.indexOf=function(t){var e=this.kt.get(t);return e?this.$t.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.$t.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.$t.ut((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.kt.rt(t.key,t),e.$t.rt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.kt.remove(t),this.$t.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.$t.lt(),r=e.$t.lt();n.It();){var i=n.Et().key,o=r.Et().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.V=this.V,r.kt=e,r.$t=n,r},t}(),fi=function(){function t(){this.Bt=new Zr(Pr.V)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Bt.get(e);n?0!==t.type&&3===n.type?this.Bt=this.Bt.rt(e,t):3===t.type&&1!==n.type?this.Bt=this.Bt.rt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Bt=this.Bt.rt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Bt=this.Bt.remove(e):1===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):pr():this.Bt=this.Bt.rt(e,t)},t.prototype.qt=function(){var t=[];return this.Bt.ut((function(e,n){t.push(n)})),t},t}(),di=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.Ut=n,this.docChanges=r,this.Qt=i,this.fromCache=o,this.Kt=s,this.Wt=u}return t.jt=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,hi.Lt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Qt.T()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Kt===t.Kt&&this.Qt.isEqual(t.Qt)&&bs(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ut.isEqual(t.Ut)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),pi=function(){function t(t,e,n,r,i){this.et=t,this.Gt=e,this.zt=n,this.Ht=r,this.Jt=i}return t.Yt=function(e,n){var r=new Map;return r.set(e,gi.Xt(e,n)),new t(Ar.min(),r,li(),ni(),ai())},t}(),gi=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Zt=e,this.te=n,this.ee=r,this.ne=i}return t.Xt=function(e,n){return new t(Hr.Z,n,ai(),ai(),ai())},t}(),vi=function(t,e,n,r){this.se=t,this.removedTargetIds=e,this.key=n,this.ie=r},yi=function(t,e){this.targetId=t,this.re=e},mi=function(t,e,n,r){void 0===n&&(n=Hr.Z),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},bi=function(){function t(){this.oe=0,this.ae=Ei(),this.ce=Hr.Z,this.ue=!1,this.he=!0}return Object.defineProperty(t.prototype,"Zt",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"le",{get:function(){return 0!==this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return this.he},enumerable:!1,configurable:!0}),t.prototype.fe=function(t){t.X()>0&&(this.he=!0,this.ce=t)},t.prototype.de=function(){var t=ai(),e=ai(),n=ai();return this.ae.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:pr()}})),new gi(this.ce,this.ue,t,e,n)},t.prototype.we=function(){this.he=!1,this.ae=Ei()},t.prototype.Te=function(t,e){this.he=!0,this.ae=this.ae.rt(t,e)},t.prototype.Ee=function(t){this.he=!0,this.ae=this.ae.remove(t)},t.prototype.Ie=function(){this.oe+=1},t.prototype.me=function(){this.oe-=1},t.prototype.Ae=function(){this.he=!0,this.ue=!0},t}(),wi=function(){function t(t){this.Re=t,this.Pe=new Map,this.ge=ni(),this.Ve=_i(),this.ye=new Jr(br)}return t.prototype.pe=function(t){for(var e=0,n=t.se;e<n.length;e++){var r=n[e];t.ie instanceof rs?this.ve(r,t.ie):t.ie instanceof is&&this.be(r,t.key,t.ie)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.be(o[i],t.key,t.ie)},t.prototype.Se=function(t){var e=this;this.De(t,(function(n){var r=e.Ce(n);switch(t.state){case 0:e.Ne(n)&&r.fe(t.resumeToken);break;case 1:r.me(),r.le||r.we(),r.fe(t.resumeToken);break;case 2:r.me(),r.le||e.removeTarget(n);break;case 3:e.Ne(n)&&(r.Ae(),r.fe(t.resumeToken));break;case 4:e.Ne(n)&&(e.xe(n),r.fe(t.resumeToken));break;default:pr()}}))},t.prototype.De=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Ne(r)&&e(r)}))},t.prototype.Fe=function(t){var e=t.targetId,n=t.re.count,r=this.Oe(e);if(r){var i=r.target;if(zr(i))if(0===n){var o=new Pr(i.path);this.be(e,o,new is(o,Ar.min()))}else gr(1===n);else this.Me(e)!==n&&(this.xe(e),this.ye=this.ye.add(e))}},t.prototype.ke=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var o=e.Oe(i);if(o){if(r.Zt&&zr(o.target)){var s=new Pr(o.target.path);null!==e.ge.get(s)||e.$e(i,s)||e.be(i,s,new is(s,t))}r._e&&(n.set(i,r.de()),r.we())}}));var r=ai();this.Ve.forEach((function(t,n){var i=!0;n.xt((function(t){var n=e.Oe(t);return!n||2===n.tt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new pi(t,n,this.ye,this.ge,r);return this.ge=ni(),this.Ve=_i(),this.ye=new Jr(br),i},t.prototype.ve=function(t,e){if(this.Ne(t)){var n=this.$e(t,e.key)?2:0;this.Ce(t).Te(e.key,n),this.ge=this.ge.rt(e.key,e),this.Ve=this.Ve.rt(e.key,this.Le(e.key).add(t))}},t.prototype.be=function(t,e,n){if(this.Ne(t)){var r=this.Ce(t);this.$e(t,e)?r.Te(e,1):r.Ee(e),this.Ve=this.Ve.rt(e,this.Le(e).delete(t)),n&&(this.ge=this.ge.rt(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.Me=function(t){var e=this.Ce(t).de();return this.Re.Be(t).size+e.te.size-e.ne.size},t.prototype.Ie=function(t){this.Ce(t).Ie()},t.prototype.Ce=function(t){var e=this.Pe.get(t);return e||(e=new bi,this.Pe.set(t,e)),e},t.prototype.Le=function(t){var e=this.Ve.get(t);return e||(e=new Jr(br),this.Ve=this.Ve.rt(t,e)),e},t.prototype.Ne=function(t){var e=null!==this.Oe(t);return e||lr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Oe=function(t){var e=this.Pe.get(t);return e&&e.le?null:this.Re.qe(t)},t.prototype.xe=function(t){var e=this;this.Pe.set(t,new bi),this.Re.Be(t).forEach((function(n){e.be(t,n,null)}))},t.prototype.$e=function(t,e){return this.Re.Be(t).has(e)},t}();function _i(){return new Zr(Pr.V)}function Ei(){return new Zr(Pr.V)}function Ii(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ti(t){var e=Ni(t.mapValue.fields.__local_write_time__.timestampValue);return new Cr(e.seconds,e.nanos)}var xi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ii(t)?4:10:pr()}function Si(t,e){var n=Oi(t);if(n!==Oi(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ti(t).isEqual(Ti(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ni(t.timestampValue),r=Ni(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Pi(t.bytesValue).isEqual(Pi(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ri(t.geoPointValue.latitude)===Ri(e.geoPointValue.latitude)&&Ri(t.geoPointValue.longitude)===Ri(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ri(t.integerValue)===Ri(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ri(t.doubleValue),r=Ri(e.doubleValue);return n===r?Lr(n)===Lr(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return wr(t.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Er(n)!==Er(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Si(n[i],r[i])))return!1;return!0}(t,e);default:return pr()}}function Ci(t,e){return void 0!==(t.values||[]).find((function(t){return Si(t,e)}))}function Ai(t,e){var n=Oi(t),r=Oi(e);if(n!==r)return br(n,r);switch(n){case 0:return 0;case 1:return br(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ri(t.integerValue||t.doubleValue),r=Ri(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ki(t.timestampValue,e.timestampValue);case 4:return ki(Ti(t),Ti(e));case 5:return br(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Pi(t),r=Pi(e);return n.A(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=br(n[i],r[i]);if(0!==o)return o}return br(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=br(Ri(t.latitude),Ri(e.latitude));return 0!==n?n:br(Ri(t.longitude),Ri(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ai(n[i],r[i]);if(o)return o}return br(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=br(r[s],o[s]);if(0!==u)return u;var a=Ai(n[r[s]],i[o[s]]);if(0!==a)return a}return br(r.length,o.length)}(t.mapValue,e.mapValue);default:throw pr()}}function ki(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return br(t,e);var n=Ni(t),r=Ni(e),i=br(n.seconds,r.seconds);return 0!==i?i:br(n.nanos,r.nanos)}function ji(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Ni(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Pi(e.bytesValue).toBase64():"referenceValue"in e?Pr.W(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):pr();var n}(t)}function Ni(t){if(gr(!!t),"string"==typeof t){var e=0,n=xi.exec(t);if(gr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ri(t.seconds),nanos:Ri(t.nanos)}}function Ri(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Pi(t){return"string"==typeof t?Hr.fromBase64String(t):Hr.fromUint8Array(t)}function Di(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.M()}}function Li(t){return!!t&&"integerValue"in t}function Mi(t){return!!t&&"arrayValue"in t}function Vi(t){return!!t&&"nullValue"in t}function Ui(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fi(t){return!!t&&"mapValue"in t}var qi={asc:"ASCENDING",desc:"DESCENDING"},zi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hi=function(t,e){this.t=t,this.Ue=e};function Bi(t){return{integerValue:""+t}}function Gi(t,e){if(t.Ue){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lr(e)?"-0":e}}function $i(t,e){return Mr(e)?Bi(e):Gi(t,e)}function Ki(t,e){return t.Ue?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wi(t,e){return t.Ue?e.toBase64():e.toUint8Array()}function Qi(t,e){return Ki(t,e.P())}function Zi(t){return gr(!!t),Ar.m(function(t){var e=Ni(t);return new Cr(e.seconds,e.nanos)}(t))}function Yi(t,e){return function(t){return new jr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).M()}function Xi(t){var e=jr.k(t);return gr(_o(e)),e}function Ji(t,e){return Yi(t.t,e.path)}function to(t,e){var n=Xi(e);if(n.get(1)!==t.t.projectId)throw new Sr(Or.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Sr(Or.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Pr(io(n))}function eo(t,e){return Yi(t.t,e)}function no(t){var e=Xi(t);return 4===e.length?jr.$():io(e)}function ro(t){return new jr(["projects",t.t.projectId,"databases",t.t.database]).M()}function io(t){return gr(t.length>4&&"documents"===t.get(4)),t.v(5)}function oo(t,e,n){return{name:Ji(t,e),fields:n.proto.mapValue.fields}}function so(t,e){var n;if(e instanceof Go)n={update:oo(t,e.key,e.value)};else if(e instanceof Yo)n={delete:Ji(t,e.key)};else if(e instanceof $o)n={update:oo(t,e.key,e.data),updateMask:wo(e.Qe)};else if(e instanceof Wo)n={transform:{document:Ji(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Oo)return{fieldPath:e.field.M(),setToServerValue:"REQUEST_TIME"};if(n instanceof So)return{fieldPath:e.field.M(),appendMissingElements:{values:n.elements}};if(n instanceof Ao)return{fieldPath:e.field.M(),removeAllFromArray:{values:n.elements}};if(n instanceof jo)return{fieldPath:e.field.M(),increment:n.Ke};throw pr()}(0,t)}))}};else{if(!(e instanceof Xo))return pr();n={verify:Ji(t,e.key)}}return e.je.We||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Qi(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:pr()}(t,e.je)),n}function uo(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Mo.updateTime(Zi(t.updateTime)):void 0!==t.exists?Mo.exists(t.exists):Mo.Ge()}(e.currentDocument):Mo.Ge();if(e.update){var r=to(t,e.update.name),i=new Jo({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Po((t.fieldPaths||[]).map((function(t){return Rr.U(t)})))}(e.updateMask);return new $o(r,i,o,n)}return new Go(r,i,n)}if(e.delete){var s=to(t,e.delete);return new Yo(s,n)}if(e.transform){var u=to(t,e.transform.document),a=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(gr("REQUEST_TIME"===e.setToServerValue),n=new Oo):"appendMissingElements"in e?n=new So(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Ao(e.removeAllFromArray.values||[]):"increment"in e?n=new jo(t,e.increment):pr();var r=Rr.U(e.fieldPath);return new Do(r,n)}(t,e)}));return gr(!0===n.exists),new Wo(u,a)}if(e.verify){var c=to(t,e.verify);return new Xo(c,n)}return pr()}function ao(t,e){return{documents:[eo(t,e.path)]}}function co(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=eo(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=eo(t,r.S()),n.structuredQuery.from=[{collectionId:r.C()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Ui(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NAN"}};if(Vi(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ui(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NAN"}};if(Vi(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(t.field),op:go(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:vo(t.field),direction:po(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Ue||Dr(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=ho(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ho(e.endAt)),n}function lo(t){var e=no(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){gr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[bo(e)]:void 0!==e.fieldFilter?[mo(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):pr():[]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(t){return function(t){return new Ms(yo(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var a=null;n.limit&&(a=function(t){var e;return Dr(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=fo(n.startAt));var l=null;return n.endAt&&(l=fo(n.endAt)),us(e,i,u,s,a,"F",c,l)}function ho(t){return{before:t.before,values:t.position}}function fo(t){return new Rs(t.values||[],!!t.before)}function po(t){return qi[t]}function go(t){return zi[t]}function vo(t){return{fieldPath:t.M()}}function yo(t){return Rr.U(t.fieldPath)}function mo(t){return Ts.create(yo(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return pr()}}(t.fieldFilter.op),t.fieldFilter.value)}function bo(t){switch(t.unaryFilter.op){case"IS_NAN":var e=yo(t.unaryFilter.field);return Ts.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=yo(t.unaryFilter.field);return Ts.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=yo(t.unaryFilter.field);return Ts.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=yo(t.unaryFilter.field);return Ts.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return pr()}}function wo(t){var e=[];return t.fields.forEach((function(t){return e.push(t.M())})),{fieldPaths:e}}function _o(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Eo=function(){this.ze=void 0};function Io(t,e,n){return t instanceof Oo?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof So?Co(t,e):t instanceof Ao?ko(t,e):function(t,e){var n=xo(t,e),r=No(n)+No(t.Ke);return Li(n)&&Li(t.Ke)?Bi(r):Gi(t.serializer,r)}(t,e)}function To(t,e,n){return t instanceof So?Co(t,e):t instanceof Ao?ko(t,e):n}function xo(t,e){return t instanceof jo?Li(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Oo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e}(Eo),So=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(r.c)(e,t),e}(Eo);function Co(t,e){for(var n=Ro(e),r=function(t){n.some((function(e){return Si(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ao=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(r.c)(e,t),e}(Eo);function ko(t,e){for(var n=Ro(e),r=function(t){n=n.filter((function(e){return!Si(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var jo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.Ke=n,r}return Object(r.c)(e,t),e}(Eo);function No(t){return Ri(t.integerValue||t.doubleValue)}function Ro(t){return Mi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Po=function(){function t(t){this.fields=t,t.sort(Rr.V)}return t.prototype.He=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].N(t))return!0;return!1},t.prototype.isEqual=function(t){return wr(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Do=function(t,e){this.field=t,this.transform=e},Lo=function(t,e){this.version=t,this.transformResults=e},Mo=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Ge=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"We",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Vo(t,e){return void 0!==t.updateTime?e instanceof rs&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof rs}var Uo=function(){};function Fo(t,e,n){return t instanceof Go?function(t,e,n){return new rs(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof $o?function(t,e,n){if(!Vo(t.je,e))return new os(t.key,n.version);var r=Ko(t,e);return new rs(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Wo?function(t,e,n){if(gr(null!=n.transformResults),!Vo(t.je,e))return new os(t.key,n.version);var r=Qo(0,e),i=function(t,e,n){var r=[];gr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof rs&&(u=e.field(o.field)),r.push(To(s,u,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=Zo(t,r.data(),i);return new rs(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new is(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function qo(t,e,n,r){return t instanceof Go?function(t,e){if(!Vo(t.je,e))return e;var n=Bo(e);return new rs(t.key,n,t.value,{Je:!0})}(t,e):t instanceof $o?function(t,e){if(!Vo(t.je,e))return e;var n=Bo(e),r=Ko(t,e);return new rs(t.key,n,r,{Je:!0})}(t,e):t instanceof Wo?function(t,e,n,r){if(!Vo(t.je,e))return e;var i=Qo(0,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var u=s[o],a=u.transform,c=null;n instanceof rs&&(c=n.field(u.field)),null===c&&r instanceof rs&&(c=r.field(u.field)),i.push(Io(a,c,e))}return i}(t.fieldTransforms,n,e,r),s=Zo(t,i.data(),o);return new rs(t.key,i.version,s,{Je:!0})}(t,e,r,n):function(t,e){return Vo(t.je,e)?new is(t.key,Ar.min()):e}(t,e)}function zo(t,e){return t instanceof Wo?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof rs?e.field(o.field):void 0,u=xo(o.transform,s||null);null!=u&&(n=null==n?(new ts).set(o.field,u):n.set(o.field,u))}return n?n.Ye():null}(t,e):null}function Ho(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.je.isEqual(e.je)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||wr(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof So&&e instanceof So||t instanceof Ao&&e instanceof Ao?wr(t.elements,e.elements,Si):t instanceof jo&&e instanceof jo?Si(t.Ke,e.Ke):t instanceof Oo&&e instanceof Oo}(t.transform,e.transform)}(t,e)})))}function Bo(t){return t instanceof rs?t.version:Ar.min()}var Go=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.je=r,i.type=0,i}return Object(r.c)(e,t),e}(Uo),$o=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Qe=r,o.je=i,o.type=1,o}return Object(r.c)(e,t),e}(Uo);function Ko(t,e){return function(t,e){var n=new ts(e);return t.Qe.fields.forEach((function(e){if(!e.T()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Ye()}(t,e instanceof rs?e.data():Jo.empty())}var Wo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.je=Mo.exists(!0),r}return Object(r.c)(e,t),e}(Uo);function Qo(t,e){return e}function Zo(t,e,n){for(var r=new ts(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Ye()}var Yo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.je=n,r.type=3,r}return Object(r.c)(e,t),e}(Uo),Xo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.je=n,r.type=4,r}return Object(r.c)(e,t),e}(Uo),Jo=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.T())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Fi(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.C()])||null},t.prototype.isEqual=function(t){return Si(this.proto,t.proto)},t}(),ts=function(){function t(t){void 0===t&&(t=Jo.empty()),this.Xe=t,this.Ze=new Map}return t.prototype.set=function(t,e){return this.tn(t,e),this},t.prototype.delete=function(t){return this.tn(t,null),this},t.prototype.tn=function(t,e){for(var n=this.Ze,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Oi(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.C(),e)},t.prototype.Ye=function(){var t=this.en(Rr.$(),this.Ze);return null!=t?new Jo(t):this.Xe},t.prototype.en=function(t,e){var n=this,r=!1,i=this.Xe.field(t),o=Fi(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.en(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function es(t){var e=[];return Ir(t.fields||{},(function(t,n){var r=new Rr([t]);if(Fi(n)){var i=es(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Po(e)}var ns=function(t,e){this.key=t,this.version=e},rs=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).nn=r,o.Je=!!i.Je,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(r.c)(e,t),e.prototype.field=function(t){return this.nn.field(t)},e.prototype.data=function(){return this.nn},e.prototype.sn=function(){return this.nn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.nn.isEqual(t.nn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.nn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(ns),is=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(r.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ns),os=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ns),ss=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.rn=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.on=null,this.an=null};function us(t,e,n,r,i,o,s,u){return new ss(t,e,n,r,i,o,s,u)}function as(t){return new ss(t)}function cs(t){return!Dr(t.limit)&&"F"===t.limitType}function ls(t){return!Dr(t.limit)&&"L"===t.limitType}function hs(t){return t.rn.length>0?t.rn[0].field:null}function fs(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.cn())return r.field}return null}function ds(t){return null!==t.collectionGroup}function ps(t){var e=vr(t);if(null===e.on){e.on=[];var n=fs(e),r=hs(e);if(null!==n&&null===r)n.B()||e.on.push(new Ms(n)),e.on.push(new Ms(Rr.q(),"asc"));else{for(var i=!1,o=0,s=e.rn;o<s.length;o++){var u=s[o];e.on.push(u),u.field.B()&&(i=!0)}if(!i){var a=e.rn.length>0?e.rn[e.rn.length-1].dir:"asc";e.on.push(new Ms(Rr.q(),a))}}}return e.on}function gs(t){var e=vr(t);if(!e.an)if("F"===e.limitType)e.an=Ur(e.path,e.collectionGroup,ps(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=ps(e);r<i.length;r++){var o=i[r];n.push(new Ms(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Rs(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Rs(e.startAt.position,!e.startAt.before):null;e.an=Ur(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.an}function vs(t,e,n){return new ss(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ys(t,e){return new ss(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}function ms(t,e){return new ss(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}function bs(t,e){return qr(gs(t),gs(e))&&t.limitType===e.limitType}function ws(t){return Fr(gs(t))+"|lt:"+t.limitType}function _s(t){return"Query(target="+function(t){var e=t.path.M();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.M()+" "+e.op+" "+ji(e.value);var e})).join(", ")+"]"),Dr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.M()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ps(t.startAt)),t.endAt&&(e+=", endAt: "+Ps(t.endAt)),"Target("+e+")"}(gs(t))+"; limitType="+t.limitType+")"}function Es(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.j(t.collectionGroup)&&t.path.N(n):Pr.G(t.path)?t.path.isEqual(n):t.path.F(n)}(t,e)&&function(t,e){for(var n=0,r=t.rn;n<r.length;n++){var i=r[n];if(!i.field.B()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Ds(t.startAt,ps(t),e)||t.endAt&&Ds(t.endAt,ps(t),e))}(t,e)}function Is(t){return function(e,n){for(var r=!1,i=0,o=ps(t);i<o.length;i++){var s=o[i],u=Vs(s,e,n);if(0!==u)return u;r=r||s.field.B()}return 0}}var Ts=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(r.c)(e,t),e.create=function(t,n,r){return t.B()?"in"===n||"not-in"===n?this.un(t,n,r):new xs(t,n,r):"array-contains"===n?new As(t,r):"in"===n?new ks(t,r):"not-in"===n?new js(t,r):"array-contains-any"===n?new Ns(t,r):new e(t,n,r)},e.un=function(t,e,n){return"in"===e?new Os(t,n):new Ss(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.hn(Ai(e,this.value)):null!==e&&Oi(this.value)===Oi(e)&&this.hn(Ai(e,this.value))},e.prototype.hn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return pr()}},e.prototype.cn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),xs=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Pr.W(r.referenceValue),i}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=Pr.V(t.key,this.key);return this.hn(e)},e}(Ts),Os=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Cs(0,n),r}return Object(r.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ts),Ss=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Cs(0,n),r}return Object(r.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ts);function Cs(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Pr.W(t.referenceValue)}))}var As=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Mi(e)&&Ci(e.arrayValue,this.value)},e}(Ts),ks=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Ci(this.value.arrayValue,e)},e}(Ts),js=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){if(Ci(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Ci(this.value.arrayValue,e)},e}(Ts),Ns=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Mi(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Ci(e.value.arrayValue,t)}))},e}(Ts),Rs=function(t,e){this.position=t,this.before=e};function Ps(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return ji(t)})).join(",")}function Ds(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.B()?Pr.V(Pr.W(s.referenceValue),n.key):Ai(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ls(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Si(t.position[n],e.position[n]))return!1;return!0}var Ms=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Vs(t,e,n){var r=t.field.B()?Pr.V(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Ai(r,i):pr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pr()}}function Us(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Fs=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},qs=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.ln=t,this._n=e,this.fn=n,this.dn=r,this.wn=i,this.Tn=0,this.En=null,this.In=Date.now(),this.reset()}return t.prototype.reset=function(){this.Tn=0},t.prototype.mn=function(){this.Tn=this.wn},t.prototype.An=function(t){var e=this;this.cancel();var n=Math.floor(this.Tn+this.Rn()),r=Math.max(0,Date.now()-this.In),i=Math.max(0,n-r);i>0&&lr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Tn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.En=this.ln.Pn(this._n,i,(function(){return e.In=Date.now(),t()})),this.Tn*=this.dn,this.Tn<this.fn&&(this.Tn=this.fn),this.Tn>this.wn&&(this.Tn=this.wn)},t.prototype.gn=function(){null!==this.En&&(this.En.Vn(),this.En=null)},t.prototype.cancel=function(){null!==this.En&&(this.En.cancel(),this.En=null)},t.prototype.Rn=function(){return(Math.random()-.5)*this.Tn},t}(),zs=function(){function t(t){var e=this;this.yn=null,this.pn=null,this.result=void 0,this.error=void 0,this.vn=!1,this.bn=!1,t((function(t){e.vn=!0,e.result=t,e.yn&&e.yn(t)}),(function(t){e.vn=!0,e.error=t,e.pn&&e.pn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.bn&&pr(),this.bn=!0,this.vn?this.error?this.Sn(n,this.error):this.Dn(e,this.result):new t((function(t,i){r.yn=function(n){r.Dn(e,n).next(t,i)},r.pn=function(e){r.Sn(n,e).next(t,i)}}))},t.prototype.Cn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Nn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Dn=function(e,n){return e?this.Nn((function(){return e(n)})):t.resolve(n)},t.prototype.Sn=function(e,n){return e?this.Nn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.xn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Fn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.xn(r)},t}(),Hs=function(){function t(e,n,r){this.name=e,this.version=n,this.On=r,12.2===t.Mn(Object(s.g)())&&hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return lr("SimpleDb","Removing database:",t),Qs(window.indexedDB.deleteDatabase(t)).Cn()},t.kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.$n())return!0;var e=Object(s.g)(),n=t.Mn(e),r=0<n&&n<10,i=t.Ln(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.$n=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Bn)},t.qn=function(t,e){return t.store(e)},t.Mn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Ln=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Un=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(lr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Gs(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Sr(Or.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Gs(t,n))},i.onupgradeneeded=function(t){lr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.On.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){lr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Qn&&(this.db.onversionchange=function(t){return n.Qn(t)}),this.db)]}}))}))},t.prototype.Kn=function(t){this.Qn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,s,u,a,c;return Object(r.d)(this,(function(l){switch(l.label){case 0:o="readonly"===e,s=0,u=function(){var e,u,c,l,h;return Object(r.d)(this,(function(r){switch(r.label){case 0:++s,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,a.Un(t)];case 2:return a.db=r.sent(),e=Ks.open(a.db,t,o?"readonly":"readwrite",n),u=i(e).catch((function(t){return e.abort(t),zs.reject(t)})).Cn(),c={},u.catch((function(){})),[4,e.Wn];case 3:return[2,(c.value=(r.sent(),u),c)];case 4:return lr("SimpleDb","Transaction failed with error:",(l=r.sent()).message,"Retrying:",h="FirebaseError"!==l.name&&s<3),a.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},a=this,l.label=1;case 1:return[5,u()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Bs=function(){function t(t){this.jn=t,this.Gn=!1,this.zn=null}return Object.defineProperty(t.prototype,"vn",{get:function(){return this.Gn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Hn",{get:function(){return this.zn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.jn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Gn=!0},t.prototype.Jn=function(t){this.zn=t},t.prototype.delete=function(){return Qs(this.jn.delete())},t}(),Gs=function(t){function e(e,n){var r=this;return(r=t.call(this,Or.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(r.c)(e,t),e}(Sr);function $s(t){return"IndexedDbTransactionError"===t.name}var Ks=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Yn=new Fs,this.transaction.oncomplete=function(){n.Yn.resolve()},this.transaction.onabort=function(){e.error?n.Yn.reject(new Gs(t,e.error)):n.Yn.resolve()},this.transaction.onerror=function(e){var r=Ys(e.target.error);n.Yn.reject(new Gs(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Gs(n,e)}},Object.defineProperty(t.prototype,"Wn",{get:function(){return this.Yn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Yn.reject(t),this.aborted||(lr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Ws(e)},t}(),Ws=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(lr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(lr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Qs(n)},t.prototype.add=function(t){return lr("SimpleDb","ADD",this.store.name,t,t),Qs(this.store.add(t))},t.prototype.get=function(t){var e=this;return Qs(this.store.get(t)).next((function(n){return void 0===n&&(n=null),lr("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return lr("SimpleDb","DELETE",this.store.name,t),Qs(this.store.delete(t))},t.prototype.count=function(){return lr("SimpleDb","COUNT",this.store.name),Qs(this.store.count())},t.prototype.Xn=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Zn(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.ts=function(t,e){lr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.es=!1;var r=this.cursor(n);return this.Zn(r,(function(t,e,n){return n.delete()}))},t.prototype.ns=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Zn(r,e)},t.prototype.ss=function(t){var e=this.cursor({});return new zs((function(n,r){e.onerror=function(t){var e=Ys(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Zn=function(t,e){var n=[];return new zs((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Bs(i),s=e(i.primaryKey,i.value,o);if(s instanceof zs){var u=s.catch((function(t){return o.done(),zs.reject(t)}));n.push(u)}o.vn?r():null===o.Hn?i.continue():i.continue(o.Hn)}else r()}})).next((function(){return zs.xn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.es?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Qs(t){return new zs((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Ys(t.target.error);n(e)}}))}var Zs=!1;function Ys(t){var e=Hs.Mn(Object(s.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Sr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Zs||(Zs=!0,setTimeout((function(){throw r}),0)),r}}return t}function Xs(){return"undefined"!=typeof window?window:null}function Js(){return"undefined"!=typeof document?document:null}var tu=function(){function t(t,e,n,r,i){this.rs=t,this._n=e,this.os=n,this.op=r,this.cs=i,this.us=new Fs,this.then=this.us.promise.then.bind(this.us.promise),this.us.promise.catch((function(t){}))}return t.hs=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.ls=setTimeout((function(){return e._s()}),t)},t.prototype.Vn=function(){return this._s()},t.prototype.cancel=function(t){null!==this.ls&&(this.clearTimeout(),this.us.reject(new Sr(Or.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype._s=function(){var t=this;this.rs.fs((function(){return null!==t.ls?(t.clearTimeout(),t.op().then((function(e){return t.us.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.ls&&(this.cs(this),clearTimeout(this.ls),this.ls=null)},t}(),eu=function(){function t(){var t=this;this.ds=Promise.resolve(),this.ws=[],this.Ts=!1,this.Es=[],this.Is=null,this.As=!1,this.Rs=[],this.Ps=new qs(this,"async_queue_retry"),this.gs=function(){var e=Js();e&&lr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Ps.gn()};var e=Js();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.gs)}return Object.defineProperty(t.prototype,"Vs",{get:function(){return this.Ts},enumerable:!1,configurable:!0}),t.prototype.fs=function(t){this.enqueue(t)},t.prototype.ys=function(t){this.ps(),this.vs(t)},t.prototype.bs=function(){if(!this.Ts){this.Ts=!0;var t=Js();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.gs)}},t.prototype.enqueue=function(t){return this.ps(),this.Ts?new Promise((function(t){})):this.vs(t)},t.prototype.Ss=function(t){var e=this;this.fs((function(){return e.ws.push(t),e.Ds()}))},t.prototype.Ds=function(){return Object(r.b)(this,void 0,void 0,(function(){var t,e=this;return Object(r.d)(this,(function(n){switch(n.label){case 0:if(0===this.ws.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.ws[0]()];case 2:return n.sent(),this.ws.shift(),this.Ps.reset(),[3,4];case 3:if(!$s(t=n.sent()))throw t;return lr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.ws.length>0&&this.Ps.An((function(){return e.Ds()})),n.label=5;case 5:return[2]}}))}))},t.prototype.vs=function(t){var e=this,n=this.ds.then((function(){return e.As=!0,t().catch((function(t){throw e.Is=t,e.As=!1,hr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.As=!1,t}))}));return this.ds=n,n},t.prototype.Pn=function(t,e,n){var r=this;this.ps(),this.Rs.indexOf(t)>-1&&(e=0);var i=tu.hs(this,t,e,n,(function(t){return r.Cs(t)}));return this.Es.push(i),i},t.prototype.ps=function(){this.Is&&pr()},t.prototype.Ns=function(){},t.prototype.xs=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.ds];case 1:e.sent(),e.label=2;case 2:if(t!==this.ds)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Fs=function(t){for(var e=0,n=this.Es;e<n.length;e++)if(n[e]._n===t)return!0;return!1},t.prototype.Os=function(t){var e=this;return this.xs().then((function(){e.Es.sort((function(t,e){return t.os-e.os}));for(var n=0,r=e.Es;n<r.length;n++){var i=r[n];if(i.Vn(),"all"!==t&&i._n===t)break}return e.xs()}))},t.prototype.Ms=function(t){this.Rs.push(t)},t.prototype.Cs=function(t){var e=this.Es.indexOf(t);this.Es.splice(e,1)},t}();function nu(t,e){if(hr("AsyncQueue",e+": "+t),$s(t))return new Sr(Or.UNAVAILABLE,e+": "+t);throw t}var ru=function(){this.ks=void 0,this.listeners=[]},iu=function(){this.queries=new xr((function(t){return ws(t)}),bs),this.onlineState="Unknown",this.$s=new Set};function ou(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,u,a,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:if(n=vr(t),o=!1,(s=n.queries.get(i=e.query))||(o=!0,s=new ru),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),u=s,[4,n.Ls(i)];case 2:return u.ks=r.sent(),[3,4];case 3:return a=r.sent(),c=nu(a,"Initialization of query '"+_s(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(i,s),s.listeners.push(e),e.Bs(n.onlineState),s.ks&&e.qs(s.ks)&&cu(n),[2]}}))}))}function su(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,u;return Object(r.d)(this,(function(r){return n=vr(t),o=!1,(s=n.queries.get(i=e.query))&&(u=s.listeners.indexOf(e))>=0&&(s.listeners.splice(u,1),o=0===s.listeners.length),o?[2,(n.queries.delete(i),n.Us(i))]:[2]}))}))}function uu(t,e){for(var n=vr(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=n.queries.get(s.query);if(u){for(var a=0,c=u.listeners;a<c.length;a++)c[a].qs(s)&&(r=!0);u.ks=s}}r&&cu(n)}function au(t,e,n){var r=vr(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function cu(t){t.$s.forEach((function(t){t.next()}))}var lu=function(){function t(t,e,n){this.query=t,this.Qs=e,this.Ks=!1,this.Ws=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new di(t.query,t.docs,t.Ut,e,t.Qt,t.fromCache,t.Kt,!0)}var o=!1;return this.Ks?this.js(t)&&(this.Qs.next(t),o=!0):this.Gs(t,this.onlineState)&&(this.zs(t),o=!0),this.Ws=t,o},t.prototype.onError=function(t){this.Qs.error(t)},t.prototype.Bs=function(t){this.onlineState=t;var e=!1;return this.Ws&&!this.Ks&&this.Gs(this.Ws,t)&&(this.zs(this.Ws),e=!0),e},t.prototype.Gs=function(t,e){return!t.fromCache||!(this.options.Hs&&"Offline"!==e||t.docs.T()&&"Offline"!==e)},t.prototype.js=function(t){return t.docChanges.length>0||!!(t.Kt||this.Ws&&this.Ws.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.zs=function(t){t=di.jt(t.query,t.docs,t.Qt,t.fromCache),this.Ks=!0,this.Qs.next(t)},t}(),hu=function(){function t(t){this.uid=t}return t.prototype.Js=function(){return null!=this.uid},t.prototype.Ys=function(){return this.Js()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();hu.UNAUTHENTICATED=new hu(null),hu.Xs=new hu("google-credentials-uid"),hu.Zs=new hu("first-party-uid");var fu=function(t,e){this.user=e,this.type="OAuth",this.ti={},this.ti.Authorization="Bearer "+t},du=function(){function t(){this.ei=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.ni=function(){},t.prototype.si=function(t){this.ei=t,t(hu.UNAUTHENTICATED)},t.prototype.ii=function(){this.ei=null},t}(),pu=function(){function t(t){var e=this;this.ri=null,this.currentUser=hu.UNAUTHENTICATED,this.oi=!1,this.ai=0,this.ei=null,this.forceRefresh=!1,this.ri=function(){e.ai++,e.currentUser=e.ci(),e.oi=!0,e.ei&&e.ei(e.currentUser)},this.ai=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.ri):(this.ri(null),t.get().then((function(t){e.auth=t,e.ri&&e.auth.addAuthTokenListener(e.ri)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.ai,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.ai!==e?(lr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(gr("string"==typeof n.accessToken),new fu(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.ni=function(){this.forceRefresh=!0},t.prototype.si=function(t){this.ei=t,this.oi&&t(this.currentUser)},t.prototype.ii=function(){this.auth&&this.auth.removeAuthTokenListener(this.ri),this.ri=null,this.ei=null},t.prototype.ci=function(){var t=this.auth&&this.auth.getUid();return gr(null===t||"string"==typeof t),new hu(t)},t}(),gu=function(){function t(t,e){this.ui=t,this.hi=e,this.type="FirstParty",this.user=hu.Zs}return Object.defineProperty(t.prototype,"ti",{get:function(){var t={"X-Goog-AuthUser":this.hi},e=this.ui.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),vu=function(){function t(t,e){this.ui=t,this.hi=e}return t.prototype.getToken=function(){return Promise.resolve(new gu(this.ui,this.hi))},t.prototype.si=function(t){t(hu.Zs)},t.prototype.ii=function(){},t.prototype.ni=function(){},t}(),yu=function(){function t(t,e,n,r){this.batchId=t,this.li=e,this.baseMutations=n,this.mutations=r}return t.prototype._i=function(t,e,n){for(var r=n.fi,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Fo(o,e,r[i]))}return e},t.prototype.di=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=qo(i,e,e,this.li))}for(var o=e,s=0,u=this.mutations;s<u.length;s++){var a=u[s];a.key.isEqual(t)&&(e=qo(a,e,o,this.li))}return e},t.prototype.wi=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.di(r.key,t.get(r.key));i&&(n=n.rt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ai())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&wr(this.mutations,t.mutations,(function(t,e){return Ho(t,e)}))&&wr(this.baseMutations,t.baseMutations,(function(t,e){return Ho(t,e)}))},t}(),mu=function(){function t(t,e,n,r){this.batch=t,this.Ti=e,this.fi=n,this.Ei=r}return t.from=function(e,n,r){gr(e.mutations.length===r.length);for(var i=si,o=e.mutations,s=0;s<o.length;s++)i=i.rt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),bu=function(){function t(){this.Ii=new xr((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.mi=!1}return t.prototype.Ai=function(t){var e=this.Ii.get(t);return e?e.readTime:Ar.min()},t.prototype.Ri=function(t,e){this.Pi(),this.Ii.set(t.key,{gi:t,readTime:e})},t.prototype.Vi=function(t,e){void 0===e&&(e=null),this.Pi(),this.Ii.set(t,{gi:null,readTime:e})},t.prototype.yi=function(t,e){this.Pi();var n=this.Ii.get(e);return void 0!==n?zs.resolve(n.gi):this.pi(t,e)},t.prototype.getEntries=function(t,e){return this.vi(t,e)},t.prototype.apply=function(t){return this.Pi(),this.mi=!0,this.bi(t)},t.prototype.Pi=function(){},t}();function wu(t){return new Hi(t,!0)}function _u(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Eu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Iu=function(){function t(){this.Si=[]}return t.prototype.Di=function(t){this.Si.push(t)},t.prototype.Ci=function(){this.Si.forEach((function(t){return t()}))},t}(),Tu=function(){function t(t,e,n){this.Ni=t,this.xi=e,this.Fi=n}return t.prototype.Oi=function(t,e){var n=this;return this.xi.Mi(t,e).next((function(r){return n.ki(t,e,r)}))},t.prototype.ki=function(t,e,n){return this.Ni.yi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].di(e,t);return t}))},t.prototype.$i=function(t,e,n){var r=ri();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].di(t,e);r=r.rt(t,e)})),r},t.prototype.Li=function(t,e){var n=this;return this.Ni.getEntries(t,e).next((function(e){return n.Bi(t,e)}))},t.prototype.Bi=function(t,e){var n=this;return this.xi.qi(t,e).next((function(r){var i=n.$i(t,e,r),o=ni();return i.forEach((function(t,e){e||(e=new is(t,Ar.min())),o=o.rt(t,e)})),o}))},t.prototype.Ui=function(t,e,n){return function(t){return Pr.G(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Qi(t,e.path):ds(e)?this.Ki(t,e,n):this.Wi(t,e,n)},t.prototype.Qi=function(t,e){return this.Oi(t,new Pr(e)).next((function(t){var e=oi();return t instanceof rs&&(e=e.rt(t.key,t)),e}))},t.prototype.Ki=function(t,e,n){var r=this,i=e.collectionGroup,o=oi();return this.Fi.ji(t,i).next((function(s){return zs.forEach(s,(function(s){var u=function(t,e){return new ss(e,null,t.rn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.Wi(t,u,n).next((function(t){t.forEach((function(t,e){o=o.rt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Wi=function(t,e,n){var r,i,o=this;return this.Ni.Ui(t,e,n).next((function(n){return r=n,o.xi.Gi(t,e)})).next((function(e){return o.zi(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,l=r.get(c),h=qo(a,l,l,o.li);r=h instanceof rs?r.rt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Es(e,n)||(r=r.remove(t))})),r}))},t.prototype.zi=function(t,e,n){for(var r=ai(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof $o&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.Ni.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof rs&&(c=c.rt(t,e))})),c}))},t}(),xu=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Hi=n,this.Ji=r}return t.Yi=function(e,n){for(var r=ai(),i=ai(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Ou=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.Xi=function(t){return n.Zi(t)},this.tr=function(t){return e.er(t)})}return t.prototype.Zi=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.tr&&this.tr(t),t},t}();function Su(t,e){var n=t[1],r=e[1],i=br(t[0],e[0]);return 0===i?br(n,r):i}Ou.nr=-1;var Cu=function(){function t(t){this.sr=t,this.buffer=new Jr(Su),this.ir=0}return t.prototype.rr=function(){return++this.ir},t.prototype.ar=function(t){var e=[t,this.rr()];if(this.buffer.size<this.sr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Su(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Au={cr:!1,ur:0,hr:0,lr:0},ku=function(){function t(t,e,n){this._r=t,this.dr=e,this.wr=n}return t.Tr=function(e){return new t(e,t.Er,t.Ir)},t}();ku.Er=10,ku.Ir=1e3,ku.mr=new ku(41943040,ku.Er,ku.Ir),ku.Ar=new ku(-1,0,0);var ju=function(){function t(t,e){this.Rr=t,this.rs=e,this.Pr=!1,this.gr=null}return t.prototype.start=function(t){-1!==this.Rr.params._r&&this.Vr(t)},t.prototype.stop=function(){this.gr&&(this.gr.cancel(),this.gr=null)},Object.defineProperty(t.prototype,"yr",{get:function(){return null!==this.gr},enumerable:!1,configurable:!0}),t.prototype.Vr=function(t){var e=this,n=this.Pr?3e5:6e4;lr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.gr=this.rs.Pn("lru_garbage_collection",n,(function(){return Object(r.b)(e,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:this.gr=null,this.Pr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.pr(this.Rr)];case 2:return n.sent(),[3,7];case 3:return $s(e=n.sent())?(lr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ic(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Vr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Nu=function(){function t(t,e){this.vr=t,this.params=e}return t.prototype.br=function(t,e){return this.vr.Sr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Dr=function(t,e){var n=this;if(0===e)return zs.resolve(Ou.nr);var r=new Cu(e);return this.vr.De(t,(function(t){return r.ar(t.sequenceNumber)})).next((function(){return n.vr.Cr(t,(function(t){return r.ar(t)}))})).next((function(){return r.maxValue}))},t.prototype.Nr=function(t,e,n){return this.vr.Nr(t,e,n)},t.prototype.Fr=function(t,e){return this.vr.Fr(t,e)},t.prototype.Or=function(t,e){var n=this;return-1===this.params._r?(lr("LruGarbageCollector","Garbage collection skipped; disabled"),zs.resolve(Au)):this.Mr(t).next((function(r){return r<n.params._r?(lr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params._r),Au):n.kr(t,e)}))},t.prototype.Mr=function(t){return this.vr.Mr(t)},t.prototype.kr=function(t,e){var n,r,i,s,u,a,c,l=this,h=Date.now();return this.br(t,this.params.dr).next((function(e){return e>l.params.wr?(lr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.wr+" from "+e),r=l.params.wr):r=e,s=Date.now(),l.Dr(t,r)})).next((function(r){return n=r,u=Date.now(),l.Nr(t,n,e)})).next((function(e){return i=e,a=Date.now(),l.Fr(t,n)})).next((function(t){return c=Date.now(),cr()<=o.a.DEBUG&&lr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-h)+"ms\n\tDetermined least recently used "+r+" in "+(u-s)+"ms\n\tRemoved "+i+" targets in "+(a-u)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-h)+"ms"),zs.resolve({cr:!0,ur:r,hr:i,lr:t})}))},t}();function Ru(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Du(e)),e=Pu(t.get(n),e);return Du(e)}function Pu(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Du(t){return t+"\x01\x01"}function Lu(t){var e=t.length;if(gr(e>=2),2===e)return gr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),jr.$();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&pr(),t.charAt(s+1)){case"\x01":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:pr()}o=s+2}return new jr(r)}var Mu=function(t){this.$r=t};function Vu(t,e){if(e.document)return function(t,e,n){var r=to(t,e.name),i=Zi(e.updateTime),o=new Jo({mapValue:{fields:e.fields}});return new rs(r,i,o,{hasCommittedMutations:!!n})}(t.$r,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Pr.H(e.noDocument.path),r=Hu(e.noDocument.readTime);return new is(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Pr.H(e.unknownDocument.path),o=Hu(e.unknownDocument.version);return new os(i,o)}return pr()}function Uu(t,e,n){var r=Fu(n),i=e.key.path.S().O();if(e instanceof rs){var o=function(t,e){return{name:Ji(t,e.key),fields:e.sn().mapValue.fields,updateTime:Ki(t,e.version.P())}}(t.$r,e);return new va(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof is){var s=e.key.path.O(),u=zu(e.version),a=e.hasCommittedMutations;return new va(null,new pa(s,u),null,a,r,i)}if(e instanceof os){var c=e.key.path.O(),l=zu(e.version);return new va(new ga(c,l),null,null,!0,r,i)}return pr()}function Fu(t){var e=t.P();return[e.seconds,e.nanoseconds]}function qu(t){var e=new Cr(t[0],t[1]);return Ar.m(e)}function zu(t){var e=t.P();return new ca(e.seconds,e.nanoseconds)}function Hu(t){var e=new Cr(t.seconds,t.nanoseconds);return Ar.m(e)}function Bu(t,e){var n=(e.baseMutations||[]).map((function(e){return uo(t.$r,e)})),r=e.mutations.map((function(e){return uo(t.$r,e)})),i=Cr.fromMillis(e.localWriteTimeMs);return new yu(e.batchId,i,n,r)}function Gu(t){var e,n,r=Hu(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Hu(t.lastLimboFreeSnapshotVersion):Ar.min();return void 0!==t.query.documents?(gr(1===(n=t.query).documents.length),e=gs(as(no(n.documents[0])))):e=function(t){return gs(lo(t))}(t.query),new $r(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Hr.fromBase64String(t.resumeToken))}function $u(t,e){var n,r=zu(e.et),i=zu(e.lastLimboFreeSnapshotVersion);n=zr(e.target)?ao(t.$r,e.target):co(t.$r,e.target);var o=e.resumeToken.toBase64();return new ma(e.targetId,Fr(e.target),r,o,e.sequenceNumber,i,n)}function Ku(t){var e=lo({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?vs(e,e.limit,"L"):e}var Wu=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Fi=n,this.Lr=r,this.Br={}}return t.qr=function(e,n,r,i){return gr(""!==e.uid),new t(e.Js()?e.uid:"",n,r,i)},t.prototype.Ur=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yu(t).ns({index:fa.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Qr=function(t,e,n,r){var i=this,o=Xu(t),s=Yu(t);return s.add({}).next((function(u){gr("number"==typeof u);for(var a=new yu(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return so(t.$r,e)})),i=n.mutations.map((function(e){return so(t.$r,e)}));return new fa(e,n.batchId,n.li.toMillis(),r,i)}(i.serializer,i.userId,a),l=[],h=new Jr((function(t,e){return br(t.M(),e.M())})),f=0,d=r;f<d.length;f++){var p=d[f],g=da.key(i.userId,p.key.path,u);h=h.add(p.key.path.S()),l.push(s.put(c)),l.push(o.put(g,da.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Fi.Kr(t,e))})),t.Di((function(){i.Br[u]=a.keys()})),zs.xn(l).next((function(){return a}))}))},t.prototype.Wr=function(t,e){var n=this;return Yu(t).get(e).next((function(t){return t?(gr(t.userId===n.userId),Bu(n.serializer,t)):null}))},t.prototype.jr=function(t,e){var n=this;return this.Br[e]?zs.resolve(this.Br[e]):this.Wr(t,e).next((function(t){if(t){var r=t.keys();return n.Br[e]=r,r}return null}))},t.prototype.Gr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Yu(t).ns({index:fa.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(gr(e.batchId>=r),o=Bu(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.zr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Yu(t).ns({index:fa.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Hr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yu(t).Xn(fa.userMutationsIndex,n).next((function(t){return t.map((function(t){return Bu(e.serializer,t)}))}))},t.prototype.Mi=function(t,e){var n=this,r=da.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Xu(t).ns({range:i},(function(r,i,s){var u=r[0],a=r[2],c=Lu(r[1]);if(u===n.userId&&e.path.isEqual(c))return Yu(t).get(a).next((function(t){if(!t)throw pr();gr(t.userId===n.userId),o.push(Bu(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.qi=function(t,e){var n=this,r=new Jr(br),i=[];return e.forEach((function(e){var o=da.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=Xu(t).ns({range:s},(function(t,i,o){var s=t[0],u=t[2],a=Lu(t[1]);s===n.userId&&e.path.isEqual(a)?r=r.add(u):o.done()}));i.push(u)})),zs.xn(i).next((function(){return n.Jr(t,r)}))},t.prototype.Gi=function(t,e){var n=this,r=e.path,i=r.length+1,o=da.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new Jr(br);return Xu(t).ns({range:s},(function(t,e,o){var s=t[0],a=t[2],c=Lu(t[1]);s===n.userId&&r.N(c)?c.length===i&&(u=u.add(a)):o.done()})).next((function(){return n.Jr(t,u)}))},t.prototype.Jr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Yu(t).get(e).next((function(t){if(null===t)throw pr();gr(t.userId===n.userId),r.push(Bu(n.serializer,t))})))})),zs.xn(i).next((function(){return r}))},t.prototype.Yr=function(t,e){var n=this;return Zu(t.Xr,this.userId,e).next((function(r){return t.Di((function(){n.Zr(e.batchId)})),zs.forEach(r,(function(e){return n.Lr.eo(t,e)}))}))},t.prototype.Zr=function(t){delete this.Br[t]},t.prototype.no=function(t){var e=this;return this.Ur(t).next((function(n){if(!n)return zs.resolve();var r=IDBKeyRange.lowerBound(da.prefixForUser(e.userId)),i=[];return Xu(t).ns({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Lu(t[1]);i.push(o)}else r.done()})).next((function(){gr(0===i.length)}))}))},t.prototype.so=function(t,e){return Qu(t,this.userId,e)},t.prototype.io=function(t){var e=this;return Ju(t).get(this.userId).next((function(t){return t||new ha(e.userId,-1,"")}))},t}();function Qu(t,e,n){var r=da.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Xu(t).ns({range:o,es:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Zu(t,e,n){var r=t.store(fa.store),i=t.store(da.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.ns({range:s},(function(t,e,n){return u++,n.delete()}));o.push(a.next((function(){gr(1===u)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=da.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return zs.xn(o).next((function(){return c}))}function Yu(t){return Ua.qn(t,fa.store)}function Xu(t){return Ua.qn(t,da.store)}function Ju(t){return Ua.qn(t,ha.store)}var ta=function(){function t(t,e){this.serializer=t,this.Fi=e}return t.prototype.Ri=function(t,e,n){return ra(t).put(ia(e),n)},t.prototype.Vi=function(t,e){var n=ra(t),r=ia(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.ro(t,r)}))},t.prototype.yi=function(t,e){var n=this;return ra(t).get(ia(e)).next((function(t){return n.oo(t)}))},t.prototype.ao=function(t,e){var n=this;return ra(t).get(ia(e)).next((function(t){var e=n.oo(t);return e?{gi:e,size:oa(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=ri();return this.co(t,e,(function(t,e){var i=n.oo(e);r=r.rt(t,i)})).next((function(){return r}))},t.prototype.uo=function(t,e){var n=this,r=ri(),i=new Zr(Pr.V);return this.co(t,e,(function(t,e){var o=n.oo(e);o?(r=r.rt(t,o),i=i.rt(t,oa(e))):(r=r.rt(t,null),i=i.rt(t,0))})).next((function(){return{ho:r,lo:i}}))},t.prototype.co=function(t,e,n){if(e.T())return zs.resolve();var r=IDBKeyRange.bound(e.first().path.O(),e.last().path.O()),i=e.lt(),o=i.Et();return ra(t).ns({range:r},(function(t,e,r){for(var s=Pr.H(t);o&&Pr.V(o,s)<0;)n(o,null),o=i.Et();o&&o.isEqual(s)&&(n(o,e),o=i.It()?i.Et():null),o?r.Jn(o.path.O()):r.done()})).next((function(){for(;o;)n(o,null),o=i.It()?i.Et():null}))},t.prototype.Ui=function(t,e,n){var r=this,i=oi(),o=e.path.length+1,s={};if(n.isEqual(Ar.min())){var u=e.path.O();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.O(),c=Fu(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=va.collectionReadTimeIndex}return ra(t).ns(s,(function(t,n,s){if(t.length===o){var u=Vu(r.serializer,n);e.path.N(u.key.path)?u instanceof rs&&Es(e,u)&&(i=i.rt(u.key,u)):s.done()}})).next((function(){return i}))},t.prototype._o=function(t){return new ea(this,!!t&&t.fo)},t.prototype.wo=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return na(t).get(ya.key).next((function(t){return gr(!!t),t}))},t.prototype.ro=function(t,e){return na(t).put(ya.key,e)},t.prototype.oo=function(t){if(t){var e=Vu(this.serializer,t);return e instanceof is&&e.version.isEqual(Ar.min())?null:e}return null},t}(),ea=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).To=e,r.fo=n,r.Eo=new xr((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(r.c)(e,t),e.prototype.bi=function(t){var e=this,n=[],r=0,i=new Jr((function(t,e){return br(t.M(),e.M())}));return this.Ii.forEach((function(o,s){var u=e.Eo.get(o);if(s.gi){var a=Uu(e.To.serializer,s.gi,e.Ai(o));i=i.add(o.path.S());var c=oa(a);r+=c-u,n.push(e.To.Ri(t,o,a))}else if(r-=u,e.fo){var l=Uu(e.To.serializer,new is(o,Ar.min()),e.Ai(o));n.push(e.To.Ri(t,o,l))}else n.push(e.To.Vi(t,o))})),i.forEach((function(r){n.push(e.To.Fi.Kr(t,r))})),n.push(this.To.updateMetadata(t,r)),zs.xn(n)},e.prototype.pi=function(t,e){var n=this;return this.To.ao(t,e).next((function(t){return null===t?(n.Eo.set(e,0),null):(n.Eo.set(e,t.size),t.gi)}))},e.prototype.vi=function(t,e){var n=this;return this.To.uo(t,e).next((function(t){var e=t.ho;return t.lo.forEach((function(t,e){n.Eo.set(t,e)})),e}))},e}(bu);function na(t){return Ua.qn(t,ya.store)}function ra(t){return Ua.qn(t,va.store)}function ia(t){return t.path.O()}function oa(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw pr();e=t.noDocument}return JSON.stringify(e).length}var sa=function(){function t(){this.Io=new ua}return t.prototype.Kr=function(t,e){return this.Io.add(e),zs.resolve()},t.prototype.ji=function(t,e){return zs.resolve(this.Io.getEntries(e))},t}(),ua=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.C(),n=t.S(),r=this.index[e]||new Jr(jr.V),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.C(),n=t.S(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Jr(jr.V)).O()},t}(),aa=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;gr(n<r&&n>=0&&r<=11);var o=new Ks("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(la.store)}(t),function(t){t.createObjectStore(ha.store,{keyPath:ha.keyPath}),t.createObjectStore(fa.store,{keyPath:fa.keyPath,autoIncrement:!0}).createIndex(fa.userMutationsIndex,fa.userMutationsKeyPath,{unique:!0}),t.createObjectStore(da.store)}(t),Ea(t),function(t){t.createObjectStore(va.store)}(t));var s=zs.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ba.store),t.deleteObjectStore(ma.store),t.deleteObjectStore(wa.store)}(t),Ea(t)),s=s.next((function(){return function(t){var e=t.store(wa.store),n=new wa(0,0,Ar.min().P(),0);return e.put(wa.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(fa.store).Xn().next((function(n){t.deleteObjectStore(fa.store),t.createObjectStore(fa.store,{keyPath:fa.keyPath,autoIncrement:!0}).createIndex(fa.userMutationsIndex,fa.userMutationsKeyPath,{unique:!0});var r=e.store(fa.store),i=n.map((function(t){return r.put(t)}));return zs.xn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Ia.store,{keyPath:Ia.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(ya.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(va.store);e.createIndex(va.readTimeIndex,va.readTimeIndexPath,{unique:!1}),e.createIndex(va.collectionReadTimeIndex,va.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Ta.store,{keyPath:Ta.keyPath})}(t),function(t){t.createObjectStore(xa.store,{keyPath:xa.keyPath})}(t)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(va.store).ns((function(t,n){e+=oa(n)})).next((function(){var n=new ya(e);return t.store(ya.store).put(ya.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(ha.store),r=t.store(fa.store);return n.Xn().next((function(n){return zs.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Xn(fa.userMutationsIndex,i).next((function(r){return zs.forEach(r,(function(r){gr(r.userId===n.userId);var i=Bu(e.serializer,r);return Zu(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(ba.store),n=t.store(va.store);return t.store(wa.store).get(wa.key).next((function(t){var r=[];return n.ns((function(n,i){var o=new jr(n),s=function(t){return[0,Ru(t)]}(o);r.push(e.get(s).next((function(n){return n?zs.resolve():function(n){return e.put(new ba(0,Ru(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return zs.xn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(_a.store,{keyPath:_a.keyPath});var n=e.store(_a.store),r=new ua,i=function(t){if(r.add(t)){var e=t.C(),i=t.S();return n.put({collectionId:e,parent:Ru(i)})}};return e.store(va.store).ns({es:!0},(function(t,e){var n=new jr(t);return i(n.S())})).next((function(){return e.store(da.store).ns({es:!0},(function(t,e){var n=Lu(t[1]);return i(n.S())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(ma.store);return n.ns((function(t,r){var i=Gu(r),o=$u(e.serializer,i);return n.put(o)}))},t}(),ca=function(t,e){this.seconds=t,this.nanoseconds=e},la=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};la.store="owner",la.key="owner";var ha=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ha.store="mutationQueues",ha.keyPath="userId";var fa=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};fa.store="mutations",fa.keyPath="batchId",fa.userMutationsIndex="userMutationsIndex",fa.userMutationsKeyPath=["userId","batchId"];var da=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ru(e)]},t.key=function(t,e,n){return[t,Ru(e),n]},t}();da.store="documentMutations",da.PLACEHOLDER=new da;var pa=function(t,e){this.path=t,this.readTime=e},ga=function(t,e){this.path=t,this.version=e},va=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};va.store="remoteDocuments",va.readTimeIndex="readTimeIndex",va.readTimeIndexPath="readTime",va.collectionReadTimeIndex="collectionReadTimeIndex",va.collectionReadTimeIndexPath=["parentPath","readTime"];var ya=function(t){this.byteSize=t};ya.store="remoteDocumentGlobal",ya.key="remoteDocumentGlobalKey";var ma=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};ma.store="targets",ma.keyPath="targetId",ma.queryTargetsIndexName="queryTargetsIndex",ma.queryTargetsKeyPath=["canonicalId","targetId"];var ba=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ba.store="targetDocuments",ba.keyPath=["targetId","path"],ba.documentTargetsIndex="documentTargetsIndex",ba.documentTargetsKeyPath=["path","targetId"];var wa=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};wa.key="targetGlobalKey",wa.store="targetGlobal";var _a=function(t,e){this.collectionId=t,this.parent=e};function Ea(t){t.createObjectStore(ba.store,{keyPath:ba.keyPath}).createIndex(ba.documentTargetsIndex,ba.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ma.store,{keyPath:ma.keyPath}).createIndex(ma.queryTargetsIndexName,ma.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(wa.store)}_a.store="collectionParents",_a.keyPath=["collectionId","parent"];var Ia=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ia.store="clientMetadata",Ia.keyPath="clientId";var Ta=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Ta.store="bundles",Ta.keyPath="bundleId";var xa=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};xa.store="namedQueries",xa.keyPath="name";var Oa=Object(r.g)(Object(r.g)(Object(r.g)(Object(r.g)([ha.store,fa.store,da.store,va.store,ma.store,la.store,wa.store,ba.store],[Ia.store]),[ya.store]),[_a.store]),[Ta.store,xa.store]),Sa=function(){function t(t){this.serializer=t}return t.prototype.mo=function(t,e){return Ca(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Hu(e.createTime),version:e.version};var e}))},t.prototype.Ao=function(t,e){return Ca(t).put({bundleId:(n=e).id,createTime:zu(Zi(n.createTime)),version:n.version});var n},t.prototype.Ro=function(t,e){return Aa(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Ku(e.bundledQuery),readTime:Hu(e.readTime)};var e}))},t.prototype.Po=function(t,e){return Aa(t).put(function(t){return{name:t.name,readTime:zu(Zi(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Ca(t){return Ua.qn(t,Ta.store)}function Aa(t){return Ua.qn(t,xa.store)}var ka=function(){function t(){this.Vo=new ua}return t.prototype.Kr=function(t,e){var n=this;if(!this.Vo.has(e)){var r=e.C(),i=e.S();t.Di((function(){n.Vo.add(e)}));var o={collectionId:r,parent:Ru(i)};return ja(t).put(o)}return zs.resolve()},t.prototype.ji=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[_r(e),""],!1,!0);return ja(t).Xn(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Lu(o.parent))}return n}))},t}();function ja(t){return Ua.qn(t,_a.store)}var Na=function(){function t(t){this.yo=t}return t.prototype.next=function(){return this.yo+=2,this.yo},t.po=function(){return new t(0)},t.vo=function(){return new t(-1)},t}(),Ra=function(){function t(t,e){this.Lr=t,this.serializer=e}return t.prototype.bo=function(t){var e=this;return this.So(t).next((function(n){var r=new Na(n.highestTargetId);return n.highestTargetId=r.next(),e.Do(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Co=function(t){return this.So(t).next((function(t){return Ar.m(new Cr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.No=function(t){return this.So(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.xo=function(t,e,n){var r=this;return this.So(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.P()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Do(t,i)}))},t.prototype.Fo=function(t,e){var n=this;return this.Oo(t,e).next((function(){return n.So(t).next((function(r){return r.targetCount+=1,n.Mo(e,r),n.Do(t,r)}))}))},t.prototype.ko=function(t,e){return this.Oo(t,e)},t.prototype.$o=function(t,e){var n=this;return this.Lo(t,e.targetId).next((function(){return Pa(t).delete(e.targetId)})).next((function(){return n.So(t)})).next((function(e){return gr(e.targetCount>0),e.targetCount-=1,n.Do(t,e)}))},t.prototype.Nr=function(t,e,n){var r=this,i=0,o=[];return Pa(t).ns((function(s,u){var a=Gu(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.$o(t,a)))})).next((function(){return zs.xn(o)})).next((function(){return i}))},t.prototype.De=function(t,e){return Pa(t).ns((function(t,n){var r=Gu(n);e(r)}))},t.prototype.So=function(t){return Da(t).get(wa.key).next((function(t){return gr(null!==t),t}))},t.prototype.Do=function(t,e){return Da(t).put(wa.key,e)},t.prototype.Oo=function(t,e){return Pa(t).put($u(this.serializer,e))},t.prototype.Mo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Bo=function(t){return this.So(t).next((function(t){return t.targetCount}))},t.prototype.qo=function(t,e){var n=Fr(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Pa(t).ns({range:r,index:ma.queryTargetsIndexName},(function(t,n,r){var o=Gu(n);qr(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Uo=function(t,e,n){var r=this,i=[],o=La(t);return e.forEach((function(e){var s=Ru(e.path);i.push(o.put(new ba(n,s))),i.push(r.Lr.Qo(t,n,e))})),zs.xn(i)},t.prototype.Ko=function(t,e,n){var r=this,i=La(t);return zs.forEach(e,(function(e){var o=Ru(e.path);return zs.xn([i.delete([n,o]),r.Lr.Wo(t,n,e)])}))},t.prototype.Lo=function(t,e){var n=La(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.jo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=La(t),i=ai();return r.ns({range:n,es:!0},(function(t,e,n){var r=Lu(t[1]),o=new Pr(r);i=i.add(o)})).next((function(){return i}))},t.prototype.so=function(t,e){var n=Ru(e.path),r=IDBKeyRange.bound([n],[_r(n)],!1,!0),i=0;return La(t).ns({index:ba.documentTargetsIndex,es:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.qe=function(t,e){return Pa(t).get(e).next((function(t){return t?Gu(t):null}))},t}();function Pa(t){return Ua.qn(t,ma.store)}function Da(t){return Ua.qn(t,wa.store)}function La(t){return Ua.qn(t,ba.store)}var Ma="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Va=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xr=e,r.Go=n,r}return Object(r.c)(e,t),e}(Iu),Ua=function(){function t(e,n,r,i,o,s,u,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ln=o,this.window=s,this.document=u,this.zo=c,this.Ho=l,this.Jo=null,this.Yo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Xo=null,this.inForeground=!1,this.Zo=null,this.ta=null,this.ea=Number.NEGATIVE_INFINITY,this.na=function(t){return Promise.resolve()},!t.kn())throw new Sr(Or.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Lr=new za(this,i),this.sa=n+"main",this.serializer=new Mu(a),this.ia=new Hs(this.sa,11,new aa(this.serializer)),this.ra=new Ra(this.Lr,this.serializer),this.Fi=new ka,this.Ni=function(t,e){return new ta(t,e)}(this.serializer,this.Fi),this.oa=new Sa(this.serializer),this.window&&this.window.localStorage?this.aa=this.window.localStorage:(this.aa=null,!1===l&&hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.qn=function(t,e){if(t instanceof Va)return Hs.qn(t.Xr,e);throw pr()},t.prototype.start=function(){var t=this;return this.ca().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Sr(Or.FAILED_PRECONDITION,Ma);return t.ua(),t.ha(),t.la(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.ra.No(e)}))})).then((function(e){t.Jo=new Ou(e,t.zo)})).then((function(){t.Yo=!0})).catch((function(e){return t.ia&&t.ia.close(),Promise.reject(e)}))},t.prototype._a=function(t){var e=this;return this.na=function(n){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return this.yr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.fa=function(t){var e=this;this.ia.Kn((function(n){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.da=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ln.fs((function(){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.yr?[4,this.ca()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.ca=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return qa(e).put(new Ia(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.wa(e).next((function(e){e||(t.isPrimary=!1,t.ln.Ss((function(){return t.na(!1)})))}))})).next((function(){return t.Ta(e)})).next((function(n){return t.isPrimary&&!n?t.Ea(e).next((function(){return!1})):!!n&&t.Ia(e).next((function(){return!0}))}))})).catch((function(e){if($s(e))return lr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return lr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.ln.Ss((function(){return t.na(e)})),t.isPrimary=e}))},t.prototype.wa=function(t){var e=this;return Fa(t).get(la.key).next((function(t){return zs.resolve(e.ma(t))}))},t.prototype.Aa=function(t){return qa(t).delete(this.clientId)},t.prototype.Ra=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,n,i,o=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.Pa(this.ea,18e5)?[3,2]:(this.ea=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.qn(e,Ia.store);return n.Xn().next((function(t){var e=o.ga(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return zs.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.aa)for(n=0,i=e;n<i.length;n++)this.aa.removeItem(this.Va(i[n].clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.la=function(){var t=this;this.ta=this.ln.Pn("client_metadata_refresh",4e3,(function(){return t.ca().then((function(){return t.Ra()})).then((function(){return t.la()}))}))},t.prototype.ma=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ta=function(t){var e=this;return this.Ho?zs.resolve(!0):Fa(t).get(la.key).next((function(n){if(null!==n&&e.Pa(n.leaseTimestampMs,5e3)&&!e.ya(n.ownerId)){if(e.ma(n)&&e.networkEnabled)return!0;if(!e.ma(n)){if(!n.allowTabSynchronization)throw new Sr(Or.FAILED_PRECONDITION,Ma);return!1}}return!(!e.networkEnabled||!e.inForeground)||qa(t).Xn().next((function(t){return void 0===e.ga(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&lr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.pa=function(){return Object(r.b)(this,void 0,void 0,(function(){var t=this;return Object(r.d)(this,(function(e){switch(e.label){case 0:return this.Yo=!1,this.va(),this.ta&&(this.ta.cancel(),this.ta=null),this.ba(),this.Sa(),[4,this.ia.runTransaction("shutdown","readwrite",[la.store,Ia.store],(function(e){var n=new Va(e,Ou.nr);return t.Ea(n).next((function(){return t.Aa(n)}))}))];case 1:return e.sent(),this.ia.close(),this.Da(),[2]}}))}))},t.prototype.ga=function(t,e){var n=this;return t.filter((function(t){return n.Pa(t.updateTimeMs,e)&&!n.ya(t.clientId)}))},t.prototype.Ca=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return qa(e).Xn().next((function(e){return t.ga(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"yr",{get:function(){return this.Yo},enumerable:!1,configurable:!0}),t.prototype.Na=function(t){return Wu.qr(t,this.serializer,this.Fi,this.Lr)},t.prototype.xa=function(){return this.ra},t.prototype.Fa=function(){return this.Ni},t.prototype.Oa=function(){return this.Fi},t.prototype.Ma=function(){return this.oa},t.prototype.runTransaction=function(t,e,n){var r,i=this;return lr("IndexedDbPersistence","Starting transaction:",t),this.ia.runTransaction(t,"readonly"===e?"readonly":"readwrite",Oa,(function(o){return r=new Va(o,i.Jo?i.Jo.next():Ou.nr),"readwrite-primary"===e?i.wa(r).next((function(t){return!!t||i.Ta(r)})).next((function(e){if(!e)throw hr("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.ln.Ss((function(){return i.na(!1)})),new Sr(Or.FAILED_PRECONDITION,Eu);return n(r)})).next((function(t){return i.Ia(r).next((function(){return t}))})):i.ka(r).next((function(){return n(r)}))})).then((function(t){return r.Ci(),t}))},t.prototype.ka=function(t){var e=this;return Fa(t).get(la.key).next((function(t){if(null!==t&&e.Pa(t.leaseTimestampMs,5e3)&&!e.ya(t.ownerId)&&!e.ma(t)&&!(e.Ho||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Sr(Or.FAILED_PRECONDITION,Ma)}))},t.prototype.Ia=function(t){var e=new la(this.clientId,this.allowTabSynchronization,Date.now());return Fa(t).put(la.key,e)},t.kn=function(){return Hs.kn()},t.prototype.Ea=function(t){var e=this,n=Fa(t);return n.get(la.key).next((function(t){return e.ma(t)?(lr("IndexedDbPersistence","Releasing primary lease."),n.delete(la.key)):zs.resolve()}))},t.prototype.Pa=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(hr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ua=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Zo=function(){t.ln.fs((function(){return t.inForeground="visible"===t.document.visibilityState,t.ca()}))},this.document.addEventListener("visibilitychange",this.Zo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.ba=function(){this.Zo&&(this.document.removeEventListener("visibilitychange",this.Zo),this.Zo=null)},t.prototype.ha=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Xo=function(){e.va(),e.ln.fs((function(){return e.pa()}))},this.window.addEventListener("unload",this.Xo))},t.prototype.Sa=function(){this.Xo&&(this.window.removeEventListener("unload",this.Xo),this.Xo=null)},t.prototype.ya=function(t){var e;try{var n=null!==(null===(e=this.aa)||void 0===e?void 0:e.getItem(this.Va(t)));return lr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return hr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.va=function(){if(this.aa)try{this.aa.setItem(this.Va(this.clientId),String(Date.now()))}catch(t){hr("Failed to set zombie client id.",t)}},t.prototype.Da=function(){if(this.aa)try{this.aa.removeItem(this.Va(this.clientId))}catch(t){}},t.prototype.Va=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Fa(t){return Ua.qn(t,la.store)}function qa(t){return Ua.qn(t,Ia.store)}var za=function(){function t(t,e){this.db=t,this.Rr=new Nu(this,e)}return t.prototype.Sr=function(t){var e=this.$a(t);return this.db.xa().Bo(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.$a=function(t){var e=0;return this.Cr(t,(function(t){e++})).next((function(){return e}))},t.prototype.De=function(t,e){return this.db.xa().De(t,e)},t.prototype.Cr=function(t,e){return this.La(t,(function(t,n){return e(n)}))},t.prototype.Qo=function(t,e,n){return Ha(t,n)},t.prototype.Wo=function(t,e,n){return Ha(t,n)},t.prototype.Nr=function(t,e,n){return this.db.xa().Nr(t,e,n)},t.prototype.eo=function(t,e){return Ha(t,e)},t.prototype.Ba=function(t,e){return function(t,e){var n=!1;return Ju(t).ss((function(r){return Qu(t,r,e).next((function(t){return t&&(n=!0),zs.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Fr=function(t,e){var n=this,r=this.db.Fa()._o(),i=[],o=0;return this.La(t,(function(s,u){if(u<=e){var a=n.Ba(t,s).next((function(e){if(!e)return o++,r.yi(t,s).next((function(){return r.Vi(s),La(t).delete([0,Ru(s.path)])}))}));i.push(a)}})).next((function(){return zs.xn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.nt(t.Go);return this.db.xa().ko(t,n)},t.prototype.qa=function(t,e){return Ha(t,e)},t.prototype.La=function(t,e){var n,r=La(t),i=Ou.nr;return r.ns({index:ba.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Ou.nr&&e(new Pr(Lu(n)),i),i=s,n=o):i=Ou.nr})).next((function(){i!==Ou.nr&&e(new Pr(Lu(n)),i)}))},t.prototype.Mr=function(t){return this.db.Fa().wo(t)},t}();function Ha(t,e){return La(t).put(function(t,e){return new ba(0,Ru(t.path),e)}(e,t.Go))}function Ba(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Ga=function(){function t(t,e,n,r){this.persistence=t,this.Ua=e,this.serializer=r,this.Qa=new Zr(br),this.Ka=new xr((function(t){return Fr(t)}),qr),this.Wa=Ar.min(),this.xi=t.Na(n),this.ja=t.Fa(),this.ra=t.xa(),this.Ga=new Tu(this.ja,this.xi,this.persistence.Oa()),this.oa=t.Ma(),this.Ua.za(this.Ga)}return t.prototype.pr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Or(n,e.Qa)}))},t}();function $a(t,e,n,r){return new Ga(t,e,n,r)}function Ka(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=vr(t),i=n.xi,o=n.Ga,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n.xi.Hr(t).next((function(s){return r=s,i=n.persistence.Na(e),o=new Tu(n.ja,i,n.persistence.Oa()),i.Hr(t)})).next((function(e){for(var n=[],i=[],s=ai(),u=0,a=r;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];i.push(p.batchId);for(var g=0,v=p.mutations;g<v.length;g++)s=s.add(v[g].key)}return o.Li(t,s).next((function(t){return{Ha:t,Ja:n,Ya:i}}))}))}))];case 1:return s=r.sent(),[2,(n.xi=i,n.Ga=o,n.Ua.za(n.Ga),s)]}}))}))}function Wa(t,e){var n=vr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.ja._o({fo:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=zs.resolve();return o.forEach((function(t){s=s.next((function(){return r.yi(e,t)})).next((function(e){var o=e,s=n.Ei.get(t);gr(null!==s),(!o||o.version.A(s)<0)&&(o=i._i(t,o,n))&&r.Ri(o,n.Ti)}))})),s.next((function(){return t.xi.Yr(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.xi.no(t)})).next((function(){return n.Ga.Li(t,r)}))}))}function Qa(t){var e=vr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.ra.Co(t)}))}function Za(t,e){var n=vr(t),r=e.et,i=n.Qa;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.ja._o({fo:!0});i=n.Qa;var s=[];e.Gt.forEach((function(e,o){var u=i.get(o);if(u){s.push(n.ra.Ko(t,e.ne,o).next((function(){return n.ra.Uo(t,e.te,o)})));var a=e.resumeToken;if(a.X()>0){var c=u.st(a,r).nt(t.Go);i=i.rt(o,c),function(t,e,n){return gr(e.resumeToken.X()>0),0===t.resumeToken.X()||e.et.R()-t.et.R()>=3e8||n.te.size+n.ee.size+n.ne.size>0}(u,c,e)&&s.push(n.ra.ko(t,c))}}}));var u=ni();if(e.Ht.forEach((function(r,i){e.Jt.has(r)&&s.push(n.persistence.Lr.qa(t,r))})),s.push(function(t,e,n,r,i){var o=ai();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var i=ni();return n.forEach((function(n,o){var s=t.get(n),u=r;o instanceof is&&o.version.isEqual(Ar.min())?(e.Vi(n,u),i=i.rt(n,o)):null==s||o.version.A(s.version)>0||0===o.version.A(s.version)&&s.hasPendingWrites?(e.Ri(o,u),i=i.rt(n,o)):lr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),i}))}(t,o,e.Ht,r).next((function(t){u=t}))),!r.isEqual(Ar.min())){var a=n.ra.Co(t).next((function(e){return n.ra.xo(t,t.Go,r)}));s.push(a)}return zs.xn(s).next((function(){return o.apply(t)})).next((function(){return n.Ga.Bi(t,u)}))})).then((function(t){return n.Qa=i,t}))}function Ya(t,e){var n=vr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.xi.Gr(t,e)}))}function Xa(t,e){var n=vr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.ra.qo(t,e).next((function(i){return i?zs.resolve(r=i):n.ra.bo(t).next((function(i){return r=new $r(e,i,0,t.Go),n.ra.Fo(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Qa.get(t.targetId);return(null===r||t.et.A(r.et)>0)&&(n.Qa=n.Qa.rt(t.targetId,t),n.Ka.set(e,t.targetId)),t}))}function Ja(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,u;return Object(r.d)(this,(function(r){switch(r.label){case 0:i=vr(t),o=i.Qa.get(e),s=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,(function(t){return i.persistence.Lr.removeTarget(t,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!$s(u=r.sent()))throw u;return lr("LocalStore","Failed to update sequence numbers for target "+e+": "+u),[3,5];case 5:return i.Qa=i.Qa.remove(e),i.Ka.delete(o.target),[2]}}))}))}function tc(t,e,n){var r=vr(t),i=Ar.min(),o=ai();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=vr(t),i=r.Ka.get(n);return void 0!==i?zs.resolve(r.Qa.get(i)):r.ra.qo(e,n)}(r,t,gs(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.ra.jo(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Ua.Ui(t,e,n?i:Ar.min(),n?o:ai())})).next((function(t){return{documents:t,Xa:o}}))}))}function ec(t,e){var n=vr(t),r=vr(n.ra),i=n.Qa.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.qe(t,e).next((function(t){return t?t.target:null}))}))}function nc(t){var e=vr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=vr(t),i=ni(),o=Fu(n),s=ra(e),u=IDBKeyRange.lowerBound(o,!0);return s.ns({index:va.readTimeIndex,range:u},(function(t,e){var n=Vu(r.serializer,e);i=i.rt(n.key,n),o=e.readTime})).next((function(){return{Za:i,readTime:qu(o)}}))}(e.ja,t,e.Wa)})).then((function(t){var n=t.Za;return e.Wa=t.readTime,n}))}function rc(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){return[2,(e=vr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=ra(t),n=Ar.min();return e.ns({index:va.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=qu(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Wa=t}))]}))}))}function ic(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){if(t.code!==Or.FAILED_PRECONDITION||t.message!==Eu)throw t;return lr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var oc=function(){function t(t,e,n,r,i,o){this.ln=t,this.tc=n,this.ec=r,this.nc=i,this.listener=o,this.state=0,this.sc=0,this.ic=null,this.stream=null,this.Ps=new qs(t,e)}return t.prototype.rc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.oc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ac()},t.prototype.stop=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.rc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.cc=function(){this.state=0,this.Ps.reset()},t.prototype.uc=function(){var t=this;this.oc()&&null===this.ic&&(this.ic=this.ln.Pn(this.tc,6e4,(function(){return t.hc()})))},t.prototype.lc=function(t){this._c(),this.stream.send(t)},t.prototype.hc=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return this.oc()?[2,this.close(0)]:[2]}))}))},t.prototype._c=function(){this.ic&&(this.ic.cancel(),this.ic=null)},t.prototype.close=function(t,e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return this._c(),this.Ps.cancel(),this.sc++,3!==t?this.Ps.reset():e&&e.code===Or.RESOURCE_EXHAUSTED?(hr(e.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.Ps.mn()):e&&e.code===Or.UNAUTHENTICATED&&this.nc.ni(),null!==this.stream&&(this.fc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.dc(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.fc=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.wc(this.sc),n=this.sc;this.nc.getToken().then((function(e){t.sc===n&&t.Tc(e)}),(function(n){e((function(){var e=new Sr(Or.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Ec(e)}))}))},t.prototype.Tc=function(t){var e=this,n=this.wc(this.sc);this.stream=this.Ic(t),this.stream.mc((function(){n((function(){return e.state=2,e.listener.mc()}))})),this.stream.dc((function(t){n((function(){return e.Ec(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.ac=function(){var t=this;this.state=4,this.Ps.An((function(){return Object(r.b)(t,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Ec=function(t){return lr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.wc=function(t){var e=this;return function(n){e.ln.fs((function(){return e.sc===t?n():(lr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),sc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return Object(r.c)(e,t),e.prototype.Ic=function(t){return this.ec.Ac("Listen",t)},e.prototype.onMessage=function(t){this.Ps.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:pr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Ue?(gr(void 0===e||"string"==typeof e),Hr.fromBase64String(e||"")):(gr(void 0===e||e instanceof Uint8Array),Hr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(t){var e=void 0===t.code?Or.UNKNOWN:Qr(t.code);return new Sr(e,t.message||"")}(s);n=new mi(r,i,o,u||null)}else if("documentChange"in e){var a=e.documentChange,c=to(t,a.document.name),l=Zi(a.document.updateTime),h=new Jo({mapValue:{fields:a.document.fields}}),f=new rs(c,l,h,{});n=new vi(a.targetIds||[],a.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=to(t,d.document),g=d.readTime?Zi(d.readTime):Ar.min(),v=new is(p,g);n=new vi([],d.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){var y=e.documentRemove,m=to(t,y.document);n=new vi([],y.removedTargetIds||[],m,null)}else{if(!("filter"in e))return pr();var b=e.filter,w=new Kr(b.count||0);n=new yi(b.targetId,w)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Ar.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ar.min():e.readTime?Zi(e.readTime):Ar.min()}(t);return this.listener.Rc(e,n)},e.prototype.Pc=function(t){var e={};e.database=ro(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=zr(r)?{documents:ao(t,r)}:{query:co(t,r)}).targetId=e.targetId,e.resumeToken.X()>0?n.resumeToken=Wi(t,e.resumeToken):e.et.A(Ar.min())>0&&(n.readTime=Ki(t,e.et.P())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pr()}}(0,e.tt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.lc(e)},e.prototype.gc=function(t){var e={};e.database=ro(this.serializer),e.removeTarget=t,this.lc(e)},e}(oc),uc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.Vc=!1,s}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"yc",{get:function(){return this.Vc},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Vc=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.fc=function(){this.Vc&&this.vc([])},e.prototype.Ic=function(t){return this.ec.Ac("Write",t)},e.prototype.onMessage=function(t){if(gr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vc){this.Ps.reset();var e=function(t,e){return t&&t.length>0?(gr(void 0!==e),t.map((function(t){return function(t,e){var n=Zi(t.updateTime?t.updateTime:e);n.isEqual(Ar.min())&&(n=Zi(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Lo(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Zi(t.commitTime);return this.listener.bc(n,e)}return gr(!t.writeResults||0===t.writeResults.length),this.Vc=!0,this.listener.Sc()},e.prototype.Dc=function(){var t={};t.database=ro(this.serializer),this.lc(t)},e.prototype.vc=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return so(e.serializer,t)}))};this.lc(n)},e}(oc),ac=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.ec=n,i.serializer=r,i.Cc=!1,i}return Object(r.c)(e,t),e.prototype.Nc=function(){if(this.Cc)throw new Sr(Or.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.xc=function(t,e,n){var r=this;return this.Nc(),this.credentials.getToken().then((function(i){return r.ec.xc(t,e,n,i)})).catch((function(t){throw t.code===Or.UNAUTHENTICATED&&r.credentials.ni(),t}))},e.prototype.Fc=function(t,e,n){var r=this;return this.Nc(),this.credentials.getToken().then((function(i){return r.ec.Fc(t,e,n,i)})).catch((function(t){throw t.code===Or.UNAUTHENTICATED&&r.credentials.ni(),t}))},e.prototype.terminate=function(){this.Cc=!1},e}((function(){})),cc=function(){function t(t,e){this.rs=t,this.Oc=e,this.state="Unknown",this.Mc=0,this.kc=null,this.$c=!0}return t.prototype.Lc=function(){var t=this;0===this.Mc&&(this.Bc("Unknown"),this.kc=this.rs.Pn("online_state_timeout",1e4,(function(){return t.kc=null,t.qc("Backend didn't respond within 10 seconds."),t.Bc("Offline"),Promise.resolve()})))},t.prototype.Uc=function(t){"Online"===this.state?this.Bc("Unknown"):(this.Mc++,this.Mc>=1&&(this.Qc(),this.qc("Connection failed 1 times. Most recent error: "+t.toString()),this.Bc("Offline")))},t.prototype.set=function(t){this.Qc(),this.Mc=0,"Online"===t&&(this.$c=!1),this.Bc(t)},t.prototype.Bc=function(t){t!==this.state&&(this.state=t,this.Oc(t))},t.prototype.qc=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.$c?(hr(e),this.$c=!1):lr("OnlineStateTracker",e)},t.prototype.Qc=function(){null!==this.kc&&(this.kc.cancel(),this.kc=null)},t}(),lc=function(t,e,n,i,o){var s=this;this.Kc=t,this.Wc=e,this.rs=n,this.jc={},this.Gc=[],this.zc=new Map,this.Hc=new Set,this.Jc=[],this.Yc=o,this.Yc.Xc((function(t){n.fs((function(){return Object(r.b)(s,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return bc(this)?(lr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return(e=vr(t)).Hc.add(4),[4,fc(e)];case 1:return n.sent(),e.Zc.set("Unknown"),e.Hc.delete(4),[4,hc(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Zc=new cc(n,i)};function hc(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:if(!bc(t))return[3,4];e=0,n=t.Jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function fc(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function dc(t,e){var n=vr(t);n.zc.has(e.targetId)||(n.zc.set(e.targetId,e),mc(n)?yc(n):Pc(n).oc()&&gc(n,e))}function pc(t,e){var n=vr(t),r=Pc(n);n.zc.delete(e),r.oc()&&vc(n,e),0===n.zc.size&&(r.oc()?r.uc():bc(n)&&n.Zc.set("Unknown"))}function gc(t,e){t.tu.Ie(e.targetId),Pc(t).Pc(e)}function vc(t,e){t.tu.Ie(e),Pc(t).gc(e)}function yc(t){t.tu=new wi({Be:function(e){return t.jc.Be(e)},qe:function(e){return t.zc.get(e)||null}}),Pc(t).start(),t.Zc.Lc()}function mc(t){return bc(t)&&!Pc(t).rc()&&t.zc.size>0}function bc(t){return 0===vr(t).Hc.size}function wc(t){t.tu=void 0}function _c(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return t.zc.forEach((function(e,n){gc(t,e)})),[2]}))}))}function Ec(t,e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){return wc(t),mc(t)?(t.Zc.Uc(e),yc(t)):t.Zc.set("Unknown"),[2]}))}))}function Ic(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s;return Object(r.d)(this,(function(u){switch(u.label){case 0:if(t.Zc.set("Online"),!(e instanceof mi&&2===e.state&&e.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=e.cause,i=0,o=e.targetIds,r.label=1;case 1:return i<o.length?t.zc.has(s=o[i])?[4,t.jc.eu(s,n)]:[3,3]:[3,5];case 2:r.sent(),t.zc.delete(s),t.tu.removeTarget(s),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return u.sent(),[3,5];case 3:return i=u.sent(),lr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,Tc(t,i)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof vi?t.tu.pe(e):e instanceof yi?t.tu.Fe(e):t.tu.Se(e),n.isEqual(Ar.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,Qa(t.Kc)];case 8:return o=u.sent(),n.A(o)>=0?[4,function(t,e){var n=t.tu.ke(e);return n.Gt.forEach((function(n,r){if(n.resumeToken.X()>0){var i=t.zc.get(r);i&&t.zc.set(r,i.st(n.resumeToken,e))}})),n.zt.forEach((function(e){var n=t.zc.get(e);if(n){t.zc.set(e,n.st(Hr.Z,n.et)),vc(t,e);var r=new $r(n.target,e,1,n.sequenceNumber);gc(t,r)}})),t.jc.nu(n)}(t,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return lr("RemoteStore","Failed to raise snapshot:",s=u.sent()),[4,Tc(t,s)];case 12:return u.sent(),[3,13];case 13:return[2]}}))}))}function Tc(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i=this;return Object(r.d)(this,(function(o){switch(o.label){case 0:if(!$s(e))throw e;return t.Hc.add(1),[4,fc(t)];case 1:return o.sent(),t.Zc.set("Offline"),n||(n=function(){return Qa(t.Kc)}),t.rs.Ss((function(){return Object(r.b)(i,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return lr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Hc.delete(1),[4,hc(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function xc(t,e){return e().catch((function(n){return Tc(t,n,e)}))}function Oc(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n,i,o,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:e=vr(t),n=Dc(e),i=e.Gc.length>0?e.Gc[e.Gc.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return bc(t)&&t.Gc.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Ya(e.Kc,i)];case 3:return null===(o=r.sent())?(0===e.Gc.length&&n.uc(),[3,7]):(i=o.batchId,function(t,e){t.Gc.push(e);var n=Dc(t);n.oc()&&n.yc&&n.vc(e.mutations)}(e,o),[3,6]);case 4:return s=r.sent(),[4,Tc(e,s)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return Sc(e)&&Cc(e),[2]}}))}))}function Sc(t){return bc(t)&&!Dc(t).rc()&&t.Gc.length>0}function Cc(t){Dc(t).start()}function Ac(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return Dc(t).Dc(),[2]}))}))}function kc(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n,i;return Object(r.d)(this,(function(r){for(e=Dc(t),n=0,i=t.Gc;n<i.length;n++)e.vc(i[n].mutations);return[2]}))}))}function jc(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return i=t.Gc.shift(),o=mu.from(i,e,n),[4,xc(t,(function(){return t.jc.su(o)}))];case 1:return r.sent(),[4,Oc(t)];case 2:return r.sent(),[2]}}))}))}function Nc(t,e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return e&&Dc(t).yc?[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return Wr(i=e.code)&&i!==Or.ABORTED?(n=t.Gc.shift(),Dc(t).cc(),[4,xc(t,(function(){return t.jc.iu(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,Oc(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Sc(t)&&Cc(t),[2]}}))}))}function Rc(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=vr(t),e?(n.Hc.delete(2),[4,hc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Hc.add(2),[4,fc(n)]);case 3:r.sent(),n.Zc.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Pc(t){var e=this;return t.ru||(t.ru=function(t,e,n){var r=vr(t);return r.Nc(),new sc(e,r.ec,r.credentials,r.serializer,n)}(t.Wc,t.rs,{mc:_c.bind(null,t),dc:Ec.bind(null,t),Rc:Ic.bind(null,t)}),t.Jc.push((function(n){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return n?(t.ru.cc(),mc(t)?yc(t):t.Zc.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.ru.stop()];case 2:e.sent(),wc(t),e.label=3;case 3:return[2]}}))}))}))),t.ru}function Dc(t){var e=this;return t.ou||(t.ou=function(t,e,n){var r=vr(t);return r.Nc(),new uc(e,r.ec,r.credentials,r.serializer,n)}(t.Wc,t.rs,{mc:Ac.bind(null,t),dc:Nc.bind(null,t),Sc:kc.bind(null,t),bc:jc.bind(null,t)}),t.Jc.push((function(n){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return n?(t.ou.cc(),[4,Oc(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.ou.stop()];case 3:e.sent(),t.Gc.length>0&&(lr("RemoteStore","Stopping write stream with "+t.Gc.length+" pending writes"),t.Gc=[]),e.label=4;case 4:return[2]}}))}))}))),t.ou}var Lc=function(){function t(){this.au=new Jr(Mc.cu),this.uu=new Jr(Mc.hu)}return t.prototype.T=function(){return this.au.T()},t.prototype.Qo=function(t,e){var n=new Mc(t,e);this.au=this.au.add(n),this.uu=this.uu.add(n)},t.prototype.lu=function(t,e){var n=this;t.forEach((function(t){return n.Qo(t,e)}))},t.prototype.Wo=function(t,e){this._u(new Mc(t,e))},t.prototype.fu=function(t,e){var n=this;t.forEach((function(t){return n.Wo(t,e)}))},t.prototype.du=function(t){var e=this,n=new Pr(new jr([])),r=new Mc(n,t),i=new Mc(n,t+1),o=[];return this.uu.Nt([r,i],(function(t){e._u(t),o.push(t.key)})),o},t.prototype.wu=function(){var t=this;this.au.forEach((function(e){return t._u(e)}))},t.prototype._u=function(t){this.au=this.au.delete(t),this.uu=this.uu.delete(t)},t.prototype.Tu=function(t){var e=new Pr(new jr([])),n=new Mc(e,t),r=new Mc(e,t+1),i=ai();return this.uu.Nt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.so=function(t){var e=new Mc(t,0),n=this.au.Ft(e);return null!==n&&t.isEqual(n.key)},t}(),Mc=function(){function t(t,e){this.key=t,this.Eu=e}return t.cu=function(t,e){return Pr.V(t.key,e.key)||br(t.Eu,e.Eu)},t.hu=function(t,e){return br(t.Eu,e.Eu)||Pr.V(t.key,e.key)},t}();function Vc(t,e){return"firestore_clients_"+t+"_"+e}function Uc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Js()&&(r+="_"+e.uid),r}function Fc(t,e){return"firestore_targets_"+t+"_"+e}var qc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Iu=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new Sr(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(hr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.mu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),zc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Iu=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Sr(r.error.code,r.error.message)),i?new t(e,r.state,o):(hr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.mu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Hc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Iu=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=li(),s=0;i&&s<r.activeTargetIds.length;++s)i=Mr(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(hr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Bc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Iu=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(hr("SharedClientState","Failed to parse online state: "+e),null)},t}(),Gc=function(){function t(){this.activeTargetIds=li()}return t.prototype.Au=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Ru=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.mu=function(){var t={activeTargetIds:this.activeTargetIds.O(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),$c=function(){function t(t,e,n,r,i){this.window=t,this.ln=e,this.persistenceKey=n,this.Pu=r,this.gu=null,this.Oc=null,this.Xi=null,this.Vu=this.yu.bind(this),this.pu=new Zr(br),this.yr=!1,this.vu=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.bu=Vc(this.persistenceKey,this.Pu),this.Su=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.pu=this.pu.rt(this.Pu,new Gc),this.Du=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Cu=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Nu=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.xu=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Fu=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Vu)}return t.kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(r.b)(this,void 0,void 0,(function(){var t,e,n,i,o,s,u,a,c,l,h=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,this.gu.Ca()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.Pu&&(o=this.getItem(Vc(this.persistenceKey,i)))&&(s=Hc.Iu(i,o))&&(this.pu=this.pu.rt(s.clientId,s));for(this.Ou(),(u=this.storage.getItem(this.xu))&&(a=this.Mu(u))&&this.ku(a),c=0,l=this.vu;c<l.length;c++)this.yu(l[c]);return this.vu=[],this.window.addEventListener("unload",(function(){return h.pa()})),this.yr=!0,[2]}}))}))},t.prototype.er=function(t){this.setItem(this.Su,JSON.stringify(t))},t.prototype.$u=function(){return this.Lu(this.pu)},t.prototype.Bu=function(t){var e=!1;return this.pu.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.qu=function(t){this.Uu(t,"pending")},t.prototype.Qu=function(t,e,n){this.Uu(t,e,n),this.Ku(t)},t.prototype.Wu=function(t){var e="not-current";if(this.Bu(t)){var n=this.storage.getItem(Fc(this.persistenceKey,t));if(n){var r=zc.Iu(t,n);r&&(e=r.state)}}return this.ju.Au(t),this.Ou(),e},t.prototype.Gu=function(t){this.ju.Ru(t),this.Ou()},t.prototype.zu=function(t){return this.ju.activeTargetIds.has(t)},t.prototype.Hu=function(t){this.removeItem(Fc(this.persistenceKey,t))},t.prototype.Ju=function(t,e,n){this.Yu(t,e,n)},t.prototype.Xu=function(t,e,n){var r=this;e.forEach((function(t){r.Ku(t)})),this.currentUser=t,n.forEach((function(t){r.qu(t)}))},t.prototype.Zu=function(t){this.th(t)},t.prototype.eh=function(){this.nh()},t.prototype.pa=function(){this.yr&&(this.window.removeEventListener("storage",this.Vu),this.removeItem(this.bu),this.yr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return lr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){lr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){lr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.yu=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(lr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.bu)return void hr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ln.Ss((function(){return Object(r.b)(e,void 0,void 0,(function(){var t,e,i,o,s,u;return Object(r.d)(this,(function(r){if(this.yr){if(null!==n.key)if(this.Du.test(n.key)){if(null==n.newValue)return t=this.sh(n.key),[2,this.ih(t,null)];if(e=this.rh(n.key,n.newValue))return[2,this.ih(e.clientId,e)]}else if(this.Cu.test(n.key)){if(null!==n.newValue&&(i=this.oh(n.key,n.newValue)))return[2,this.ah(i)]}else if(this.Nu.test(n.key)){if(null!==n.newValue&&(o=this.uh(n.key,n.newValue)))return[2,this.hh(o)]}else if(n.key===this.xu){if(null!==n.newValue&&(s=this.Mu(n.newValue)))return[2,this.ku(s)]}else if(n.key===this.Su)(u=function(t){var e=Ou.nr;if(null!=t)try{var n=JSON.parse(t);gr("number"==typeof n),e=n}catch(t){hr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ou.nr&&this.Xi(u);else if(n.key===this.Fu)return[2,this.gu.lh()]}else this.vu.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"ju",{get:function(){return this.pu.get(this.Pu)},enumerable:!1,configurable:!0}),t.prototype.Ou=function(){this.setItem(this.bu,this.ju.mu())},t.prototype.Uu=function(t,e,n){var r=new qc(this.currentUser,t,e,n),i=Uc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.mu())},t.prototype.Ku=function(t){var e=Uc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.th=function(t){this.storage.setItem(this.xu,JSON.stringify({clientId:this.Pu,onlineState:t}))},t.prototype.Yu=function(t,e,n){var r=Fc(this.persistenceKey,t),i=new zc(t,e,n);this.setItem(r,i.mu())},t.prototype.nh=function(){this.setItem(this.Fu,"value-not-used")},t.prototype.sh=function(t){var e=this.Du.exec(t);return e?e[1]:null},t.prototype.rh=function(t,e){var n=this.sh(t);return Hc.Iu(n,e)},t.prototype.oh=function(t,e){var n=this.Cu.exec(t),r=Number(n[1]);return qc.Iu(new hu(void 0!==n[2]?n[2]:null),r,e)},t.prototype.uh=function(t,e){var n=this.Nu.exec(t),r=Number(n[1]);return zc.Iu(r,e)},t.prototype.Mu=function(t){return Bc.Iu(t)},t.prototype.ah=function(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.gu._h(t.batchId,t.state,t.error)]:(lr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.hh=function(t){return this.gu.fh(t.targetId,t.state,t.error)},t.prototype.ih=function(t,e){var n=this,r=e?this.pu.rt(t,e):this.pu.remove(t),i=this.Lu(this.pu),o=this.Lu(r),s=[],u=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||u.push(t)})),this.gu.dh(s,u).then((function(){n.pu=r}))},t.prototype.ku=function(t){this.pu.get(t.clientId)&&this.Oc(t.onlineState)},t.prototype.Lu=function(t){var e=li();return t.forEach((function(t,n){e=e.Ot(n.activeTargetIds)})),e},t}(),Kc=function(){function t(){this.wh=new Gc,this.Th={},this.Oc=null,this.Xi=null}return t.prototype.qu=function(t){},t.prototype.Qu=function(t,e,n){},t.prototype.Wu=function(t){return this.wh.Au(t),this.Th[t]||"not-current"},t.prototype.Ju=function(t,e,n){this.Th[t]=e},t.prototype.Gu=function(t){this.wh.Ru(t)},t.prototype.zu=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.Hu=function(t){delete this.Th[t]},t.prototype.$u=function(){return this.wh.activeTargetIds},t.prototype.Bu=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.start=function(){return this.wh=new Gc,Promise.resolve()},t.prototype.Xu=function(t,e,n){},t.prototype.Zu=function(t){},t.prototype.pa=function(){},t.prototype.er=function(t){},t.prototype.eh=function(){},t}(),Wc=function(t){this.key=t},Qc=function(t){this.key=t},Zc=function(){function t(t,e){this.query=t,this.Eh=e,this.Ih=null,this.Zt=!1,this.mh=ai(),this.Qt=ai(),this.Ah=Is(t),this.Rh=new hi(this.Ah)}return Object.defineProperty(t.prototype,"Ph",{get:function(){return this.Eh},enumerable:!1,configurable:!0}),t.prototype.gh=function(t,e){var n=this,r=e?e.Vh:new fi,i=e?e.Rh:this.Rh,o=e?e.Qt:this.Qt,s=i,u=!1,a=cs(this.query)&&i.size===this.query.limit?i.last():null,c=ls(this.query)&&i.size===this.query.limit?i.first():null;if(t.ut((function(t,e){var l=i.get(t),h=e instanceof rs?e:null;h&&(h=Es(n.query,h)?h:null);var f=!!l&&n.Qt.has(l.key),d=!!h&&(h.Je||n.Qt.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yh(l,h)||(r.track({type:2,doc:h}),p=!0,(a&&n.Ah(h,a)>0||c&&n.Ah(h,c)<0)&&(u=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(a||c)&&(u=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),cs(this.query)||ls(this.query))for(;s.size>this.query.limit;){var l=cs(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Rh:s,Vh:r,ph:u,Qt:o}},t.prototype.yh=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.bi=function(t,e,n){var r=this,i=this.Rh;this.Rh=t.Rh,this.Qt=t.Qt;var o=t.Vh.qt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pr()}};return n(t)-n(e)}(t.type,e.type)||r.Ah(t.doc,e.doc)})),this.bh(n);var s=e?this.Sh():[],u=0===this.mh.size&&this.Zt?1:0,a=u!==this.Ih;return this.Ih=u,0!==o.length||a?{snapshot:new di(this.query,t.Rh,i,o,t.Qt,0===u,a,!1),Dh:s}:{Dh:s}},t.prototype.Bs=function(t){return this.Zt&&"Offline"===t?(this.Zt=!1,this.bi({Rh:this.Rh,Vh:new fi,Qt:this.Qt,ph:!1},!1)):{Dh:[]}},t.prototype.Ch=function(t){return!this.Eh.has(t)&&!!this.Rh.has(t)&&!this.Rh.get(t).Je},t.prototype.bh=function(t){var e=this;t&&(t.te.forEach((function(t){return e.Eh=e.Eh.add(t)})),t.ee.forEach((function(t){})),t.ne.forEach((function(t){return e.Eh=e.Eh.delete(t)})),this.Zt=t.Zt)},t.prototype.Sh=function(){var t=this;if(!this.Zt)return[];var e=this.mh;this.mh=ai(),this.Rh.forEach((function(e){t.Ch(e.key)&&(t.mh=t.mh.add(e.key))}));var n=[];return e.forEach((function(e){t.mh.has(e)||n.push(new Qc(e))})),this.mh.forEach((function(t){e.has(t)||n.push(new Wc(t))})),n},t.prototype.Nh=function(t){this.Eh=t.Xa,this.mh=ai();var e=this.gh(t.documents);return this.bi(e,!0)},t.prototype.xh=function(){return di.jt(this.query,this.Rh,this.Qt,0===this.Ih)},t}(),Yc=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Xc=function(t){this.key=t,this.Fh=!1},Jc=function(){function t(t,e,n,r,i,o){this.Kc=t,this.Oh=e,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=o,this.Lh={},this.Bh=new xr((function(t){return ws(t)}),bs),this.qh=new Map,this.Uh=[],this.Qh=new Zr(Pr.V),this.Kh=new Map,this.Wh=new Lc,this.jh={},this.Gh=new Map,this.zh=Na.vo(),this.onlineState="Unknown",this.Hh=void 0}return Object.defineProperty(t.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),t}();function tl(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,u;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=Al(t),(o=n.Bh.get(e))?(n.kh.Wu(o.targetId),i=o.view.xh(),[3,4]):[3,1];case 1:return[4,Xa(n.Kc,gs(e))];case 2:return s=r.sent(),u=n.kh.Wu(s.targetId),[4,el(n,e,s.targetId,"current"===u)];case 3:i=r.sent(),n.Jh&&dc(n.Oh,s),r.label=4;case 4:return[2,i]}}))}))}function el(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,s,u,a,c,l;return Object(r.d)(this,(function(h){switch(h.label){case 0:return t.Yh=function(e,n,i){return function(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,s,u;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(o=e.view.gh(n)).ph?[4,tc(t.Kc,e.query,!1).then((function(t){return e.view.gh(t.documents,o)}))]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return s=i&&i.Gt.get(e.targetId),u=e.view.bi(o,t.Jh,s),[2,(pl(t,e.targetId,u.Dh),u.snapshot)]}}))}))}(t,e,n,i)},[4,tc(t.Kc,e,!0)];case 1:return o=h.sent(),s=new Zc(e,o.Xa),u=s.gh(o.documents),a=gi.Xt(n,i&&"Offline"!==t.onlineState),c=s.bi(u,t.Jh,a),pl(t,n,c.Dh),l=new Yc(e,n,s),[2,(t.Bh.set(e,l),t.qh.has(n)?t.qh.get(n).push(e):t.qh.set(n,[e]),c.snapshot)]}}))}))}function nl(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=vr(t),i=n.Bh.get(e),(o=n.qh.get(i.targetId)).length>1?[2,(n.qh.set(i.targetId,o.filter((function(t){return!bs(t,e)}))),void n.Bh.delete(e))]:n.Jh?(n.kh.Gu(i.targetId),n.kh.Bu(i.targetId)?[3,2]:[4,Ja(n.Kc,i.targetId,!1).then((function(){n.kh.Hu(i.targetId),pc(n.Oh,i.targetId),fl(n,i.targetId)})).catch(ic)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return fl(n,i.targetId),[4,Ja(n.Kc,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function rl(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,u;return Object(r.d)(this,(function(r){switch(r.label){case 0:i=kl(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=vr(t),i=Cr.now(),o=e.reduce((function(t,e){return t.add(e.key)}),ai());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ga.Li(t,o).next((function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],l=zo(c,n.get(c.key));null!=l&&s.push(new $o(c.key,l,es(l.proto.mapValue),Mo.exists(!0)))}return r.xi.Qr(t,i,s,e)}))})).then((function(t){var e=t.wi(n);return{batchId:t.batchId,Ii:e}}))}(i.Kc,e)];case 2:return o=r.sent(),i.kh.qu(o.batchId),function(t,e,n){var r=t.jh[t.currentUser.Ys()];r||(r=new Zr(br)),r=r.rt(e,n),t.jh[t.currentUser.Ys()]=r}(i,o.batchId,n),[4,yl(i,o.Ii)];case 3:return r.sent(),[4,Oc(i.Oh)];case 4:return r.sent(),[3,6];case 5:return s=r.sent(),u=nu(s,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}}))}))}function il(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=vr(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Za(n.Kc,e)];case 2:return i=r.sent(),e.Gt.forEach((function(t,e){var r=n.Kh.get(e);r&&(gr(t.te.size+t.ee.size+t.ne.size<=1),t.te.size>0?r.Fh=!0:t.ee.size>0?gr(r.Fh):t.ne.size>0&&(gr(r.Fh),r.Fh=!1))})),[4,yl(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,ic(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function ol(t,e,n){var r=vr(t);if(r.Jh&&0===n||!r.Jh&&1===n){var i=[];r.Bh.forEach((function(t,n){var r=n.view.Bs(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=vr(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Bs(e)&&(r=!0)})),r&&cu(n)}(r.Mh,e),i.length&&r.Lh.Rc(i),r.onlineState=e,r.Jh&&r.kh.Zu(e)}}function sl(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,u,a,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(i=vr(t)).kh.Ju(e,"rejected",n),o=i.Kh.get(e),(s=o&&o.key)?(u=(u=new Zr(Pr.V)).rt(s,new is(s,Ar.min())),a=ai().add(s),c=new pi(Ar.min(),new Map,new Jr(br),u,a),[4,il(i,c)]):[3,2];case 1:return r.sent(),i.Qh=i.Qh.remove(s),i.Kh.delete(e),vl(i),[3,4];case 2:return[4,Ja(i.Kc,e,!1).then((function(){return fl(i,e,n)})).catch(ic)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function ul(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=vr(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Wa(n.Kc,e)];case 2:return o=r.sent(),hl(n,i,null),ll(n,i),n.kh.Qu(i,"acknowledged"),[4,yl(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,ic(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function al(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:i=vr(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=vr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.xi.Wr(t,e).next((function(e){return gr(null!==e),r=e.keys(),n.xi.Yr(t,e)})).next((function(){return n.xi.no(t)})).next((function(){return n.Ga.Li(t,r)}))}))}(i.Kc,e)];case 2:return o=r.sent(),hl(i,e,n),ll(i,e),i.kh.Qu(e,"rejected",n),[4,yl(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,ic(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function cl(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,u;return Object(r.d)(this,(function(r){switch(r.label){case 0:bc((n=vr(t)).Oh)||lr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=vr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.xi.zr(t)}))}(n.Kc)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((o=n.Gh.get(i)||[]).push(e),n.Gh.set(i,o),[3,4]);case 3:return s=r.sent(),u=nu(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(u),[3,4];case 4:return[2]}}))}))}function ll(t,e){(t.Gh.get(e)||[]).forEach((function(t){t.resolve()})),t.Gh.delete(e)}function hl(t,e,n){var r=vr(t),i=r.jh[r.currentUser.Ys()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.jh[r.currentUser.Ys()]=i}}function fl(t,e,n){void 0===n&&(n=null),t.kh.Gu(e);for(var r=0,i=t.qh.get(e);r<i.length;r++){var o=i[r];t.Bh.delete(o),n&&t.Lh.Xh(o,n)}t.qh.delete(e),t.Jh&&t.Wh.du(e).forEach((function(e){t.Wh.so(e)||dl(t,e)}))}function dl(t,e){var n=t.Qh.get(e);null!==n&&(pc(t.Oh,n),t.Qh=t.Qh.remove(e),t.Kh.delete(n),vl(t))}function pl(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Wc?(t.Wh.Qo(o.key,e),gl(t,o)):o instanceof Qc?(lr("SyncEngine","Document no longer in limbo: "+o.key),t.Wh.Wo(o.key,e),t.Wh.so(o.key)||dl(t,o.key)):pr()}}function gl(t,e){var n=e.key;t.Qh.get(n)||(lr("SyncEngine","New document in limbo: "+n),t.Uh.push(n),vl(t))}function vl(t){for(;t.Uh.length>0&&t.Qh.size<t.$h;){var e=t.Uh.shift(),n=t.zh.next();t.Kh.set(n,new Xc(e)),t.Qh=t.Qh.rt(e,n),dc(t.Oh,new $r(gs(as(e.path)),n,2,Ou.nr))}}function yl(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,u;return Object(r.d)(this,(function(a){switch(a.label){case 0:return i=vr(t),o=[],s=[],u=[],i.Bh.T()?[3,3]:(i.Bh.forEach((function(t,r){u.push(i.Yh(r,e,n).then((function(t){if(t){i.Jh&&i.kh.Ju(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=xu.Yi(r.targetId,t);s.push(e)}})))})),[4,Promise.all(u)]);case 1:return a.sent(),i.Lh.Rc(o),[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,u,a,c,l;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=vr(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return zs.forEach(e,(function(e){return zs.forEach(e.Hi,(function(r){return n.persistence.Lr.Qo(t,e.targetId,r)})).next((function(){return zs.forEach(e.Ji,(function(r){return n.persistence.Lr.Wo(t,e.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!$s(i=r.sent()))throw i;return lr("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,s=e;o<s.length;o++)a=(u=s[o]).targetId,u.fromCache||(c=n.Qa.get(a),l=c.it(c.et),n.Qa=n.Qa.rt(a,l));return[2]}}))}))}(i.Kc,s)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function ml(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(n=vr(t)).currentUser.isEqual(e)?[3,3]:(lr("SyncEngine","User change. New user:",e.Ys()),[4,Ka(n.Kc,e)]);case 1:return i=r.sent(),n.currentUser=e,function(t,e){t.Gh.forEach((function(t){t.forEach((function(t){t.reject(new Sr(Or.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Gh.clear()}(n),n.kh.Xu(e,i.Ja,i.Ya),[4,yl(n,i.Ha)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}function bl(t,e){var n=vr(t),r=n.Kh.get(e);if(r&&r.Fh)return ai().add(r.key);var i=ai(),o=n.qh.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=n.Bh.get(u[s]);i=i.Ot(a.view.Ph)}return i}function wl(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,tc((n=vr(t)).Kc,e.query,!0)];case 1:return i=r.sent(),o=e.view.Nh(i),[2,(n.Jh&&pl(n,e.targetId,o.Dh),o)]}}))}))}function _l(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){return[2,nc((e=vr(t)).Kc).then((function(t){return yl(e,t)}))]}))}))}function El(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,function(t,e){var n=vr(t),r=vr(n.xi);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jr(t,e).next((function(e){return e?n.Ga.Li(t,e):zs.resolve(null)}))}))}((o=vr(t)).Kc,e)];case 1:return null===(s=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,Oc(o.Oh)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(hl(o,e,i||null),ll(o,e),function(t,e){vr(vr(t).xi).Zr(e)}(o.Kc,e)):pr(),r.label=4;case 4:return[4,yl(o,s)];case 5:return r.sent(),[3,7];case 6:lr("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function Il(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,u,a,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:return Al(n=vr(t)),kl(n),!0!==e||!0===n.Hh?[3,3]:(i=n.kh.$u(),[4,Tl(n,i.O())]);case 1:return o=r.sent(),n.Hh=!0,[4,Rc(n.Oh,!0)];case 2:for(r.sent(),s=0,u=o;s<u.length;s++)dc(n.Oh,u[s]);return[3,7];case 3:return!1!==e||!1===n.Hh?[3,7]:(a=[],c=Promise.resolve(),n.qh.forEach((function(t,e){n.kh.zu(e)?a.push(e):c=c.then((function(){return fl(n,e),Ja(n.Kc,e,!0)})),pc(n.Oh,e)})),[4,c]);case 4:return r.sent(),[4,Tl(n,a)];case 5:return r.sent(),function(t){var e=vr(t);e.Kh.forEach((function(t,n){pc(e.Oh,n)})),e.Wh.wu(),e.Kh=new Map,e.Qh=new Zr(Pr.V)}(n),n.Hh=!1,[4,Rc(n.Oh,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Tl(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,u,a,c,l,h,f,d,p,g;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=vr(t),i=[],o=[],s=0,u=e,r.label=1;case 1:return s<u.length?(c=void 0,(l=n.qh.get(a=u[s]))&&0!==l.length?[4,Xa(n.Kc,gs(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),h=0,f=l,r.label=3;case 3:return h<f.length?(d=n.Bh.get(f[h]),[4,wl(n,d)]):[3,6];case 4:(p=r.sent()).snapshot&&o.push(p.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,ec(n.Kc,a)];case 8:return g=r.sent(),[4,Xa(n.Kc,g)];case 9:return c=r.sent(),[4,el(n,xl(g),a,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Lh.Rc(o),i)]}}))}))}function xl(t){return us(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ol(t){var e=vr(t);return vr(vr(e.Kc).persistence).Ca()}function Sl(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,s,u;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(o=vr(t)).Hh?(lr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.qh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,nc(o.Kc)];case 3:return s=r.sent(),u=pi.Yt(e,"current"===n),[4,yl(o,s,u)];case 4:return r.sent(),[3,8];case 5:return[4,Ja(o.Kc,e,!0)];case 6:return r.sent(),fl(o,e,i),[3,8];case 7:pr(),r.label=8;case 8:return[2]}}))}))}function Cl(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,u,a,c,l,h,f;return Object(r.d)(this,(function(d){switch(d.label){case 0:if(!(i=Al(t)).Hh)return[3,10];o=0,s=e,d.label=1;case 1:return o<s.length?i.qh.has(u=s[o])?(lr("SyncEngine","Adding an already active target "+u),[3,5]):[4,ec(i.Kc,u)]:[3,6];case 2:return a=d.sent(),[4,Xa(i.Kc,a)];case 3:return c=d.sent(),[4,el(i,xl(a),c.targetId,!1)];case 4:d.sent(),dc(i.Oh,c),d.label=5;case 5:return o++,[3,1];case 6:l=function(t){return Object(r.d)(this,(function(e){switch(e.label){case 0:return i.qh.has(t)?[4,Ja(i.Kc,t,!1).then((function(){pc(i.Oh,t),fl(i,t)})).catch(ic)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,d.label=7;case 7:return h<f.length?[5,l(f[h])]:[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Al(t){var e=vr(t);return e.Oh.jc.nu=il.bind(null,e),e.Oh.jc.Be=bl.bind(null,e),e.Oh.jc.eu=sl.bind(null,e),e.Lh.Rc=uu.bind(null,e.Mh),e.Lh.Xh=au.bind(null,e.Mh),e}function kl(t){var e=vr(t);return e.Oh.jc.su=ul.bind(null,e),e.Oh.jc.iu=al.bind(null,e),e}var jl=function(){function t(){}return t.prototype.za=function(t){this.Zh=t},t.prototype.Ui=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.rn.length||1===t.rn.length&&t.rn[0].field.B())}(e)||n.isEqual(Ar.min())?this.tl(t,e):this.Zh.Li(t,r).next((function(s){var u=i.el(e,s);return(cs(e)||ls(e))&&i.ph(e.limitType,u,r,n)?i.tl(t,e):(cr()<=o.a.DEBUG&&lr("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),_s(e)),i.Zh.Ui(t,e,n).next((function(t){return u.forEach((function(e){t=t.rt(e.key,e)})),t})))}))},t.prototype.el=function(t,e){var n=new Jr(Is(t));return e.forEach((function(e,r){r instanceof rs&&Es(t,r)&&(n=n.add(r))})),n},t.prototype.ph=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.A(r)>0)},t.prototype.tl=function(t,e){return cr()<=o.a.DEBUG&&lr("IndexFreeQueryEngine","Using full collection scan to execute query:",_s(e)),this.Zh.Ui(t,e,Ar.min())},t}(),Nl=function(){function t(t,e){this.Fi=t,this.Lr=e,this.xi=[],this.nl=1,this.sl=new Jr(Mc.cu)}return t.prototype.Ur=function(t){return zs.resolve(0===this.xi.length)},t.prototype.Qr=function(t,e,n,r){var i=this.nl;this.nl++;var o=new yu(i,e,n,r);this.xi.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.sl=this.sl.add(new Mc(a.key,i)),this.Fi.Kr(t,a.key.path.S())}return zs.resolve(o)},t.prototype.Wr=function(t,e){return zs.resolve(this.il(e))},t.prototype.Gr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return zs.resolve(this.xi.length>r?this.xi[r]:null)},t.prototype.zr=function(){return zs.resolve(0===this.xi.length?-1:this.nl-1)},t.prototype.Hr=function(t){return zs.resolve(this.xi.slice())},t.prototype.Mi=function(t,e){var n=this,r=new Mc(e,0),i=new Mc(e,Number.POSITIVE_INFINITY),o=[];return this.sl.Nt([r,i],(function(t){var e=n.il(t.Eu);o.push(e)})),zs.resolve(o)},t.prototype.qi=function(t,e){var n=this,r=new Jr(br);return e.forEach((function(t){var e=new Mc(t,0),i=new Mc(t,Number.POSITIVE_INFINITY);n.sl.Nt([e,i],(function(t){r=r.add(t.Eu)}))})),zs.resolve(this.ol(r))},t.prototype.Gi=function(t,e){var n=e.path,r=n.length+1,i=n;Pr.G(i)||(i=i.child(""));var o=new Mc(new Pr(i),0),s=new Jr(br);return this.sl.xt((function(t){var e=t.key.path;return!!n.N(e)&&(e.length===r&&(s=s.add(t.Eu)),!0)}),o),zs.resolve(this.ol(s))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.il(t);null!==r&&n.push(r)})),n},t.prototype.Yr=function(t,e){var n=this;gr(0===this.al(e.batchId,"removed")),this.xi.shift();var r=this.sl;return zs.forEach(e.mutations,(function(i){var o=new Mc(i.key,e.batchId);return r=r.delete(o),n.Lr.eo(t,i.key)})).next((function(){n.sl=r}))},t.prototype.Zr=function(t){},t.prototype.so=function(t,e){var n=new Mc(e,0),r=this.sl.Ft(n);return zs.resolve(e.isEqual(r&&r.key))},t.prototype.no=function(t){return zs.resolve()},t.prototype.al=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.xi.length?0:t-this.xi[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.xi.length?null:this.xi[e]},t}(),Rl=function(){function t(t,e){this.Fi=t,this.cl=e,this.docs=new Zr(Pr.V),this.size=0}return t.prototype.Ri=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.cl(e);return this.docs=this.docs.rt(r,{gi:e,size:s,readTime:n}),this.size+=s-o,this.Fi.Kr(t,r.path.S())},t.prototype.Vi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.yi=function(t,e){var n=this.docs.get(e);return zs.resolve(n?n.gi:null)},t.prototype.getEntries=function(t,e){var n=this,r=ri();return e.forEach((function(t){var e=n.docs.get(t);r=r.rt(t,e?e.gi:null)})),zs.resolve(r)},t.prototype.Ui=function(t,e,n){for(var r=oi(),i=new Pr(e.path.child("")),o=this.docs._t(i);o.It();){var s=o.Et(),u=s.value,a=u.gi,c=u.readTime;if(!e.path.N(s.key.path))break;c.A(n)<=0||a instanceof rs&&Es(e,a)&&(r=r.rt(a.key,a))}return zs.resolve(r)},t.prototype.ul=function(t,e){return zs.forEach(this.docs,(function(t){return e(t)}))},t.prototype._o=function(t){return new Pl(this)},t.prototype.wo=function(t){return zs.resolve(this.size)},t}(),Pl=function(t){function e(e){var n=this;return(n=t.call(this)||this).To=e,n}return Object(r.c)(e,t),e.prototype.bi=function(t){var e=this,n=[];return this.Ii.forEach((function(r,i){i&&i.gi?n.push(e.To.Ri(t,i.gi,e.Ai(r))):e.To.Vi(r)})),zs.xn(n)},e.prototype.pi=function(t,e){return this.To.yi(t,e)},e.prototype.vi=function(t,e){return this.To.getEntries(t,e)},e}(bu),Dl=function(){function t(t){this.persistence=t,this.hl=new xr((function(t){return Fr(t)}),qr),this.lastRemoteSnapshotVersion=Ar.min(),this.highestTargetId=0,this.ll=0,this._l=new Lc,this.targetCount=0,this.fl=Na.po()}return t.prototype.De=function(t,e){return this.hl.forEach((function(t,n){return e(n)})),zs.resolve()},t.prototype.Co=function(t){return zs.resolve(this.lastRemoteSnapshotVersion)},t.prototype.No=function(t){return zs.resolve(this.ll)},t.prototype.bo=function(t){return this.highestTargetId=this.fl.next(),zs.resolve(this.highestTargetId)},t.prototype.xo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),zs.resolve()},t.prototype.Oo=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new Na(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.Fo=function(t,e){return this.Oo(e),this.targetCount+=1,zs.resolve()},t.prototype.ko=function(t,e){return this.Oo(e),zs.resolve()},t.prototype.$o=function(t,e){return this.hl.delete(e.target),this._l.du(e.targetId),this.targetCount-=1,zs.resolve()},t.prototype.Nr=function(t,e,n){var r=this,i=0,o=[];return this.hl.forEach((function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.hl.delete(s),o.push(r.Lo(t,u.targetId)),i++)})),zs.xn(o).next((function(){return i}))},t.prototype.Bo=function(t){return zs.resolve(this.targetCount)},t.prototype.qo=function(t,e){var n=this.hl.get(e)||null;return zs.resolve(n)},t.prototype.Uo=function(t,e,n){return this._l.lu(e,n),zs.resolve()},t.prototype.Ko=function(t,e,n){this._l.fu(e,n);var r=this.persistence.Lr,i=[];return r&&e.forEach((function(e){i.push(r.eo(t,e))})),zs.xn(i)},t.prototype.Lo=function(t,e){return this._l.du(e),zs.resolve()},t.prototype.jo=function(t,e){var n=this._l.Tu(e);return zs.resolve(n)},t.prototype.so=function(t,e){return zs.resolve(this._l.so(e))},t}(),Ll=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.mo=function(t,e){return zs.resolve(this.dl.get(e))},t.prototype.Ao=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:Zi(n.createTime)}),zs.resolve()},t.prototype.Ro=function(t,e){return zs.resolve(this.wl.get(e))},t.prototype.Po=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:Ku(n.bundledQuery),readTime:Zi(n.readTime)}),zs.resolve()},t}(),Ml=function(){function t(t,e){var n=this;this.Tl={},this.Jo=new Ou(0),this.Yo=!1,this.Yo=!0,this.Lr=t(this),this.ra=new Dl(this),this.Fi=new sa,this.Ni=function(t,e){return new Rl(t,(function(t){return n.Lr.El(t)}))}(this.Fi),this.serializer=new Mu(e),this.oa=new Ll(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.pa=function(){return this.Yo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"yr",{get:function(){return this.Yo},enumerable:!1,configurable:!0}),t.prototype.fa=function(){},t.prototype.da=function(){},t.prototype.Oa=function(){return this.Fi},t.prototype.Na=function(t){var e=this.Tl[t.Ys()];return e||(e=new Nl(this.Fi,this.Lr),this.Tl[t.Ys()]=e),e},t.prototype.xa=function(){return this.ra},t.prototype.Fa=function(){return this.Ni},t.prototype.Ma=function(){return this.oa},t.prototype.runTransaction=function(t,e,n){var r=this;lr("MemoryPersistence","Starting transaction:",t);var i=new Vl(this.Jo.next());return this.Lr.Il(),n(i).next((function(t){return r.Lr.ml(i).next((function(){return t}))})).Cn().then((function(t){return i.Ci(),t}))},t.prototype.Al=function(t,e){return zs.Fn(Object.values(this.Tl).map((function(n){return function(){return n.so(t,e)}})))},t}(),Vl=function(t){function e(e){var n=this;return(n=t.call(this)||this).Go=e,n}return Object(r.c)(e,t),e}(Iu),Ul=function(){function t(t){this.persistence=t,this.Rl=new Lc,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"Vl",{get:function(){if(this.Pl)return this.Pl;throw pr()},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t,e,n){return this.Rl.Qo(n,e),this.Vl.delete(n.toString()),zs.resolve()},t.prototype.Wo=function(t,e,n){return this.Rl.Wo(n,e),this.Vl.add(n.toString()),zs.resolve()},t.prototype.eo=function(t,e){return this.Vl.add(e.toString()),zs.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.du(e.targetId).forEach((function(t){return n.Vl.add(t.toString())}));var r=this.persistence.xa();return r.jo(t,e.targetId).next((function(t){t.forEach((function(t){return n.Vl.add(t.toString())}))})).next((function(){return r.$o(t,e)}))},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.Fa()._o();return zs.forEach(this.Vl,(function(r){var i=Pr.K(r);return e.yl(t,i).next((function(t){t||n.Vi(i)}))})).next((function(){return e.Pl=null,n.apply(t)}))},t.prototype.qa=function(t,e){var n=this;return this.yl(t,e).next((function(t){t?n.Vl.delete(e.toString()):n.Vl.add(e.toString())}))},t.prototype.El=function(t){return 0},t.prototype.yl=function(t,e){var n=this;return zs.Fn([function(){return zs.resolve(n.Rl.so(e))},function(){return n.persistence.xa().so(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),Fl=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.mc=function(t){this.bl=t},t.prototype.dc=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),ql={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},zl=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(r.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise((function(i,o){var s=new ir;s.listenOnce(nr.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case er.NO_ERROR:var e=s.getResponseJson();lr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case er.TIMEOUT:lr("Connection",'RPC "'+t+'" timed out'),o(new Sr(Or.DEADLINE_EXCEEDED,"Request time out"));break;case er.HTTP_ERROR:var n=s.getStatus();if(lr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(Or).indexOf(e)>=0?e:Or.UNKNOWN}(r.status);o(new Sr(u,r.message))}else o(new Sr(Or.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Sr(Or.UNAVAILABLE,"Connection failed."));break;default:pr()}}finally{lr("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);s.send(e,"POST",u,n,15)}))},e.prototype.Ac=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Zn,i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(i.initMessageHeaders,e),Object(s.l)()||Object(s.n)()||Object(s.j)()||Object(s.k)()||Object(s.o)()||Object(s.i)()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");lr("Connection","Creating WebChannel: "+o,i);var u=r.createWebChannel(o,i),a=!1,c=!1,l=new Fl({pl:function(t){c?lr("Connection","Not sending because WebChannel is closed:",t):(a||(lr("Connection","Opening WebChannel transport."),u.open(),a=!0),lr("Connection","WebChannel sending:",t),u.send(t))},vl:function(){return u.close()}}),h=function(t,e){u.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(rr.EventType.OPEN,(function(){c||lr("Connection","WebChannel transport opened.")})),h(rr.EventType.CLOSE,(function(){c||(c=!0,lr("Connection","WebChannel transport closed"),l.Nl())})),h(rr.EventType.ERROR,(function(t){c||(c=!0,fr("Connection","WebChannel transport errored:",t),l.Nl(new Sr(Or.UNAVAILABLE,"The operation could not be completed")))})),h(rr.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];gr(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){lr("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Br[t];if(void 0!==e)return Qr(e)}(i),s=r.message;void 0===o&&(o=Or.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Nl(new Sr(o,s)),u.close()}else lr("Connection","WebChannel received:",n),l.xl(n)}})),setTimeout((function(){l.Cl()}),0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.xc=function(t,e,n,r){var i=this.kl(t,e);lr("RestConnection","Sending: ",i,n);var o={};return this.$l(o,r),this.Ll(t,i,o,n).then((function(t){return lr("RestConnection","Received: ",t),t}),(function(e){throw fr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Fc=function(t,e,n,r){return this.xc(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.0.2",t["Content-Type"]="text/plain",e)for(var n in e.ti)e.ti.hasOwnProperty(n)&&(t[n]=e.ti[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+ql[t]},t}()),Hl=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Xc=function(t){this.Kl.push(t)},t.prototype.pa=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){lr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){lr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Bl=function(){function t(){}return t.prototype.Xc=function(t){},t.prototype.pa=function(){},t}(),Gl=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return this.serializer=wu(t.Fl.t),this.kh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Kc=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return $a(this.persistence,new jl,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new Ml(Ul.gl,this.serializer)},t.prototype.jl=function(t){return new Kc},t.prototype.terminate=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.pa()];case 1:return t.sent(),[4,this.persistence.pa()];case 2:return t.sent(),[2]}}))}))},t}(),$l=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(r.c)(e,t),e.prototype.initialize=function(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,rc(this.Kc)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,kl(this.Xl.gu)];case 4:return n.sent(),[4,Oc(this.Xl.Oh)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return $a(this.persistence,new jl,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new ju(this.persistence.Lr.Rr,t.rs)},e.prototype.Gl=function(t){var e=Ba(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?ku.Tr(this.cacheSizeBytes):ku.mr;return new Ua(this.synchronizeTabs,e,t.clientId,n,t.rs,Xs(),Js(),this.serializer,this.kh,!!this.forceOwnership)},e.prototype.jl=function(t){return new Kc},e}(Gl),Kl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(r.c)(e,t),e.prototype.initialize=function(e){return Object(r.b)(this,void 0,void 0,(function(){var n,i=this;return Object(r.d)(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Xl.gu,this.kh instanceof $c?(this.kh.gu={_h:El.bind(null,n),fh:Sl.bind(null,n),dh:Cl.bind(null,n),Ca:Ol.bind(null,n),lh:_l.bind(null,n)},[4,this.kh.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence._a((function(t){return Object(r.b)(i,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,Il(this.Xl.gu,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.yr?this.zl.start(this.Kc):t||this.zl.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=Xs();if(!$c.kn(e))throw new Sr(Or.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ba(t.Fl.t,t.Fl.persistenceKey);return new $c(e,t.rs,n,t.clientId,t.Yl)},e}($l),Wl=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return this.Kc?[3,2]:(this.Kc=t.Kc,this.kh=t.kh,this.Wc=this.Zl(e),this.Oh=this.t_(e),this.Mh=this.e_(e),this.gu=this.n_(e,!t.synchronizeTabs),this.kh.Oc=function(t){return ol(n.gu,t,1)},this.Oh.jc.s_=ml.bind(null,this.gu),[4,Rc(this.Oh,this.gu.Jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new iu},t.prototype.Zl=function(t){var e=wu(t.Fl.t),n=new zl(t.Fl);return function(t,e,n){return new ac(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Kc,n=this.Wc,r=t.rs,i=function(t){return ol(s.gu,t,0)},o=Hl.kn()?new Hl:new Bl,new lc(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var u=new Jc(t,e,n,r,i,o);return s&&(u.Hh=!0),u}(this.Kc,this.Oh,this.Mh,this.kh,t.Yl,t.$h,e)},t.prototype.terminate=function(){return function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return e=vr(t),lr("RemoteStore","RemoteStore shutting down."),e.Hc.add(5),[4,fc(e)];case 1:return n.sent(),e.Yc.pa(),e.Zc.set("Unknown"),[2]}}))}))}(this.Oh)},t}(),Ql=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Zl=function(t){this.o_=t};function Yl(t,e,n){if(!n)throw new Sr(Or.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Xl(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Sr(Or.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Jl(t,e,n,r){if(!0===e&&!0===r)throw new Sr(Or.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function th(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":pr()}function eh(t,e){if(t instanceof Zl&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Sr(Or.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=th(t);throw new Sr(Or.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function nh(t,e){if(e<=0)throw new Sr(Or.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var rh=function(t){this.a_=t},ih=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.c_=function(t){if(2!==t.u_)throw t.h_(1===t.u_?this.a_+"() can only appear at the top level of your update data":this.a_+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(rh);function oh(t,e,n){return new jh({u_:3,l_:e.settings.l_,methodName:t.a_,__:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var sh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.c_=function(t){return new Do(t.path,new Oo)},e.prototype.isEqual=function(t){return t instanceof e},e}(rh),uh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(r.c)(e,t),e.prototype.c_=function(t){var e=oh(this,t,!0),n=this.f_.map((function(t){return Mh(t,e)})),r=new So(n);return new Do(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(rh),ah=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(r.c)(e,t),e.prototype.c_=function(t){var e=oh(this,t,!0),n=this.f_.map((function(t){return Mh(t,e)})),r=new Ao(n);return new Do(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(rh),ch=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).d_=n,r}return Object(r.c)(e,t),e.prototype.c_=function(t){var e=new jo(t.serializer,$i(t.serializer,this.d_));return new Do(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(rh),lh=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Sr(Or.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Sr(Or.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.T_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.T_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.w_===t.w_&&this.T_===t.T_},t.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.T_}},t.prototype.I=function(t){return br(this.w_,t.w_)||br(this.T_,t.T_)},t}(),hh=function(){function t(t){this.E_=t}return t.fromBase64String=function(e){try{return new t(Hr.fromBase64String(e))}catch(e){throw new Sr(Or.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Hr.fromUint8Array(e))},t.prototype.toBase64=function(){return this.E_.toBase64()},t.prototype.toUint8Array=function(){return this.E_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.E_.isEqual(t.E_)},t}(),fh=new Map,dh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Sr(Or.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Sr(Or.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Jl("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}();function ph(){if("undefined"==typeof Uint8Array)throw new Sr(Or.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function gh(){if("undefined"==typeof atob)throw new Sr(Or.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var vh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.fromBase64String=function(t){gh();try{return new e(Hr.fromBase64String(t))}catch(t){throw new Sr(Or.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){return ph(),new e(Hr.fromUint8Array(t))},e.prototype.toBase64=function(){return gh(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return ph(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(hh),yh=function(){function t(){}return t.prototype.I_=function(t,e){switch(void 0===e&&(e="none"),Oi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ri(t.integerValue||t.doubleValue);case 3:return this.m_(t.timestampValue);case 4:return this.A_(t,e);case 5:return t.stringValue;case 6:return this.R_(Pi(t.bytesValue));case 7:return this.P_(t.referenceValue);case 8:return this.g_(t.geoPointValue);case 9:return this.V_(t.arrayValue,e);case 10:return this.y_(t.mapValue,e);default:throw pr()}},t.prototype.y_=function(t,e){var n=this,r={};return Ir(t.fields||{},(function(t,i){r[t]=n.I_(i,e)})),r},t.prototype.g_=function(t){return new lh(Ri(t.latitude),Ri(t.longitude))},t.prototype.V_=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.I_(t,e)}))},t.prototype.A_=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return Ii(n)?t(n):n}(t);return null==n?null:this.I_(n,e);case"estimate":return this.m_(Ti(t));default:return null}},t.prototype.m_=function(t){var e=Ni(t);return new Cr(e.seconds,e.nanos)},t.prototype.p_=function(t,e){var n=jr.k(t);gr(_o(n));var r=new ur(n.get(1),n.get(3)),i=new Pr(n.v(5));return r.isEqual(e)||hr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),mh=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(r.c)(e,t),e.prototype.R_=function(t){return new vh(t)},e.prototype.P_=function(t){var e=this.p_(t,this.firestore.v_);return Of.b_(e,this.firestore,null)},e}(yh),bh=function(){function t(t,e,n,r,i){this.S_=t,this.D_=e,this.C_=n,this.N_=r,this.x_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.C_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ih(this.S_,this.x_,this.C_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.N_},t.prototype.data=function(){if(this.N_){if(this.x_){var t=new wh(this.S_,this.D_,this.C_,this.N_,null);return this.x_.fromFirestore(t)}return this.D_.I_(this.N_.sn())}},t.prototype.get=function(t){if(this.N_){var e=this.N_.data().field(_h("DocumentSnapshot.get",t));if(null!==e)return this.D_.I_(e)}},t}(),wh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(bh);function _h(t,e){return"string"==typeof e?Hh(t,e):e instanceof Zl?e.o_.F_:e.F_}var Eh=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Sr(Or.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.F_=new Rr(t)}return t.prototype.isEqual=function(t){return this.F_.isEqual(t.F_)},t}(),Ih=function(){function t(t,e,n){this.x_=e,this.C_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"O_",{get:function(){return this.C_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.C_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.C_.path.M()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new xh(this.firestore,this.x_,this.C_.path.S())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Th=function(){function t(t,e,n){this.x_=e,this.M_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.M_)},t}(),xh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,as(r))||this).firestore=e,i.O_=r,i.type="collection",i}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.M_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.M_.path.M()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.O_.S();return t.T()?null:new Ih(this.firestore,null,new Pr(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.O_)},e}(Th);function Oh(t){var e=t.k_(),n=wu(t.v_);return new Nh(t.v_,!!e.ignoreUndefinedProperties,n)}var Sh=/^__.*__$/,Ch=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.L_=function(t,e){var n=[];return n.push(null!==this.Qe?new $o(t,this.data,this.Qe,e):new Go(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Wo(t,this.fieldTransforms)),n},t}(),Ah=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.L_=function(t,e){var n=[new $o(t,this.data,this.Qe,e)];return this.fieldTransforms.length>0&&n.push(new Wo(t,this.fieldTransforms)),n},t}();function kh(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pr()}}var jh=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.B_(),this.fieldTransforms=i||[],this.Qe=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),t.prototype.q_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.q_({path:n,__:!1});return r.Q_(t),r},t.prototype.K_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.q_({path:n,__:!1});return r.B_(),r},t.prototype.W_=function(t){return this.q_({path:void 0,__:!0})},t.prototype.h_=function(t){return Bh(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.l_)},t.prototype.contains=function(t){return void 0!==this.Qe.find((function(e){return t.N(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.N(e.field)}))},t.prototype.B_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Q_(this.path.get(t))},t.prototype.Q_=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(kh(this.u_)&&Sh.test(t))throw this.h_('Document fields cannot begin and end with "__"')},t}(),Nh=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||wu(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new jh({u_:t,methodName:e,l_:n,path:Rr.$(),__:!1,j_:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function Rh(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Fh("Data must be an object, but it was:",s,r);var u,a,c=Vh(r,s);if(o.merge)u=new Po(s.Qe),a=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=qh(e,f[h],n);if(!s.contains(d))throw new Sr(Or.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Gh(l,d)||l.push(d)}u=new Po(l),a=s.fieldTransforms.filter((function(t){return u.He(t.field)}))}else u=null,a=s.fieldTransforms;return new Ch(new Jo(c),u,a)}function Ph(t,e,n,r){var i=t.G_(1,e,n);Fh("Data must be an object, but it was:",i,r);var o=[],s=new ts;Ir(r,(function(t,r){var u=Hh(e,t,n);r instanceof Zl&&(r=r.o_);var a=i.K_(u);if(r instanceof ih)o.push(u);else{var c=Mh(r,a);null!=c&&(o.push(u),s.set(u,c))}}));var u=new Po(o);return new Ah(s.Ye(),u,i.fieldTransforms)}function Dh(t,e,n,r,i,o){var s=t.G_(1,e,n),u=[qh(e,r,n)],a=[i];if(o.length%2!=0)throw new Sr(Or.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(qh(e,o[c])),a.push(o[c+1]);for(var l=[],h=new ts,f=u.length-1;f>=0;--f)if(!Gh(l,u[f])){var d=u[f],p=a[f];p instanceof Zl&&(p=p.o_);var g=s.K_(d);if(p instanceof ih)l.push(d);else{var v=Mh(p,g);null!=v&&(l.push(d),h.set(d,v))}}var y=new Po(l);return new Ah(h.Ye(),y,s.fieldTransforms)}function Lh(t,e,n,r){return void 0===r&&(r=!1),Mh(n,t.G_(r?4:3,e))}function Mh(t,e){if(t instanceof Zl&&(t=t.o_),Uh(t))return Fh("Unsupported field value:",e,t),Vh(t,e);if(t instanceof rh)return function(t,e){if(!kh(e.u_))throw e.h_(t.a_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.a_+"() is not currently supported inside arrays");var n=t.c_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.u_)throw e.h_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Mh(o[i],e.W_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Zl&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return $i(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Cr.fromDate(t);return{timestampValue:Ki(e.serializer,n)}}if(t instanceof Cr){var r=new Cr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ki(e.serializer,r)}}if(t instanceof lh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof hh)return{bytesValue:Wi(e.serializer,t.E_)};if(t instanceof Ih){var i=e.t,o=t.firestore.v_;if(!o.isEqual(i))throw e.h_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Yi(t.firestore.v_||e.t,t.C_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+th(t))}(t,e)}function Vh(t,e){var n={};return Tr(t)?e.path&&e.path.length>0&&e.Qe.push(e.path):Ir(t,(function(t,r){var i=Mh(r,e.U_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Uh(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Cr||t instanceof lh||t instanceof hh||t instanceof Ih||t instanceof rh)}function Fh(t,e,n){if(!Uh(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=th(n);throw e.h_("an object"===r?t+" a custom object":t+" "+r)}}function qh(t,e,n){if(e instanceof Zl&&(e=e.o_),e instanceof Eh)return e.F_;if("string"==typeof e)return Hh(t,e);throw Bh("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var zh=new RegExp("[~\\*/\\[\\]]");function Hh(t,e,n){if(e.search(zh)>=0)throw Bh("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Eh.bind.apply(Eh,Object(r.g)([void 0],e.split("."))))).F_}catch(i){throw Bh("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Bh(t,e,n,r,i){var o=r&&!r.T(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new Sr(Or.INVALID_ARGUMENT,(u+=". ")+t+a)}function Gh(t,e){return t.some((function(t){return t.isEqual(e)}))}var $h=function(){function t(t){this.Wc=t,this.z_=new Map,this.mutations=[],this.H_=!1,this.J_=null,this.Y_=new Set}return t.prototype.X_=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n=this;return Object(r.d)(this,(function(i){switch(i.label){case 0:if(this.Z_(),this.mutations.length>0)throw new Sr(Or.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,u,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=vr(t),i=ro(n.serializer)+"/documents",o={documents:e.map((function(t){return Ji(n.serializer,t)}))},[4,n.Fc("BatchGetDocuments",i,o)];case 1:return s=r.sent(),u=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){gr(!!e.found);var n=to(t,e.found.name),r=Zi(e.found.updateTime),i=new Jo({mapValue:{fields:e.found.fields}});return new rs(n,r,i,{})}(t,e):"missing"in e?function(t,e){gr(!!e.missing),gr(!!e.readTime);var n=to(t,e.missing),r=Zi(e.readTime);return new is(n,r)}(t,e):pr()}(n.serializer,t);u.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=u.get(t.toString());gr(!!e),a.push(e)})),a)]}}))}))}(this.Wc,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof is||t instanceof rs?n.tf(t):pr()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.L_(t,this.je(t))),this.Y_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.L_(t,this.ef(t)))}catch(t){this.J_=t}this.Y_.add(t.toString())},t.prototype.delete=function(t){this.write([new Yo(t,this.je(t))]),this.Y_.add(t.toString())},t.prototype.commit=function(){return Object(r.b)(this,void 0,void 0,(function(){var t,e=this;return Object(r.d)(this,(function(n){switch(n.label){case 0:if(this.Z_(),this.J_)throw this.J_;return t=this.z_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Pr.K(n);e.mutations.push(new Xo(r,e.je(r)))})),[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=vr(t),i=ro(n.serializer)+"/documents",o={writes:e.map((function(t){return so(n.serializer,t)}))},[4,n.xc("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.Wc,this.mutations)];case 1:return n.sent(),this.H_=!0,[2]}}))}))},t.prototype.tf=function(t){var e;if(t instanceof rs)e=t.version;else{if(!(t instanceof is))throw pr();e=Ar.min()}var n=this.z_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Sr(Or.ABORTED,"Document version changed between two reads.")}else this.z_.set(t.key.toString(),e)},t.prototype.je=function(t){var e=this.z_.get(t.toString());return!this.Y_.has(t.toString())&&e?Mo.updateTime(e):Mo.Ge()},t.prototype.ef=function(t){var e=this.z_.get(t.toString());if(!this.Y_.has(t.toString())&&e){if(e.isEqual(Ar.min()))throw new Sr(Or.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mo.updateTime(e)}return Mo.exists(!0)},t.prototype.write=function(t){this.Z_(),this.mutations=this.mutations.concat(t)},t.prototype.Z_=function(){},t}(),Kh=function(){function t(t,e,n,r){this.rs=t,this.Wc=e,this.updateFunction=n,this.us=r,this.nf=5,this.Ps=new qs(this.rs,"transaction_retry")}return t.prototype.run=function(){this.sf()},t.prototype.sf=function(){var t=this;this.Ps.An((function(){return Object(r.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(r.d)(this,(function(r){return t=new $h(this.Wc),(e=this.rf(t))&&e.then((function(e){n.rs.fs((function(){return t.commit().then((function(){n.us.resolve(e)})).catch((function(t){n.af(t)}))}))})).catch((function(t){n.af(t)})),[2]}))}))}))},t.prototype.rf=function(t){try{var e=this.updateFunction(t);return!Dr(e)&&e.catch&&e.then?e:(this.us.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.us.reject(t),null}},t.prototype.af=function(t){var e=this;this.nf>0&&this.cf(t)?(this.nf-=1,this.rs.fs((function(){return e.sf(),Promise.resolve()}))):this.us.reject(t)},t.prototype.cf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Wr(e)}return!1},t}(),Wh=function(){function t(t,e,n){var r=this;this.credentials=t,this.rs=e,this.Fl=n,this.user=hu.UNAUTHENTICATED,this.clientId=mr.u(),this.uf=function(){},this.oi=new Fs,this.credentials.si((function(t){lr("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.uf(t)),r.oi.resolve()}))}return t.prototype.getConfiguration=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,this.oi.promise];case 1:return[2,(t.sent(),{rs:this.rs,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}}))}))},t.prototype.hf=function(t){var e=this;this.uf=t,this.oi.promise.then((function(){return e.uf(e.user)}))},t.prototype.lf=function(){if(this.rs.Vs)throw new Sr(Or.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.rs.bs();var e=new Fs;return this.rs.ys((function(){return Object(r.b)(t,void 0,void 0,(function(){var t,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this._f?[4,this._f.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.ff?[4,this.ff.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.ii(),e.resolve(),[3,6];case 5:return t=r.sent(),n=nu(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function Qh(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i=this;return Object(r.d)(this,(function(o){switch(o.label){case 0:return t.rs.Ns(),lr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),t.hf((function(n){return t.rs.Ss((function(){return Object(r.b)(i,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,Ka(e.Kc,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.fa((function(){return t.terminate()})),t.ff=e,[2]}}))}))}function Zh(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(o){switch(o.label){case 0:return t.rs.Ns(),[4,Yh(t)];case 1:return n=o.sent(),lr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=o.sent(),[4,e.initialize(n,i)];case 3:return o.sent(),t.hf((function(n){return t.rs.Ss((function(){return function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(n=vr(t)).rs.Ns(),lr("RemoteStore","RemoteStore received new credentials"),i=bc(n),n.Hc.add(3),[4,fc(n)];case 1:return r.sent(),i&&n.Zc.set("Unknown"),[4,n.jc.s_(e)];case 2:return r.sent(),n.Hc.delete(3),[4,hc(n)];case 3:return r.sent(),[2]}}))}))}(e.Oh,n)}))})),t._f=e,[2]}}))}))}function Yh(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return t.ff?[3,2]:(lr("FirestoreClient","Using default OfflineComponentProvider"),[4,Qh(t,new Gl)]);case 1:e.sent(),e.label=2;case 2:return[2,t.ff]}}))}))}function Xh(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return t._f?[3,2]:(lr("FirestoreClient","Using default OnlineComponentProvider"),[4,Zh(t,new Wl)]);case 1:e.sent(),e.label=2;case 2:return[2,t._f]}}))}))}function Jh(t){return Yh(t).then((function(t){return t.persistence}))}function tf(t){return Yh(t).then((function(t){return t.Kc}))}function ef(t){return Xh(t).then((function(t){return t.Oh}))}function nf(t){return Xh(t).then((function(t){return t.gu}))}function rf(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,Xh(t)];case 1:return e=r.sent(),[2,((n=e.Mh).Ls=tl.bind(null,e.gu),n.Us=nl.bind(null,e.gu),n)]}}))}))}function of(t,e){var n=this,i=new Fs;return t.rs.fs((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=rl,[4,nf(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}}))}))})),i.promise}function sf(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=vr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ga.Oi(t,e)}))}(t,e)];case 1:return(i=r.sent())instanceof rs?n.resolve(i):i instanceof is?n.resolve(null):n.reject(new Sr(Or.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=r.sent(),s=nu(o,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}}))}))}function uf(t,e,n,r,i){var o=new Ql({next:function(o){e.fs((function(){return su(t,s)}));var u=o.docs.has(n);!u&&o.fromCache?i.reject(new Sr(Or.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new Sr(Or.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new lu(as(n.path),o,{includeMetadataChanges:!0,Hs:!0});return ou(t,s)}var af=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).yf=new eu,r.df="name"in e?e.name:"[DEFAULT]",r}return Object(r.c)(e,t),e.prototype.Vf=function(){return this.pf||If(this),this.pf.terminate()},e}(function(){function t(t,e){this.df="(lite)",this.wf=new dh({}),this.Tf=!1,t instanceof ur?(this.v_=t,this.Ef=new du):(this.If=t,this.v_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Sr(Or.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ur(t.options.projectId)}(t),this.Ef=new pu(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.If)throw new Sr(Or.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.If},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mf",{get:function(){return this.Tf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Af",{get:function(){return void 0!==this.Rf},enumerable:!1,configurable:!0}),t.prototype.Pf=function(t){if(this.Tf)throw new Sr(Or.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.wf=new dh(t),void 0!==t.credentials&&(this.Ef=function(t){if(!t)return new du;switch(t.type){case"gapi":var e=t.client;return gr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new vu(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Sr(Or.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.gf=function(){return this.wf},t.prototype.k_=function(){return this.Tf=!0,this.wf},t.prototype._delete=function(){return this.Rf||(this.Rf=this.Vf()),this.Rf},t.prototype.Vf=function(){return function(t){var e=fh.get(t);e&&(lr("ComponentProvider","Removing Datastore"),fh.delete(t),e.terminate())}(this),Promise.resolve()},t}());function cf(t,e,n){var i=this,o=new Fs;return t.rs.enqueue((function(){return Object(r.b)(i,void 0,void 0,(function(){var i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,Qh(t,n)];case 1:return r.sent(),[4,Zh(t,e)];case 2:return r.sent(),o.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Or.FAILED_PRECONDITION||t.code===Or.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i=r.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),o.reject(i),[3,4];case 4:return[2]}}))}))})).then((function(){return o.promise}))}function lf(t){if(t.mf||t.Af)throw new Sr(Or.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var hf=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,s)||this).S_=e,u.vf=e,u.metadata=o,u}return Object(r.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.N_){if(this.x_){var e=new ff(this.S_,this.D_,this.C_,this.N_,this.metadata,null);return this.x_.fromFirestore(e,t)}return this.D_.I_(this.N_.sn(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.N_){var n=this.N_.data().field(_h("DocumentSnapshot.get",t));if(null!==n)return this.D_.I_(n,e.serverTimestamps)}},e}(bh),ff=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(hf),df=function(){function t(t,e,n,r){this.S_=t,this.D_=e,this.bf=r,this.metadata=new Cf(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.bf.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.bf.docs.forEach((function(r){t.call(e,new ff(n.S_,n.D_,r.key,r,new Cf(n.bf.Qt.has(r.key),n.bf.fromCache),n.query.x_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.bf.Wt)throw new Sr(Or.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Sf&&this.Df===e||(this.Sf=function(t,e){if(t.bf.Ut.T()){var n=0;return t.bf.docChanges.map((function(e){return{type:"added",doc:new ff(t.S_,t.D_,e.doc.key,e.doc,new Cf(t.bf.Qt.has(e.doc.key),t.bf.fromCache),t.query.x_),oldIndex:-1,newIndex:n++}}))}var r=t.bf.Ut;return t.bf.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new ff(t.S_,t.D_,e.doc.key,e.doc,new Cf(t.bf.Qt.has(e.doc.key),t.bf.fromCache),t.query.x_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:pf(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.Df=e),this.Sf},t}();function pf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pr()}}function gf(t,e){return t instanceof hf&&e instanceof hf?t.S_===e.S_&&t.C_.isEqual(e.C_)&&(null===t.N_?null===e.N_:t.N_.isEqual(e.N_))&&t.x_===e.x_:t instanceof df&&e instanceof df&&t.S_===e.S_&&function(t,e){return t instanceof Th&&e instanceof Th&&t.firestore===e.firestore&&bs(t.M_,e.M_)&&t.x_===e.x_}(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.bf.isEqual(e.bf)}var vf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(r.c)(e,t),e.prototype.R_=function(t){return new hh(t)},e.prototype.P_=function(t){var e=this.p_(t,this.firestore.v_);return new Ih(this.firestore,null,e)},e}(yh);function yf(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=eh(t.firestore,af),s=Oh(o);return e instanceof Zl&&(e=e.o_),mf(o,("string"==typeof e||e instanceof Eh?Dh(s,"updateDoc",t.C_,e,n,r):Ph(s,"updateDoc",t.C_,e)).L_(t.C_,Mo.exists(!0)))}function mf(t,e){return of(Ef(t),e)}function bf(t,e,n){var r=n.docs.get(e.C_),i=new vf(t);return new hf(t,i,e.C_,r,new Cf(n.hasPendingWrites,n.fromCache),e.x_)}var wf=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){lf(t);var n=Ef(t),r=t.k_(),i=new Wl;return cf(n,i,new $l(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){lf(t);var e=Ef(t),n=t.k_(),r=new Wl;return cf(e,r,new Kl(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.mf&&!t.Af)throw new Sr(Or.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Fs;return t.yf.ys((function(){return Object(r.b)(e,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return Hs.kn()?[4,Hs.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Ba(t.v_,t.df))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.o_)},t}(),_f=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Cf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof ur||(i.Nf=e),i}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"v_",{get:function(){return this.o_.v_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.gf()),t)).merge,this.o_.Pf(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.gf().host&&fr("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.rs.enqueue((function(){return Object(r.b)(e,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,Jh(t)];case 1:return e=r.sent(),[4,ef(t)];case 2:return n=r.sent(),[2,(e.da(!0),function(t){var e=vr(t);return e.Hc.delete(0),hc(e)}(n))]}}))}))}))}(Ef(this.o_))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.rs.enqueue((function(){return Object(r.b)(e,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(i){switch(i.label){case 0:return[4,Jh(t)];case 1:return e=i.sent(),[4,ef(t)];case 2:return n=i.sent(),[2,(e.da(!1),function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return(e=vr(t)).Hc.add(0),[4,fc(e)];case 1:return n.sent(),e.Zc.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Ef(this.o_))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Jl("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Cf.enableMultiTabIndexedDbPersistence(this):this.Cf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Cf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Fs;return t.rs.fs((function(){return Object(r.b)(e,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(r){switch(r.label){case 0:return e=cl,[4,nf(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Ef(this.o_))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){var n=this,i=Ef(t),o=_u(e)?e:{next:e},s=new Ql(o);return t.yf.fs((function(){return Object(r.b)(n,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=function(t,e){vr(t).$s.add(e),e.next()},[4,rf(i)];case 1:return t.apply(void 0,[e.sent(),s]),[2]}}))}))})),function(){s.r_(),t.yf.fs((function(){return Object(r.b)(n,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=function(t,e){vr(t).$s.delete(e)},[4,rf(i)];case 1:return t.apply(void 0,[e.sent(),s]),[2]}}))}))}))}}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Nf)throw new Sr(Or.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Nf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){return Yl("Firestore.collection","path",t),Ef(this.o_),new Vf(jr.k(t),this,null)},e.prototype.doc=function(t){return Yl("Firestore.doc","path",t),Ef(this.o_),Of.xf(jr.k(t),this,null)},e.prototype.collectionGroup=function(t){if(Yl("Firestore.collectionGroup","collectionId",t),t.indexOf("/")>=0)throw new Sr(Or.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return Ef(this.o_),new Df(function(t){return new ss(jr.$(),t)}(t),this,null)},e.prototype.runTransaction=function(t){var e=this;return function(t,e){var n=this,i=new Fs;return t.rs.fs((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,function(t){return Xh(t).then((function(t){return t.Wc}))}(t)];case 1:return n=r.sent(),new Kh(t.rs,n,e,i).run(),[2]}}))}))})),i.promise}(Ef(this.o_),(function(n){return t(new Tf(e,n))}))},e.prototype.batch=function(){return Ef(this.o_),new xf(this)},e}(Zl);function Ef(t){return t.pf||If(t),t.pf.lf(),t.pf}function If(t){var e=t.k_(),n=function(t,e,n){return new sr(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.v_,t.df,e);t.pf=new Wh(t.Ef,t.yf,n)}var Tf=function(){function t(t,e){this.S_=t,this.Ff=e,this.Of=Oh(this.S_.o_)}return t.prototype.get=function(t){var e=this,n=Uf(0,t,this.S_),r=new mh(this.S_);return this.Ff.X_([n.C_]).then((function(t){if(!t||1!==t.length)return pr();var i=t[0];if(i instanceof is)return new Af(e.S_,new hf(e.S_.o_,r,n.C_,null,new Cf(!1,!1),n.x_));if(i instanceof rs)return new Af(e.S_,new hf(e.S_.o_,r,n.C_,i,new Cf(!1,!1),n.x_));throw pr()}))},t.prototype.set=function(t,e,n){var r=Uf(0,t,this.S_);n=Xl("Transaction.set",n);var i=Ff(r.x_,e,n),o=Rh(this.Of,"Transaction.set",r.C_,i,null!==r.x_,n);return this.Ff.set(r.C_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Uf(0,t,this.S_);return e instanceof Zl&&(e=e.o_),o="string"==typeof e||e instanceof Eh?Dh(this.Of,"Transaction.update",s.C_,e,n,r):Ph(this.Of,"Transaction.update",s.C_,e),this.Ff.update(s.C_,o),this},t.prototype.delete=function(t){var e=Uf(0,t,this.S_);return this.Ff.delete(e.C_),this},t}(),xf=function(){function t(t){this.S_=t,this.Mf=[],this.kf=!1,this.Of=Oh(this.S_.o_)}return t.prototype.set=function(t,e,n){this.$f();var r=Uf(0,t,this.S_);n=Xl("WriteBatch.set",n);var i=Ff(r.x_,e,n),o=Rh(this.Of,"WriteBatch.set",r.C_,i,null!==r.x_,n);return this.Mf=this.Mf.concat(o.L_(r.C_,Mo.Ge())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.$f();var o,s=Uf(0,t,this.S_);return e instanceof Zl&&(e=e.o_),o="string"==typeof e||e instanceof Eh?Dh(this.Of,"WriteBatch.update",s.C_,e,n,r):Ph(this.Of,"WriteBatch.update",s.C_,e),this.Mf=this.Mf.concat(o.L_(s.C_,Mo.exists(!0))),this},t.prototype.delete=function(t){this.$f();var e=Uf(0,t,this.S_);return this.Mf=this.Mf.concat(new Yo(e.C_,Mo.Ge())),this},t.prototype.commit=function(){return this.$f(),this.kf=!0,this.Mf.length>0?of(Ef(this.S_.o_),this.Mf):Promise.resolve()},t.prototype.$f=function(){if(this.kf)throw new Sr(Or.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Of=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.D_=new mh(e),r}return Object(r.c)(e,t),e.xf=function(t,n,r){if(t.length%2!=0)throw new Sr(Or.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.M()+" has "+t.length);return new e(n,new Ih(n.o_,r,new Pr(t)))},e.b_=function(t,n,r){return new e(n,new Ih(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Vf(this.o_.O_.S(),this.firestore,this.o_.x_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(Yl("DocumentReference.collection","path",t),!t)throw new Sr(Or.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=jr.k(t);return new Vf(this.o_.O_.child(e),this.firestore,null)},e.prototype.isEqual=function(t){return t instanceof Zl&&(t=t.o_),t instanceof Ih&&(n=t,((e=this.o_)instanceof Ih||e instanceof xh)&&(n instanceof Ih||n instanceof xh)&&e.firestore===n.firestore&&e.path===n.path&&e.x_===n.x_);var e,n},e.prototype.set=function(t,e){e=Xl("DocumentReference.set",e);try{return function(t,e,n){var r=eh(t.firestore,af),i=Ff(t.x_,e,n);return mf(r,Rh(Oh(r),"setDoc",t.C_,i,null!==t.x_,n).L_(t.C_,Mo.Ge()))}(this.o_,t,e)}catch(t){throw Sf(t,"setDoc","DocumentReference.set")}},e.prototype.update=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?yf(this.o_,t):yf.apply(void 0,Object(r.g)([this.o_,t,e],n))}catch(t){throw Sf(t,"updateDoc","DocumentReference.update")}},e.prototype.delete=function(){return mf(eh((t=this.o_).firestore,af),[new Yo(t.C_,Mo.Ge())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!_u(r))return r}return{}}(e),o=function(e,n){var r,i,o;return{next:function(e){o.next&&o.next(function(e){return new Af(t.firestore,new hf(t.firestore.o_,t.D_,e.C_,e.N_,e.metadata,t.o_.x_))}(e))},error:null===(r=(o=_u(e[0])?e[0]:_u(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===r?void 0:r.bind(o),complete:null===(i=o.complete)||void 0===i?void 0:i.bind(o)}}(e);return function(t){for(var e,n,i,o=this,s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];var a={includeMetadataChanges:!1},c=0;"object"!=typeof s[c]||_u(s[c])||(a=s[c],c++);var l,h,f,d={includeMetadataChanges:a.includeMetadataChanges};if(_u(s[c])){var p=s[c];s[c]=null===(e=p.next)||void 0===e?void 0:e.bind(p),s[c+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),s[c+2]=null===(i=p.complete)||void 0===i?void 0:i.bind(p)}if(t instanceof Ih)h=eh(t.firestore,af),f=as(t.C_.path),l={next:function(e){s[c]&&s[c](bf(h,t,e))},error:s[c+1],complete:s[c+2]};else{h=eh(t.firestore,af),f=t.M_;var g=new vf(h);l={next:function(e){s[c]&&s[c](new df(h,g,t,e))},error:s[c+1],complete:s[c+2]},Pf(t.M_)}var v=Ef(h),y=new Ql(l),m=new lu(f,y,d);return h.yf.fs((function(){return Object(r.b)(o,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=ou,[4,rf(v)];case 1:return[2,t.apply(void 0,[e.sent(),m])]}}))}))})),function(){y.r_(),h.yf.fs((function(){return Object(r.b)(o,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=su,[4,rf(v)];case 1:return[2,t.apply(void 0,[e.sent(),m])]}}))}))}))}}(this.o_,i,o)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=eh(t.firestore,af),i=Ef(n),o=new vf(n),s=new Fs;return n.yf.fs((function(){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,tf(i)];case 1:return[4,sf(e.sent(),t.C_,s)];case 2:return e.sent(),[2]}}))}))})),s.promise.then((function(e){return new hf(n,o,t.C_,e,new Cf(e instanceof rs&&e.Je,!0),t.x_)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=eh(t.firestore,af),i=Ef(n),o=new Fs;return n.yf.fs((function(){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,rf(i)];case 1:return[4,uf(e.sent(),n.yf,t.C_,{source:"server"},o)];case 2:return e.sent(),[2]}}))}))})),o.promise.then((function(e){return bf(n,t,e)}))}(this.o_):function(t){var e=this,n=eh(t.firestore,af),i=Ef(n),o=new Fs;return n.yf.fs((function(){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,rf(i)];case 1:return[4,uf(e.sent(),n.yf,t.C_,{source:"default"},o)];case 2:return e.sent(),[2]}}))}))})),o.promise.then((function(e){return bf(n,t,e)}))}(this.o_)).then((function(t){return new Af(e.firestore,new hf(e.firestore.o_,e.D_,t.C_,t.N_,t.metadata,e.o_.x_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Zl);function Sf(t,e,n){return t.message=t.message.replace(e+"()",n+"()"),t}var Cf=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Af=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).S_=e,r}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Of(this.S_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return gf(this.o_,t.o_)},e}(Zl),kf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(Af);function jf(t,e,n){if(n instanceof Zl&&(n=n.o_),"string"==typeof n){if(""===n)throw new Sr(Or.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ds(e)&&-1!==n.indexOf("/"))throw new Sr(Or.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(jr.k(n));if(!Pr.G(r))throw new Sr(Or.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Di(t,new Pr(r))}if(n instanceof Ih)return Di(t,n.C_);throw new Sr(Or.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+th(n)+".")}function Nf(t,e){if(!Array.isArray(t)||0===t.length)throw new Sr(Or.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Sr(Or.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Rf(t,e,n){if(!n.isEqual(e))throw new Sr(Or.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Pf(t){if(ls(t)&&0===t.rn.length)throw new Sr(Or.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Df=function(){function t(t,e,n){this.M_=t,this.firestore=e,this.x_=n,this.Lf=Oh(e.o_),this.D_=new mh(e)}return t.prototype.where=function(e,n,r){var i=qh("Query.where",e),o=function(t,e,n,r,i,o,s){var u;if(i.B()){if("array-contains"===o||"array-contains-any"===o)throw new Sr(Or.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Nf(s,o);for(var a=[],c=0,l=s;c<l.length;c++)a.push(jf(r,t,l[c]));u={arrayValue:{values:a}}}else u=jf(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Nf(s,o),u=Lh(n,"Query.where",s,"in"===o||"not-in"===o);var h=Ts.create(i,o,u);return function(t,e){if(e.cn()){var n=fs(t);if(null!==n&&!n.isEqual(e.field))throw new Sr(Or.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=hs(t);null!==r&&Rf(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Sr(Or.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(this.M_,0,this.Lf,this.firestore.v_,i,n,r);return new t(function(t,e){var n=t.filters.concat([e]);return new ss(t.path,t.collectionGroup,t.rn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(this.M_,o),this.firestore,this.x_)},t.prototype.orderBy=function(e,n){var r;if(void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new Sr(Or.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=qh("Query.orderBy",e),o=function(t,e,n){if(null!==t.startAt)throw new Sr(Or.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Sr(Or.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ms(e,n);return function(t,e){if(null===hs(t)){var n=fs(t);null!==n&&Rf(0,n,e.field)}}(t,r),r}(this.M_,i,r);return new t(function(t,e){var n=t.rn.concat([e]);return new ss(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(this.M_,o),this.firestore,this.x_)},t.prototype.limit=function(e){return nh("Query.limit",e),new t(vs(this.M_,e,"F"),this.firestore,this.x_)},t.prototype.limitToLast=function(e){return nh("Query.limitToLast",e),new t(vs(this.M_,e,"L"),this.firestore,this.x_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.startAt",e,n,!0);return new t(ys(this.M_,i),this.firestore,this.x_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.startAfter",e,n,!1);return new t(ys(this.M_,i),this.firestore,this.x_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.endBefore",e,n,!0);return new t(ms(this.M_,i),this.firestore,this.x_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.endAt",e,n,!1);return new t(ms(this.M_,i),this.firestore,this.x_)},t.prototype.isEqual=function(e){return e instanceof t&&this.firestore===e.firestore&&bs(this.M_,e.M_)&&this.x_===e.x_},t.prototype.withConverter=function(e){return new t(this.M_,this.firestore,e)},t.prototype.Bf=function(t,e,n,r){if(e instanceof Af)return function(t,e,n,r,i){if(!r)throw new Sr(Or.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=ps(t);s<u.length;s++){var a=u[s];if(a.field.B())o.push(Di(e,r.key));else{var c=r.field(a.field);if(Ii(c))throw new Sr(Or.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=a.field.M();throw new Sr(Or.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Rs(o,i)}(this.M_,this.firestore.v_,t,e.o_.N_,r);var i=[e].concat(n);return function(t,e,n,r,i,o){var s=t.rn;if(i.length>s.length)throw new Sr(Or.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],a=0;a<i.length;a++){var c=i[a];if(s[a].field.B()){if("string"!=typeof c)throw new Sr(Or.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ds(t)&&-1!==c.indexOf("/"))throw new Sr(Or.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(jr.k(c));if(!Pr.G(l))throw new Sr(Or.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Pr(l);u.push(Di(e,h))}else{var f=Lh(n,r,c);u.push(f)}}return new Rs(u,o)}(this.M_,this.firestore.v_,this.Lf,t,i,r)},t.prototype.onSnapshot=function(){for(var t,e,n,i=this,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var u={},a=0;if("object"!=typeof o[a]||_u(o[a])||(u=o[a],a++),_u(o[a])){var c=o[a];o[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),o[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),o[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}var l={next:function(t){o[a]&&o[a](new Mf(i.firestore,new df(i.firestore.o_,i.D_,new Th(i.firestore.o_,i.x_,i.M_),t)))},error:o[a+1],complete:o[a+2]};return Pf(this.M_),function(t,e,n,i){var o=this,s=new Ql(i),u=new lu(e,s,n);return t.rs.fs((function(){return Object(r.b)(o,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return e=ou,[4,rf(t)];case 1:return[2,e.apply(void 0,[n.sent(),u])]}}))}))})),function(){s.r_(),t.rs.fs((function(){return Object(r.b)(o,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return e=su,[4,rf(t)];case 1:return[2,e.apply(void 0,[n.sent(),u])]}}))}))}))}}(Ef(this.firestore.o_),this.M_,u,l)},t.prototype.get=function(t){var e=this;Pf(this.M_);var n=Ef(this.firestore.o_);return(t&&"cache"===t.source?function(t,e){var n=this,i=new Fs;return t.rs.fs((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(o){switch(o.label){case 0:return n=function(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,u,a,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,tc(t,e,!0)];case 1:return i=r.sent(),o=new Zc(e,i.Xa),s=o.gh(i.documents),u=o.bi(s,!1),n.resolve(u.snapshot),[3,3];case 2:return a=r.sent(),c=nu(a,"Failed to execute query '"+e+" against cache"),n.reject(c),[3,3];case 3:return[2]}}))}))},[4,tf(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,i])]}}))}))})),i.promise}(n,this.M_):function(t,e,n){var i=this;void 0===n&&(n={});var o=new Fs;return t.rs.fs((function(){return Object(r.b)(i,void 0,void 0,(function(){var i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return i=function(t,e,n,r,i){var o=new Ql({next:function(n){e.fs((function(){return su(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Sr(Or.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new lu(n,o,{includeMetadataChanges:!0,Hs:!0});return ou(t,s)},[4,rf(t)];case 1:return[2,i.apply(void 0,[r.sent(),t.rs,e,n,o])]}}))}))})),o.promise}(n,this.M_,t)).then((function(t){return new Mf(e.firestore,new df(e.firestore.o_,e.D_,new Th(e.firestore.o_,e.x_,e.M_),t))}))},t}(),Lf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).S_=e,r}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new kf(this.S_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),e}(Zl),Mf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).S_=e,r}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Df(this.o_.query.M_,this.S_,this.o_.query.x_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map((function(e){return new kf(t.S_,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map((function(t){return new Lf(e.S_,t)}))},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach((function(r){t.call(e,new kf(n.S_,r))}))},e.prototype.isEqual=function(t){return gf(this.o_,t.o_)},e}(Zl),Vf=function(t){function e(e,n,r){var i=this;if((i=t.call(this,as(e),n,r)||this).O_=e,e.length%2!=1)throw new Sr(Or.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.M()+" has "+e.length);return i}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.M_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.M_.path.S();return t.T()?null:Of.xf(t,this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.M_.path.M()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){0===arguments.length&&(t=mr.u()),Yl("CollectionReference.doc","path",t);var e=jr.k(t);return Of.xf(this.M_.path.child(e),this.firestore,this.x_)},e.prototype.add=function(t){var e=this.x_?this.x_.toFirestore(t):t,n=this.doc();return Of.b_(n.o_.C_,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.O_,this.firestore,t)},e}(Df);function Uf(t,e,n){var r=eh(e,Ih);if(r.firestore!==n.o_)throw new Sr(Or.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Ff(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var qf=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Eh.bind.apply(Eh,Object(r.g)([void 0],e))))||this}return Object(r.c)(e,t),e.documentId=function(){return new e(Rr.q().M())},e.prototype.isEqual=function(t){return t instanceof Zl&&(t=t.o_),t instanceof Eh&&this.o_.F_.isEqual(t.F_)},e}(Zl),zf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.serverTimestamp=function(){var t=new sh("serverTimestamp");return t.a_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new ih("deleteField");return t.a_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new uh("arrayUnion",t)}).apply(void 0,t);return r.a_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ah("arrayRemove",t)}).apply(void 0,t);return r.a_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new ch("increment",t)}(t);return n.a_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(Zl),Hf={Firestore:_f,GeoPoint:lh,Timestamp:Cr,Blob:vh,Transaction:Tf,WriteBatch:xf,DocumentReference:Of,DocumentSnapshot:Af,Query:Df,QueryDocumentSnapshot:kf,QuerySnapshot:Mf,CollectionReference:Vf,FieldPath:qf,FieldValue:zf,setLogLevel:function(t){ar.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function Bf(t){!function(t,e){t.INTERNAL.registerComponent(new or.a("firestore",(function(t){return function(t,e){return new _f(t,new af(t,e),new wf)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Hf)))}(t),t.registerVersion("@firebase/firestore","2.0.2")}Bf(i.a)},zIRd:function(t,e,n){"use strict";var r,i,o=n("os0x"),s=n("qOnz"),u=n("/6Yf"),a=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new a.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,a=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new u.b(e.name),this._addComponent(new u.a("app",(function(){return a}),"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var u=o.name;if("string"!=typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(s.c)(e,u))throw l.create("duplicate-app",{appName:u});var a=new t(n,o,r);return e[u]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var a=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&a.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&a.push("and"),s&&a.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(a.join(" "))}c(new u.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:a.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(a.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(u){var a,c,h=u.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===u.type?r[h]:null;if(n.set(h,u),"PUBLIC"===u.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==u.serviceProps&&Object(s.f)(f,u.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,u.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(u)}catch(v){a={error:v}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(a)throw a.error}}return"PUBLIC"===u.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=v;!function(t,e){t.INTERNAL.registerComponent(new u.a("platform-logger",(function(t){return new y(t)}),"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const u={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},a=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const l=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:i,_unsubscribe:o,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(u){e=u instanceof l?f(u.errors):[u]}}if(a(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(c(n))try{n.unsubscribe()}catch(u){e=e||[],u instanceof l?e=e.concat(f(u.errors)):e.push(u)}}}if(e)throw new l(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function f(t){return t.reduce((t,e)=>t.concat(e instanceof l?e.errors:e),[])}const d=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=u;break;case 1:if(!t){this.destination=u;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[d](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends p{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==u&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const v=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(t){return t}let m=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[d])return t[d]()}return t||e||n?new p(t,e,n):new p(u)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=b(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[v](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=b(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function b(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const w=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class _ extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class E extends p{constructor(t){super(t),this.destination=t}}let I=(()=>{class t extends m{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[d](){return new E(this)}lift(t){const e=new T(this,this);return e.operator=t,e}next(t){if(this.closed)throw new w;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new w;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new w;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new w;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new w;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new _(this,t))}asObservable(){const t=new m;return t.source=this,t}}return t.create=(t,e)=>new T(t,e),t})();class T extends I{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function x(t){return t&&"function"==typeof t.schedule}function O(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new S(t,e))}}class S{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new C(t,this.project,this.thisArg))}}class C extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const A=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function k(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const j=k(),N=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function R(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const P=t=>{if(t&&"function"==typeof t[v])return r=t,t=>{const e=r[v]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(N(t))return A(t);if(R(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);if(t&&"function"==typeof t[j])return e=t,t=>{const n=e[j]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,r};function D(t,e){return new m(n=>{const r=new h;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function L(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[v]}(t))return function(t,e){return new m(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[v]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(R(t))return function(t,e){return new m(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(N(t))return D(t,e);if(function(t){return t&&"function"==typeof t[j]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new m(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[j](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof m?t:new m(P(t))}class M extends p{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class V extends p{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function U(t,e){if(!e.closed)return t instanceof m?t.subscribe(e):P(t)(e)}function F(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(F((n,r)=>L(t(n,r)).pipe(O((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new q(t,n)))}class q{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new z(t,this.project,this.concurrent))}}class z extends V{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new M(this),n=this.destination;n.add(e);const r=U(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function H(t=Number.POSITIVE_INFINITY){return F(y,t)}function B(t,e){return e?D(t,e):new m(A(t))}function G(){return function(t){return t.lift(new $(t))}}class ${constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new K(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class K extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class W extends m{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Z(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return G()(this)}}const Q=(()=>{const t=W.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Z extends E{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Y(){return new I}function X(t){return{toString:t}.toString()}const J="__parameters__";function tt(t,e,n){return X(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(J)?t[J]:Object.defineProperty(t,J,{value:[]})[J];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const et=tt("Inject",t=>({token:t})),nt=tt("Optional"),rt=tt("Self"),it=tt("SkipSelf");var ot=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function st(t){for(let e in t)if(t[e]===st)return e;throw Error("Could not find renamed property on target object.")}function ut(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function at(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function ct(t){return lt(t,t[ft])||lt(t,t[gt])}function lt(t,e){return e&&e.token===t?e:null}function ht(t){return t&&(t.hasOwnProperty(dt)||t.hasOwnProperty(vt))?t[dt]:null}const ft=st({"\u0275prov":st}),dt=st({"\u0275inj":st}),pt=st({"\u0275provFallback":st}),gt=st({ngInjectableDef:st}),vt=st({ngInjectorDef:st});function yt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(yt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function mt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const bt=st({__forward_ref__:st});function wt(t){return t.__forward_ref__=wt,t.toString=function(){return yt(this())},t}function _t(t){return"function"==typeof(e=t)&&e.hasOwnProperty(bt)&&e.__forward_ref__===wt?t():t;var e}const Et="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,Tt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xt="undefined"!=typeof global&&global,Ot=Et||xt||It||Tt,St=st({"\u0275cmp":st}),Ct=st({"\u0275dir":st}),At=st({"\u0275pipe":st}),kt=st({"\u0275mod":st}),jt=st({"\u0275loc":st}),Nt=st({"\u0275fac":st}),Rt=st({__NG_ELEMENT_ID__:st});class Pt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ut({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Dt=new Pt("INJECTOR",-1),Lt={},Mt=/\n/gm,Vt="__source",Ut=st({provide:String,useValue:st});let Ft,qt=void 0;function zt(t){const e=qt;return qt=t,e}function Ht(t){const e=Ft;return Ft=t,e}function Bt(t,e=ot.Default){if(void 0===qt)throw new Error("inject() must be called from an injection context");return null===qt?$t(t,void 0,e):qt.get(t,e&ot.Optional?null:void 0,e)}function Gt(t,e=ot.Default){return(Ft||Bt)(_t(t),e)}function $t(t,e,n){const r=ct(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ot.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${yt(t)}]`)}function Kt(t){const e=[];for(let n=0;n<t.length;n++){const r=_t(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=ot.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof nt||"Optional"===i.ngMetadataName||i===nt?n|=ot.Optional:i instanceof it||"SkipSelf"===i.ngMetadataName||i===it?n|=ot.SkipSelf:i instanceof rt||"Self"===i.ngMetadataName||i===rt?n|=ot.Self:t=i instanceof et||i===et?i.token:i}e.push(Gt(t,n))}else e.push(Gt(r))}return e}class Wt{get(t,e=Lt){if(e===Lt){const e=new Error(`NullInjectorError: No provider for ${yt(t)}!`);throw e.name="NullInjectorError",e}return e}}class Qt{}class Zt{}function Yt(t,e){t.forEach(t=>Array.isArray(t)?Yt(t,e):e(t))}function Xt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Jt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var te=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),ee=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const ne={},re=[];let ie=0;function oe(t){return X(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===te.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||re,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ee.Emulated,id:"c",styles:t.styles||re,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=ie++,n.inputs=le(t.inputs,e),n.outputs=le(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(se):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(ue):null,n})}function se(t){return fe(t)||function(t){return t[Ct]||null}(t)}function ue(t){return function(t){return t[At]||null}(t)}const ae={};function ce(t){const e={type:t.type,bootstrap:t.bootstrap||re,declarations:t.declarations||re,imports:t.imports||re,exports:t.exports||re,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&X(()=>{ae[t.id]=t.type}),e}function le(t,e){if(null==t)return ne;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const he=oe;function fe(t){return t[St]||null}function de(t,e){return t.hasOwnProperty(Nt)?t[Nt]:null}function pe(t,e){const n=t[kt]||null;if(!n&&!0===e)throw new Error(`Type ${yt(t)} does not have '\u0275mod' property.`);return n}const ge=20,ve=10;function ye(t){return Array.isArray(t)&&"object"==typeof t[1]}function me(t){return Array.isArray(t)&&!0===t[1]}function be(t){return 0!=(8&t.flags)}function we(t){return 2==(2&t.flags)}function _e(t){return 1==(1&t.flags)}function Ee(t){return null!==t.template}function Ie(t){return 0!=(512&t[2])}function Te(t){return"string"==typeof t?t:null==t?"":""+t}function xe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Te(t)}const Oe=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ot))();function Se(t){return t instanceof Function?t():t}function Ce(t,e){const n=e?" in "+e:"";throw new Error(`No provider for ${xe(t)} found${n}`)}class Ae{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ke(){const t=Ne(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===ne)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function je(t,e,n,r){const i=Ne(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:ne,current:null}),o=i.current||(i.current={}),s=i.previous,u=this.declaredInputs[n],a=s[u];o[u]=new Ae(a&&a.currentValue,e,s===ne),t[r]=e}function Ne(t){return t.__ngSimpleChanges__||null}let Re=void 0;function Pe(t){return!!t.listen}const De={createRenderer:(t,e)=>void 0!==Re?Re:"undefined"!=typeof document?document:void 0};function Le(t){for(;Array.isArray(t);)t=t[0];return t}function Me(t,e){return Le(e[t.index])}function Ve(t,e){return t.data[e+ge]}function Ue(t,e){const n=e[t];return ye(n)?n:n[0]}function Fe(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function qe(t){return 128==(128&t[2])}function ze(t,e){return null===t||null==e?null:t[e]}function He(t){t[18]=0}function Be(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ge={lFrame:cn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function $e(){return Ge.bindingsEnabled}function Ke(){return Ge.lFrame.lView}function We(){return Ge.lFrame.tView}function Qe(t){Ge.lFrame.contextLView=t}function Ze(){return Ge.lFrame.currentTNode}function Ye(t,e){Ge.lFrame.currentTNode=t,Ge.lFrame.isParent=e}function Xe(){return Ge.lFrame.isParent}function Je(){return Ge.isInCheckNoChangesMode}function tn(t){Ge.isInCheckNoChangesMode=t}function en(){return Ge.lFrame.bindingIndex++}function nn(t,e){const n=Ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,rn(e)}function rn(t){Ge.lFrame.currentDirectiveIndex=t}function on(t){Ge.lFrame.currentQueryIndex=t}function sn(t,e){const n=an();Ge.lFrame=n,n.currentTNode=e,n.lView=t}function un(t){const e=an(),n=t[1];Ge.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function an(){const t=Ge.lFrame,e=null===t?null:t.child;return null===e?cn(t):e}function cn(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function ln(){const t=Ge.lFrame;return Ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const hn=ln;function fn(){const t=ln();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function dn(){return Ge.lFrame.selectedIndex}function pn(t){Ge.lFrame.selectedIndex=t}function gn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:u}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function vn(t,e,n){bn(t,e,3,n)}function yn(t,e,n,r){(3&t[2])===n&&bn(t,e,n,r)}function mn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function bn(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(wn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function wn(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const _n=-1;class En{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function In(t,e,n){const r=Pe(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],u=n[i++],a=n[i++];r?t.setAttribute(e,u,a,s):e.setAttributeNS(s,u,a)}else{const s=o,u=n[++i];xn(s)?r&&t.setProperty(e,s,u):r?t.setAttribute(e,s,u):e.setAttribute(s,u),i++}}return i}function Tn(t){return 3===t||4===t||6===t}function xn(t){return 64===t.charCodeAt(0)}function On(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Sn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Sn(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Cn(t){return t!==_n}function An(t){return 32767&t}function kn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let jn=!0;function Nn(t){const e=jn;return jn=t,e}let Rn=0;function Pn(t,e){const n=Ln(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Dn(r.data,t),Dn(e,null),Dn(r.blueprint,null));const i=Mn(t,e),o=t.injectorIndex;if(Cn(i)){const t=An(i),n=kn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Dn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ln(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Mn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return _n;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return _n}function Vn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Rt)&&(r=n[Rt]),null==r&&(r=n[Rt]=Rn++);const i=255&r,o=1<<i,s=64&i,u=32&i,a=e.data;128&i?s?u?a[t+7]|=o:a[t+6]|=o:u?a[t+5]|=o:a[t+4]|=o:s?u?a[t+3]|=o:a[t+2]|=o:u?a[t+1]|=o:a[t]|=o}(t,e,n)}function Un(t,e,n,r=ot.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Rt)?t[Rt]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){sn(e,t);try{const t=i();if(null!=t||r&ot.Optional)return t;Ce(n)}finally{hn()}}else if("number"==typeof i){if(-1===i)return new Gn(t,e);let o=null,s=Ln(t,e),u=_n,a=r&ot.Host?e[16][6]:null;for((-1===s||r&ot.SkipSelf)&&(u=-1===s?Mn(t,e):e[s+8],u!==_n&&Bn(r,!1)?(o=e[1],s=An(u),e=kn(u,e)):s=-1);-1!==s;){const t=e[1];if(Hn(i,s,t.data)){const t=qn(s,e,n,o,r,a);if(t!==Fn)return t}u=e[s+8],u!==_n&&Bn(r,e[1].data[s+8]===a)&&Hn(i,s,e)?(o=t,s=An(u),e=kn(u,e)):s=-1}}}if(r&ot.Optional&&void 0===i&&(i=null),0==(r&(ot.Self|ot.Host))){const t=e[9],o=Ht(void 0);try{return t?t.get(n,i,r&ot.Optional):$t(n,i,r&ot.Optional)}finally{Ht(o)}}if(r&ot.Optional)return i;Ce(n,"NodeInjector")}const Fn={};function qn(t,e,n,r,i,o){const s=e[1],u=s.data[t+8],a=function(t,e,n,r,i){const o=t.providerIndexes,s=e.data,u=1048575&o,a=t.directiveStart,c=o>>20,l=i?u+c:t.directiveEnd;for(let h=r?u:u+c;h<l;h++){const t=s[h];if(h<a&&n===t||h>=a&&t.type===n)return h}if(i){const t=s[a];if(t&&Ee(t)&&t.type===n)return a}return null}(u,s,n,null==r?we(u)&&jn:r!=s&&2===u.type,i&ot.Host&&o===u);return null!==a?zn(e,s,a,u):Fn}function zn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof En){const s=i;s.resolving&&function(t,e){throw new Error("Circular dependency in DI detected for "+t)}(xe(o[n]));const u=Nn(s.canSeeViewProviders);s.resolving=!0;const a=s.injectImpl?Ht(s.injectImpl):null;sn(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=((s=e).type.prototype.ngOnChanges&&(s.setInput=je),ke);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}var s;i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==a&&Ht(a),Nn(u),s.resolving=!1,hn()}}return i}function Hn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Bn(t,e){return!(t&ot.Self||t&ot.Host&&e)}class Gn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Un(this._tNode,this._lView,t,void 0,e)}}function $n(t){return t.ngDebugContext}function Kn(t){return t.ngOriginalError}function Wn(t,...e){t.error(...e)}class Qn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Wn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?$n(t)?$n(t):this._findContext(Kn(t)):null}_findOriginalError(t){let e=Kn(t);for(;e&&Kn(e);)e=Kn(e);return e}}let Zn=!0,Yn=!1;function Xn(){return Yn=!0,Zn}function Jn(t,e){t.__ngContext__=e}function tr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const er="ng-template";function nr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==tr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function rr(t){return 0===t.type&&t.tagName!==er}function ir(t,e,n){return e===(0!==t.type||n?t.tagName:er)}function or(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Tn(t[e]))return e;return t.length}(i);let s=!1;for(let u=0;u<e.length;u++){const a=e[u];if("number"!=typeof a){if(!s)if(4&r){if(r=2|1&r,""!==a&&!ir(t,a,n)||""===a&&1===e.length){if(sr(r))return!1;s=!0}}else{const c=8&r?a:e[++u];if(8&r&&null!==t.attrs){if(!nr(t.attrs,c,n)){if(sr(r))return!1;s=!0}continue}const l=ur(8&r?"class":a,i,rr(t),n);if(-1===l){if(sr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==tr(e,c,0)||2&r&&c!==t){if(sr(r))return!1;s=!0}}}}else{if(!s&&!sr(r)&&!sr(a))return!1;if(s&&sr(a))continue;s=!1,r=a|1&r}}return sr(r)||s}function sr(t){return 0==(1&t)}function ur(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ar(t,e,n=!1){for(let r=0;r<e.length;r++)if(or(t,e[r],n))return!0;return!1}function cr(t,e){return t?":not("+e.trim()+")":e}function lr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||sr(s)||(e+=cr(o,i),i=""),r=s,o=o||!sr(r);n++}return""!==i&&(e+=cr(o,i)),e}const hr={};function fr(t){const e=t[3];return me(e)?e[3]:e}function dr(t){return gr(t[13])}function pr(t){return gr(t[4])}function gr(t){for(;null!==t&&!me(t);)t=t[4];return t}function vr(t){yr(We(),Ke(),dn()+t,Je())}function yr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&vn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&yn(e,r,0,n)}pn(n)}function mr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];on(i),n.contentQueries(2,e[o],o)}}}function br(t,e,n){return Pe(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function wr(t,e,n,r,i,o,s,u,a,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,He(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=u||t&&t[11],l[12]=a||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function _r(t,e,n,r,i){const o=e+ge,s=t.data[o]||function(t,e,n,r,i){const o=Ze(),s=Xe(),u=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s&&null==o.child&&null!==u.parent?o.child=u:s||(o.next=u)),u}(t,o,n,r,i);return Ye(s,!0),s}function Er(t,e,n){un(e);try{const r=t.viewQuery;null!==r&&Zr(1,r,n);const i=t.template;null!==i&&xr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&mr(t,e),t.staticViewQueries&&Zr(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Gr(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,fn()}}function Ir(t,e,n,r){const i=e[2];if(256==(256&i))return;un(e);const o=Je();try{He(e),Ge.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&xr(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&vn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&yn(e,n,0,null),mn(e,0)}if(function(t){for(let e=dr(t);null!==e;e=pr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Be(r,1),n[2]|=1024}}}(e),function(t){for(let e=dr(t);null!==e;e=pr(e))for(let t=ve;t<e.length;t++){const n=e[t],r=n[1];qe(n)&&Ir(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&mr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&vn(e,n)}else{const n=t.contentHooks;null!==n&&yn(e,n,1),mn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,pn(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(nn(r,i),s(2,e[i])),i++)}}}finally{pn(-1)}}(t,e);const u=t.components;null!==u&&function(t,e){for(let n=0;n<e.length;n++)Br(t,e[n])}(e,u);const a=t.viewQuery;if(null!==a&&Zr(2,a,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&vn(e,n)}else{const n=t.viewHooks;null!==n&&yn(e,n,2),mn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Be(e[3],-1))}finally{fn()}}function Tr(t,e,n,r){const i=e[10],o=!Je(),s=4==(4&e[2]);try{o&&!s&&i.begin&&i.begin(),s&&Er(t,e,r),Ir(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function xr(t,e,n,r,i){const o=dn();try{pn(-1),2&r&&e.length>ge&&yr(t,e,0,Je()),n(r,i)}finally{pn(o)}}function Or(t,e,n){$e()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Pn(n,e),Jn(r,e);const s=n.initialInputs;for(let u=i;u<o;u++){const r=t.data[u],o=Ee(r);o&&Fr(e,n,r);const a=zn(e,t,u,n);Jn(a,e),null!==s&&qr(0,u-i,a,r,0,s),o&&(Ue(n.index,e)[8]=a)}}(t,e,n,Me(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,u=n.index-ge,a=Ge.lFrame.currentDirectiveIndex;try{pn(u);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];rn(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?Pr(r,i):s&&o.push(null)}}finally{pn(-1),rn(a)}}(t,e,n))}function Sr(t,e,n=Me){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],u=-1===s?n(e,t):t[s];t[i++]=u}}}function Cr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ar(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ar(t,e,n,r,i,o,s,u,a,c){const l=ge+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:hr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:u,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a,consts:d,incompleteFirstPass:!1}}function kr(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function jr(t,e,n,r){let i=!1;if($e()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ar(n,s.selectors,!1)&&(i||(i=[]),Vn(Pn(n,e),t,s.type),Ee(s)?(Lr(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,Vr(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}Dr(t,n,o.length);let u=!1,a=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=On(n.mergedAttrs,c.hostAttrs),Ur(t,e,c),Mr(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!u&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-ge),u=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-ge),a=!0),Nr(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,u=null;for(let a=e.directiveStart;a<n;a++){const t=r[a],n=t.inputs,c=null===i||rr(e)?null:zr(n,i);o.push(c),s=kr(n,a,s),u=kr(t.outputs,a,u)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=u}(t,n),Rr(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=On(n.mergedAttrs,n.attrs),i}function Nr(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Rr(t,e,n){for(let r=0;r<n;r++)e.push(hr),t.blueprint.push(hr),t.data.push(null)}function Pr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Dr(t,e,n){const r=ge-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Lr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Mr(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ee(e)&&(n[""]=t)}}function Vr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ur(t,e,n){t.data.push(n);const r=n.factory||(n.factory=de(n.type)),i=new En(r,Ee(n),null);t.blueprint.push(i),e.push(i)}function Fr(t,e,n){const r=Me(e,t),i=Cr(n),o=t[10],s=$r(t,wr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function qr(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],u=s[e++];null!==t?r.setInput(n,u,i,o):n[o]=u}}}function zr(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Hr(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Br(t,e){const n=Ue(e,t);if(qe(n)){const t=n[1];80&n[2]?Ir(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=dr(e);null!==r;r=pr(r))for(let e=ve;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Ir(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Ue(n[r],e);qe(i)&&i[5]>0&&t(i)}}(n)}}function Gr(t,e){const n=Ue(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Er(r,n,n[8])}function $r(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Kr(t){for(;t;){t[2]|=64;const e=fr(t);if(Ie(t)&&!e)return t;t=e}return null}function Wr(t,e,n){const r=e[10];r.begin&&r.begin();try{Ir(t,e,t.template,n)}catch(i){throw Jr(e,i),i}finally{r.end&&r.end()}}function Qr(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Fe(n),i=r[1];Tr(i,r,i.template,n)}}(t[8])}function Zr(t,e,n){on(0),e(t,n)}const Yr=(()=>Promise.resolve(null))();function Xr(t){return t[7]||(t[7]=[])}function Jr(t,e){const n=t[9],r=n?n.get(Qn,null):null;r&&r.handleError(e)}function ti(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],u=n[o++],a=e[s],c=t.data[s];null!==c.setInput?c.setInput(a,i,r,u):a[u]=i}}function ei(t,e,n,r,i){if(null!=r){let o,s=!1;me(r)?o=r:ye(r)&&(s=!0,r=r[0]);const u=Le(r);0===t&&null!==n?null==i?ui(e,n,u):si(e,n,u,i||null):1===t&&null!==n?si(e,n,u,i||null):2===t?function(t,e,n){const r=ci(t,e);r&&function(t,e,n,r){Pe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,u,s):3===t&&e.destroyNode(u),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Le(n)&&ei(e,t,r,o,i);for(let s=ve;s<n.length;s++){const i=n[s];fi(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function ni(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Be(i,-1)),n.splice(r,1)}function ri(t,e){if(t.length<=ve)return;const n=ve+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&ni(o,r),e>0&&(t[n-1][4]=r[4]);const s=Jt(t,ve+e);fi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const u=s[19];null!==u&&u.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function ii(t,e){if(!(256&e[2])){const n=e[11];Pe(n)&&n.destroyNode&&fi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return oi(t[1],t);for(;e;){let n=null;if(ye(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ye(e)&&oi(e[1],e),e=e[3];null===e&&(e=t),ye(e)&&oi(e[1],e),n=e&&e[4]}e=n}}(e)}}function oi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof En)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Le(e[i]),s=t[n[r+2]],u=n[r+3];"boolean"==typeof u?o.removeEventListener(n[r],s,u):u>=0?t[u]():t[-u].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&Pe(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&me(e[3])){n!==e[3]&&ni(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function si(t,e,n,r){Pe(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function ui(t,e,n){Pe(t)?t.appendChild(e,n):e.appendChild(n)}function ai(t,e,n,r){null!==r?si(t,e,n,r):ui(t,e,n)}function ci(t,e){return Pe(t)?t.parentNode(e):e.parentNode}function li(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return Me(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==ee.ShadowDom&&n!==ee.Native)return null}return Me(r,n)}(t,r,e);if(null!=i){const t=e[11],o=function(t,e){return 3===t.type||4===t.type?Me(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)ai(t,i,n[e],o);else ai(t,i,n,o)}}function hi(t,e,n,r,i,o,s){for(;null!=n;){const u=r[n.index],a=n.type;s&&0===e&&(u&&Jn(Le(u),r),n.flags|=4),64!=(64&n.flags)&&(3===a||4===a?(hi(t,e,n.child,r,i,o,!1),ei(e,t,i,u,o)):1===a?di(t,e,r,n,i,o):ei(e,t,i,u,o)),n=s?n.projectionNext:n.next}}function fi(t,e,n,r,i,o){hi(n,r,t.firstChild,e,i,o,!1)}function di(t,e,n,r,i,o){const s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let a=0;a<u.length;a++)ei(e,t,i,u[a],o);else hi(t,e,u,s[3],i,o,!0)}function pi(t,e,n){Pe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function gi(t,e,n){Pe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class vi{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(Le(s)),me(s))for(let e=ve;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const u=r.type;if(3===u||4===u)t(e,n,r.child,i);else if(1===u){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=fr(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}ii(this._lView[1],this._lView)}onDestroy(t){!function(t,e,n,r){const i=Xr(e);i.push(null),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}(this._lView[1],this._lView,0,t)}markForCheck(){Kr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Wr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){tn(!0);try{Wr(t,e,n)}finally{tn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,fi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class yi extends vi{constructor(t){super(t),this._view=t}detectChanges(){Qr(this._view)}checkNoChanges(){!function(t){tn(!0);try{Qr(t)}finally{tn(!1)}}(this._view)}get context(){return null}}let mi,bi,wi;function _i(t,e,n){return mi||(mi=class extends t{}),new mi(Me(e,n))}let Ei=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ii(),t})();const Ii=function(t=!1){return function(t,e,n){if(!n&&we(t)){const n=Ue(t.index,e);return new vi(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new vi(e[16],e):null}(Ze(),Ke(),t)},Ti=Function,xi=new Pt("Set Injector scope."),Oi={},Si={},Ci=[];let Ai=void 0;function ki(){return void 0===Ai&&(Ai=new Wt),Ai}function ji(t,e=null,n=null,r){return new Ni(t,n,e||ki(),r)}class Ni{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Yt(e,n=>this.processProvider(n,t,e)),Yt([t],t=>this.processInjectorType(t,[],i)),this.records.set(Dt,Pi(void 0,this));const o=this.records.get(xi);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:yt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Lt,n=ot.Default){this.assertNotDestroyed();const r=zt(this);try{if(!(n&ot.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Pt)&&ct(t);e=n&&this.injectableDefInScope(n)?Pi(Ri(t),Oi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&ot.Self?ki():this.parent).get(t,e=n&ot.Optional&&e===Lt?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(yt(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Vt]&&i.unshift(e[Vt]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=yt(e);if(Array.isArray(e))i=e.map(yt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):yt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Mt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{zt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(yt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=_t(t)))return!1;let r=ht(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=ht(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{Yt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Yt(r,t=>this.processProvider(t,n,r||Ci))}}this.injectorDefTypes.add(o),this.records.set(o,Pi(r.factory,Oi));const u=r.providers;if(null!=u&&!s){const e=t;Yt(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Li(t=_t(t))?t:_t(t&&t.provide);const i=function(t,e,n){return Di(t)?Pi(void 0,t.useValue):Pi(function(t,e,n){let r=void 0;if(Li(t)){const e=_t(t);return de(e)||Ri(e)}if(Di(t))r=()=>_t(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Kt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Gt(_t(t.useExisting));else{const e=_t(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return de(e)||Ri(e);r=()=>new e(...Kt(t.deps))}var i;return r}(t),Oi)}(t);if(Li(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Pi(void 0,Oi,!0),e.factory=()=>Kt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Oi&&(e.value=Si,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Ri(t){const e=ct(t),n=null!==e?e.factory:de(t);if(null!==n)return n;const r=ht(t);if(null!==r)return r.factory;if(t instanceof Pt)throw new Error(`Token ${yt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${yt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[ft]||t[gt]||t[pt]&&t[pt]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Pi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Di(t){return null!==t&&"object"==typeof t&&Ut in t}function Li(t){return"function"==typeof t}const Mi=function(t,e,n){return function(t,e=null,n=null,r){const i=ji(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Vi=(()=>{class t{static create(t,e){return Array.isArray(t)?Mi(t,e,""):Mi(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Lt,t.NULL=new Wt,t.\u0275prov=ut({token:t,providedIn:"any",factory:()=>Gt(Dt)}),t.__NG_ELEMENT_ID__=-1,t})();const Ui=new Pt("AnalyzeForEntryComponents");function Fi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=mt(i,t):2==o&&(r=mt(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function qi(t,e){const n=Fe(t)[1],r=n.data.length-1;gn(n,{directiveStart:r,directiveEnd:r+1})}let zi=null;function Hi(){if(!zi){const t=Ot.Symbol;if(t&&t.iterator)zi=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(zi=n)}}}return zi}function Bi(t){return!!Gi(t)&&(Array.isArray(t)||!(t instanceof Map)&&Hi()in t)}function Gi(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function $i(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ki(t,e,n,r,i,o,s,u){const a=Ke(),c=We(),l=t+ge,h=c.firstCreatePass?function(t,e,n,r,i,o,s,u,a){const c=e.consts,l=_r(e,t,0,s||null,ze(c,u));jr(e,n,l,ze(c,a)),gn(e,l);const h=l.tViews=Ar(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,a,e,n,r,i,o,s):c.data[l];Ye(h,!1);const f=a[11].createComment("");li(c,a,f,h),Jn(f,a),$r(a,a[l]=Hr(f,a,f,h)),_e(h)&&Or(c,a,h),null!=s&&Sr(a,h,u)}function Wi(t,e=ot.Default){const n=Ke();return null===n?Gt(t,e):Un(Ze(),n,_t(t),e)}function Qi(t,e,n){const r=Ke();return $i(r,en(),e)&&function(t,e,n,r,i,o,s,u){const a=Me(e,n);let c,l=e.inputs;null!=l&&(c=l[r])?(ti(t,n,c,r,i),we(e)&&function(t,e){const n=Ue(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,Pe(o)?o.setProperty(a,r,i):xn(r)||(a.setProperty?a.setProperty(r,i):a[r]=i))}(We(),function(){const t=Ge.lFrame;return Ve(t.tView,t.selectedIndex)}(),r,t,e,r[11],n),Qi}function Zi(t,e,n,r,i){const o=i?"class":"style";ti(t,n,e.inputs[o],o,r)}function Yi(t,e,n,r){const i=Ke(),o=We(),s=ge+t,u=i[11],a=i[s]=br(e,u,Ge.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const u=e.consts,a=_r(e,t,2,i,ze(u,o));return jr(e,n,a,ze(u,s)),null!==a.attrs&&Fi(a,a.attrs,!1),null!==a.mergedAttrs&&Fi(a,a.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,a),a}(t,o,i,0,e,n,r):o.data[s];Ye(c,!0);const l=c.mergedAttrs;null!==l&&In(u,a,l);const h=c.classes;null!==h&&gi(u,a,h);const f=c.styles;null!==f&&pi(u,a,f),li(o,i,a,c),0===Ge.lFrame.elementDepthCount&&Jn(a,i),Ge.lFrame.elementDepthCount++,_e(c)&&(Or(o,i,c),function(t,e,n){if(be(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Sr(i,c)}function Xi(){let t=Ze();Xe()?Ge.lFrame.isParent=!1:(t=t.parent,Ye(t,!1));const e=t;Ge.lFrame.elementDepthCount--;const n=We();n.firstCreatePass&&(gn(n,t),be(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Zi(n,e,Ke(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Zi(n,e,Ke(),e.stylesWithoutHost,!1)}function Ji(t,e,n,r){Yi(t,e,n,r),Xi()}function to(){return Ke()}function eo(t){return!!t&&"function"==typeof t.then}function no(t,e,n=!1,r){const i=Ke(),o=We(),s=Ze();return function(t,e,n,r,i,o,s=!1,u){const a=_e(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Xr(e);let h=!0;if(2===r.type){const f=Me(r,e),d=u?u(f):ne,p=d.target||f,g=l.length,v=u?t=>u(Le(t[r.index])).target:r.index;if(Pe(n)){let s=null;if(!u&&a&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=io(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,v,g,g+1)}}else o=io(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,v,g,s)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),no}function ro(t,e,n){try{return!1!==e(n)}catch(r){return Jr(t,r),!1}}function io(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Ue(t.index,e):e;0==(32&e[2])&&Kr(s);let u=ro(e,n,o),a=i.__ngNextListenerFn__;for(;a;)u=ro(e,a,o)&&u,a=a.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function oo(t=1){return function(t){return(Ge.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ge.lFrame.contextLView))[8]}(t)}function so(t,e=""){const n=Ke(),r=We(),i=t+ge,o=r.firstCreatePass?_r(r,t,2,null,null):r.data[i],s=n[i]=function(t,e){return Pe(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);li(r,n,s,o),Ye(o,!1)}function uo(t,e,n){const r=Ke(),i=function(t,e,n,r){return $i(t,en(),n)?e+Te(n)+r:hr}(r,t,e,n);return i!==hr&&function(t,e,n){const r=function(t,e){return Le(e[t+ge])}(e,t),i=t[11];Pe(i)?i.setValue(r,n):r.textContent=n}(r,dn(),i),uo}const ao=void 0;var co=["en",[["a","p"],["AM","PM"],ao],[["AM","PM"],ao,ao],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ao,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ao,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ao,"{1} 'at' {0}",ao],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let lo={};function ho(t){return t in lo||(lo[t]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[t]),lo[t]}var fo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const po="en-US";let go=po;function vo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(go=t.toLowerCase().replace(/_/g,"-"))}class yo{}class mo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${yt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let bo=(()=>{class t{}return t.NULL=new mo,t})(),wo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>_o(t),t})();const _o=function(t){return _i(t,Ze(),Ke())};class Eo{}var Io=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let To=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>null}),t})();class xo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Oo=new xo("10.2.3");class So{constructor(){}supports(t){return Bi(t)}create(t){return new Ao(t)}}const Co=(t,e)=>e;class Ao{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Co}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ro(n,r,i)?e:n,s=Ro(o,r,i),u=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=u-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==u&&t(o,s,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Bi(t))throw new Error(`Error trying to diff '${yt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Hi()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ko(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new No),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new No),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ko{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jo{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class No{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new jo,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ro(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Po{constructor(){}supports(t){return t instanceof Map||Gi(t)}create(){return new Do}}class Do{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Gi(t)))throw new Error(`Error trying to diff '${yt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Lo(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Lo{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Mo=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new it,new nt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new t([new So])}),t})(),Vo=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new it,new nt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new t([new Po])}),t})();const Uo=[new Po],Fo=new Mo([new So]),qo=new Vo(Uo);let zo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ho(t,wo),t})();const Ho=function(t,e){return function(t,e,n,r){return bi||(bi=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=wr(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Er(e,n,t),new vi(n)}}),0===n.type?new bi(r,n,_i(e,n,r)):null}(t,e,Ze(),Ke())};let Bo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Go(t,wo),t})();const Go=function(t,e){return function(t,e,n,r){let i;wi||(wi=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return _i(e,this._hostTNode,this._hostView)}get injector(){return new Gn(this._hostTNode,this._hostView)}get parentInjector(){const t=Mn(this._hostTNode,this._hostView);if(Cn(t)){const e=kn(t,this._hostView),n=An(t);return new Gn(e[1].data[n+8],e)}return new Gn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-ve}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Qt,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),me(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new wi(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ve+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ve?(e[4]=n[i],Xt(n,ve+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const u=e[19];null!==u&&u.insertView(t),e[2]|=128}(r,n,o,i);const s=function t(e,n){const r=ve+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return Me(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return me(e)?t(-1,e):Le(e)}}{const t=n[16],i=t[6],o=fr(t),s=i.projection[r.projection];return null!=s?e(o,s):e(n,r.next)}}return null}(e,i)}return n[7]}(i,o),u=n[11],a=ci(u,o[7]);return null!==a&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,fi(t,r,n,1,i,o)}(r,o[6],u,n,a,s),t.attachToViewContainerRef(this),Xt(o[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=ri(this._lContainer,e);n&&(Jt(this._lContainer[8],e),ii(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=ri(this._lContainer,e);return n&&null!=Jt(this._lContainer[8],e)?new vi(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(me(o))i=o;else{let t;if(3===n.type)t=Le(o);else if(t=r[11].createComment(""),Ie(r)){const e=r[11],i=Me(n,r);si(e,ci(e,i),t,function(t,e){return Pe(t)?t.nextSibling(e):e.nextSibling}(e,i))}else li(r[1],r,t,n);r[n.index]=i=Hr(o,r,t,n),$r(r,i)}return new wi(i,n,r)}(t,e,Ze(),Ke())},$o={};class Ko extends bo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=fe(t);return new Zo(e,this.ngModule)}}function Wo(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Qo=new Pt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Oe});class Zo extends yo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(lr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Wo(this.componentDef.inputs)}get outputs(){return Wo(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,$o,i);return o!==$o||r===$o?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Eo,De),s=i.get(To,null),u=o.createRenderer(null,this.componentDef),a=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Pe(t))return t.selectRootElement(e,n===ee.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,n,this.componentDef.encapsulation):br(a,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(a)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Oe,clean:Yr,playerHandler:null,flags:0},f=Ar(0,null,null,1,0,null,null,null,null,null),d=wr(null,f,h,l,null,null,o,u,s,i);let p,g;un(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const u=_r(s,0,2,null,null),a=u.mergedAttrs=e.hostAttrs;null!==a&&(Fi(u,a,!0),null!==t&&(In(i,t,a),null!==u.classes&&gi(i,t,u.classes),null!==u.styles&&pi(i,t,u.styles)));const c=r.createRenderer(t,e),l=wr(n,Cr(e),null,e.onPush?64:16,n[20],u,r,c,null,null);return s.firstCreatePass&&(Vn(Pn(u,n),s,e.type),Lr(s,u),Vr(u,n.length,1)),$r(n,l),n[20]=l}(c,this.componentDef,d,o,u);if(c)if(n)In(u,c,["ng-version",Oo.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!sr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&In(u,c,t),e&&e.length>0&&gi(u,c,e.join(" "))}if(g=Ve(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Ze();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Dr(t,r,1),Ur(t,e,n));const i=zn(e,t,e.length-1,r);Jn(i,e);const o=Me(r,e);return o&&Jn(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const u=Ze();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){pn(u.index-ge);const t=n[1];Nr(t,e),Rr(t,n,e.hostVars),Pr(e,s)}return s}(t,this.componentDef,d,h,[qi]),Er(f,d,null)}finally{fn()}return new Yo(this.componentType,p,_i(wo,g,d),d,g)}}class Yo extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new yi(r),this.componentType=t}get injector(){return new Gn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Xo=new Map;class Jo extends Qt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ko(this);const n=pe(t),r=t[jt]||null;r&&vo(r),this._bootstrapComponents=Se(n.bootstrap),this._r3Injector=ji(t,e,[{provide:Qt,useValue:this},{provide:bo,useValue:this.componentFactoryResolver}],yt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Vi.THROW_IF_NOT_FOUND,n=ot.Default){return t===Vi||t===Qt||t===Dt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ts extends Zt{constructor(t){super(),this.moduleType=t,null!==pe(t)&&function(t){const e=new Set;!function t(n){const r=pe(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${yt(e)} vs ${yt(e.name)}`)}(i,Xo.get(i),n),Xo.set(i,n));const o=Se(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Jo(this.moduleType,t)}}const es=class extends I{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof h&&t.add(s),s}},ns=new Pt("Application Initializer");let rs=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();eo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Gt(ns,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const is=new Pt("AppId"),os={provide:is,useFactory:function(){return`${ss()}${ss()}${ss()}`},deps:[]};function ss(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const us=new Pt("Platform Initializer"),as=new Pt("Platform ID"),cs=new Pt("appBootstrapListener");let ls=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const hs=new Pt("LocaleId"),fs=new Pt("DefaultCurrencyCode");class ds{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ps=function(t){return new ts(t)},gs=ps,vs=function(t){return Promise.resolve(ps(t))},ys=function(t){const e=ps(t),n=Se(pe(t).declarations).reduce((t,e)=>{const n=fe(e);return n&&t.push(new Zo(n)),t},[]);return new ds(e,n)},ms=ys,bs=function(t){return Promise.resolve(ys(t))};let ws=(()=>{class t{constructor(){this.compileModuleSync=gs,this.compileModuleAsync=vs,this.compileModuleAndAllComponentsSync=ms,this.compileModuleAndAllComponentsAsync=bs}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const _s=(()=>Promise.resolve(0))();function Es(t){"undefined"==typeof Zone?_s.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Is{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new es(!1),this.onMicrotaskEmpty=new es(!1),this.onStable=new es(!1),this.onError=new es(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=Ot.requestAnimationFrame,e=Ot.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ot,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ss(t),Os(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ss(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,u)=>{try{return Cs(t),n.invokeTask(i,o,s,u)}finally{e&&"eventTask"===o.type&&e(),As(t)}},onInvoke:(e,n,r,i,o,s,u)=>{try{return Cs(t),e.invoke(r,i,o,s,u)}finally{As(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Ss(t),Os(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Is.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Is.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,xs,Ts,Ts);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Ts(){}const xs={};function Os(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ss(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Cs(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function As(t){t._nesting--,Os(t)}class ks{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new es,this.onMicrotaskEmpty=new es,this.onStable=new es,this.onError=new es}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let js=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Is.assertNotInAngularZone(),Es(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Es(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Gt(Is))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Ns=(()=>{class t{constructor(){this._applications=new Map,Ds.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ds.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Rs{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Ps,Ds=new Rs;const Ls=new Pt("AllowMultipleToken");class Ms{constructor(t,e){this.name=t,this.token=e}}function Vs(t,e,n=[]){const r="Platform: "+e,i=new Pt(r);return(e=[])=>{let o=Us();if(!o||o.injector.get(Ls,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:xi,useValue:"platform"});!function(t){if(Ps&&!Ps.destroyed&&!Ps.injector.get(Ls,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ps=t.get(Fs);const e=t.get(us,null);e&&e.forEach(t=>t())}(Vi.create({providers:t,name:r}))}return function(t){const e=Us();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Us(){return Ps&&!Ps.destroyed?Ps:null}let Fs=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new ks:("zone.js"===t?void 0:t)||new Is({enableLongStackTrace:Xn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Is,useValue:n}];return n.run(()=>{const e=Vi.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Qn,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Hs(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return eo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(rs);return t.runInitializers(),t.donePromise.then(()=>(vo(i.injector.get(hs,po)||po),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=qs({},e);return function(t,e,n){const r=new ts(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(zs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${yt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Gt(Vi))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function qs(t,e){return Array.isArray(e)?e.reduce(qs,t):Object.assign(Object.assign({},t),e)}let zs=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Xn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new m(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),u=new m(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Is.assertNotInAngularZone(),Es(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Is.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return x(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof m?t[0]:H(e)(B(t,n))}(s,u.pipe(t=>{return G()((e=Y,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,Q);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof yo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Qt),i=n.create(Vi.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(js,null);return o&&i.injector.get(Ns).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Xn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Hs(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(cs,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Hs(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Gt(Is),Gt(ls),Gt(Vi),Gt(Qn),Gt(bo),Gt(rs))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Hs(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Bs{}class Gs{}const $s={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ks=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||$s}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Ws(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Ws(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Gt(ws),Gt(Gs,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Ws(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Qs=Vs(null,"core",[{provide:as,useValue:"unknown"},{provide:Fs,deps:[Vi]},{provide:Ns,deps:[]},{provide:ls,deps:[]}]),Zs=[{provide:zs,useClass:zs,deps:[Is,ls,Vi,Qn,bo,rs]},{provide:Qo,deps:[Is],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:rs,useClass:rs,deps:[[new nt,ns]]},{provide:ws,useClass:ws,deps:[]},os,{provide:Mo,useFactory:function(){return Fo},deps:[]},{provide:Vo,useFactory:function(){return qo},deps:[]},{provide:hs,useFactory:function(t){return vo(t=t||"undefined"!=typeof $localize&&$localize.locale||po),t},deps:[[new et(hs),new nt,new it]]},{provide:fs,useValue:"USD"}];let Ys=(()=>{class t{constructor(t){}}return t.\u0275mod=ce({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)(Gt(zs))},providers:Zs}),t})();const Xs={apiKey:"AIzaSyCNpn78v8VwSkoSXLGtEDkD6OhE0L2_X7k",authDomain:"alumnessallemanlleu.firebaseapp.com",databaseURL:"https://alumnessallemanlleu.firebaseio.com",projectId:"alumnessallemanlleu",storageBucket:"alumnessallemanlleu.appspot.com",messagingSenderId:"43964399310",appId:"1:43964399310:web:339d2bd9b2602f7d6a1a9f",measurementId:"G-YL5PLBWYGZ"};let Js=null;function tu(){return Js}const eu=new Pt("DocumentToken");let nu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:ru,token:t,providedIn:"platform"}),t})();function ru(){return Gt(ou)}const iu=new Pt("Location Initialized");let ou=(()=>{class t extends nu{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=tu().getLocation(),this._history=tu().getHistory()}getBaseHrefFromDOM(){return tu().getBaseHref(this._doc)}onPopState(t){tu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){tu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){su()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){su()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Gt(eu))},t.\u0275prov=ut({factory:uu,token:t,providedIn:"platform"}),t})();function su(){return!!window.history.pushState}function uu(){return new ou(Gt(eu))}function au(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function cu(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function lu(t){return t&&"?"!==t[0]?"?"+t:t}let hu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:fu,token:t,providedIn:"root"}),t})();function fu(t){const e=Gt(eu).location;return new pu(Gt(nu),e&&e.origin||"")}const du=new Pt("appBaseHref");let pu=(()=>{class t extends hu{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return au(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+lu(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+lu(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+lu(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Gt(nu),Gt(du,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),gu=(()=>{class t extends hu{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=au(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+lu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+lu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Gt(nu),Gt(du,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),vu=(()=>{class t{constructor(t,e){this._subject=new es,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=cu(mu(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+lu(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,mu(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lu(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lu(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Gt(hu),Gt(nu))},t.normalizeQueryParams=lu,t.joinWithSlash=au,t.stripTrailingSlash=cu,t.\u0275prov=ut({factory:yu,token:t,providedIn:"root"}),t})();function yu(){return new vu(Gt(hu),Gt(nu))}function mu(t){return t.replace(/\/index.html$/,"")}var bu=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});class wu{}let _u=(()=>{class t extends wu{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ho(e);if(n)return n;const r=e.split("-")[0];if(n=ho(r),n)return n;if("en"===r)return co;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[fo.PluralCase]}(e||this.locale)(t)){case bu.Zero:return"zero";case bu.One:return"one";case bu.Two:return"two";case bu.Few:return"few";case bu.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Gt(hs))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Eu{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Iu=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Xn()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Eu(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Tu(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new Tu(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Wi(Bo),Wi(zo),Wi(Mo))},t.\u0275dir=he({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Tu{constructor(t,e){this.record=t,this.view=e}}let xu=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Ou,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Su("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Su("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Wi(Bo),Wi(zo))},t.\u0275dir=he({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Ou{constructor(){this.$implicit=null,this.ngIf=null}}function Su(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${yt(e)}'.`)}let Cu=(()=>{class t{}return t.\u0275mod=ce({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},providers:[{provide:wu,useClass:_u}]}),t})(),Au=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new ku(Gt(eu),window,Gt(Qn))}),t})();class ku{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=ju(this.window.history)||ju(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function ju(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Nu extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Nu,Js||(Js=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Pu||(Pu=document.querySelector("base"),Pu)?Pu.getAttribute("href"):null;return null==e?null:(n=e,Ru||(Ru=document.createElement("a")),Ru.setAttribute("href",n),"/"===Ru.pathname.charAt(0)?Ru.pathname:"/"+Ru.pathname);var n}resetBaseElement(){Pu=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let Ru,Pu=null;const Du=new Pt("TRANSITION_ID"),Lu=[{provide:ns,useFactory:function(t,e,n){return()=>{n.get(rs).donePromise.then(()=>{const n=tu();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Du,eu,Vi],multi:!0}];class Mu{static init(){var t;t=new Mu,Ds=t}addToWindow(t){Ot.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Ot.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ot.getAllAngularRootElements=()=>t.getAllRootElements(),Ot.frameworkStabilizers||(Ot.frameworkStabilizers=[]),Ot.frameworkStabilizers.push(t=>{const e=Ot.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?tu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Vu=new Pt("EventManagerPlugins");let Uu=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Vu),Gt(Is))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Fu{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=tu().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let qu=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),zu=(()=>{class t extends qu{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>tu().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Gt(eu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Hu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Bu=/%COMP%/g;function Gu(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Gu(t,i,n):(i=i.replace(Bu,t),n.push(i))}return n}function $u(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ku=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Wu(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ee.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Qu(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case ee.Native:case ee.ShadowDom:return new Zu(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Gu(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Gt(Uu),Gt(zu),Gt(is))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Wu{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Hu[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Hu[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Hu[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&Io.DashCase?t.style.setProperty(e,n,r&Io.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Io.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,$u(n)):this.eventManager.addEventListener(t,e,$u(n))}}class Qu extends Wu{constructor(t,e,n,r){super(t),this.component=n;const i=Gu(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Bu,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Bu,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Zu extends Wu{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===ee.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=Gu(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Yu=(()=>{class t extends Fu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Gt(eu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Xu=["alt","control","meta","shift"],Ju={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ta={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ea={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let na=(()=>{class t extends Fu{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tu().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Xu.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ta.hasOwnProperty(e)&&(e=ta[e]))}return Ju[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Xu.forEach(r=>{r!=n&&(0,ea[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Gt(eu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const ra=Vs(Qs,"browser",[{provide:as,useValue:"browser"},{provide:us,useValue:function(){Nu.makeCurrent(),Mu.init()},multi:!0},{provide:eu,useFactory:function(){return function(t){Re=t}(document),document},deps:[]}]),ia=[[],{provide:xi,useValue:"root"},{provide:Qn,useFactory:function(){return new Qn},deps:[]},{provide:Vu,useClass:Yu,multi:!0,deps:[eu,Is,as]},{provide:Vu,useClass:na,multi:!0,deps:[eu]},[],{provide:Ku,useClass:Ku,deps:[Uu,zu,is]},{provide:Eo,useExisting:Ku},{provide:qu,useExisting:zu},{provide:zu,useClass:zu,deps:[eu]},{provide:js,useClass:js,deps:[Is]},{provide:Uu,useClass:Uu,deps:[Vu,Is]},[]];let oa=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:is,useValue:e.appId},{provide:Du,useExisting:is},Lu]}}}return t.\u0275mod=ce({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)(Gt(t,12))},providers:ia,imports:[Cu,Ys]}),t})();function sa(...t){let e=t[t.length-1];return x(e)?(t.pop(),D(t,e)):B(t)}"undefined"!=typeof window&&window;class ua extends I{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new w;return this._value}next(t){super.next(this._value=t)}}class aa extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class ca extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function la(t,e,n,r,i=new ca(t,n,r)){if(!i.closed)return e instanceof m?e.subscribe(i):P(e)(i)}const ha={};class fa{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new da(t,this.resultSelector))}}class da extends aa{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(ha),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(la(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===ha?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const pa=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),ga=new m(t=>t.complete());function va(t){return t?function(t){return new m(e=>t.schedule(()=>e.complete()))}(t):ga}function ya(t){return new m(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?L(n):va()).subscribe(e)})}function ma(){return H(1)}function ba(t,e){return function(n){return n.lift(new wa(t,e))}}class wa{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new _a(t,this.predicate,this.thisArg))}}class _a extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Ea=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Ia(t){return function(e){return 0===t?va():e.lift(new Ta(t))}}class Ta{constructor(t){if(this.total=t,this.total<0)throw new Ea}call(t,e){return e.subscribe(new xa(t,this.total))}}class xa extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Oa(t=Aa){return e=>e.lift(new Sa(t))}class Sa{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Ca(t,this.errorFactory))}}class Ca extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Aa(){return new pa}function ka(t=null){return e=>e.lift(new ja(t))}class ja{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Na(t,this.defaultValue))}}class Na extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Ra(t,e){return"function"==typeof e?n=>n.pipe(Ra((n,r)=>L(t(n,r)).pipe(O((t,i)=>e(n,t,r,i))))):e=>e.lift(new Pa(t))}class Pa{constructor(t){this.project=t}call(t,e){return e.subscribe(new Da(t,this.project))}}class Da extends V{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new M(this),r=this.destination;r.add(n),this.innerSubscription=U(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function La(t){return e=>0===t?va():e.lift(new Ma(t))}class Ma{constructor(t){if(this.total=t,this.total<0)throw new Ea}call(t,e){return e.subscribe(new Va(t,this.total))}}class Va extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Ua(...t){return ma()(sa(...t))}function Fa(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new qa(t,e,n))}}class qa{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new za(t,this.accumulator,this.seed,this.hasSeed))}}class za extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ha(t){return function(e){const n=new Ba(t),r=e.lift(n);return n.caught=r}}class Ba{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Ga(t,this.selector,this.caught))}}class Ga extends V{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new M(this);this.add(r);const i=U(n,r);i!==r&&this.add(i)}}}function $a(t,e){return F(t,e,1)}function Ka(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ba((e,n)=>t(e,n,r)):y,La(1),n?ka(e):Oa(()=>new pa))}function Wa(){}function Qa(t,e,n){return function(r){return r.lift(new Za(t,e,n))}}class Za{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Ya(t,this.nextOrObserver,this.error,this.complete))}}class Ya extends p{constructor(t,e,n,i){super(t),this._tapNext=Wa,this._tapError=Wa,this._tapComplete=Wa,this._tapError=n||Wa,this._tapComplete=i||Wa,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Wa,this._tapError=e.error||Wa,this._tapComplete=e.complete||Wa)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class Xa{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ja(t,this.callback))}}class Ja extends p{constructor(t,e){super(t),this.add(new h(e))}}class tc{constructor(t,e){this.id=t,this.url=e}}class ec extends tc{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nc extends tc{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rc extends tc{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ic extends tc{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oc extends tc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sc extends tc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uc extends tc{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ac extends tc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cc extends tc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lc{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hc{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fc{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dc{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pc{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gc{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vc{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const yc="primary";class mc{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function bc(t){return new mc(t)}function wc(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function _c(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ec(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Ic(t[i],e[i]))return!1;return!0}function Ic(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Tc(t){return Array.prototype.concat.apply([],t)}function xc(t){return t.length>0?t[t.length-1]:null}function Oc(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Sc(t){return(e=t)&&"function"==typeof e.subscribe?t:eo(t)?L(Promise.resolve(t)):sa(t);var e}function Cc(t,e,n){return n?function(t,e){return Ec(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Nc(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ic(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Nc(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Nc(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Nc(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class Ac{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bc(this.queryParams)),this._queryParamMap}toString(){return Lc.serialize(this)}}class kc{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Oc(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mc(this)}}class jc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=bc(this.parameters)),this._parameterMap}toString(){return Hc(this)}}function Nc(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Rc(t,e){let n=[];return Oc(t.children,(t,r)=>{r===yc&&(n=n.concat(e(t,r)))}),Oc(t.children,(t,r)=>{r!==yc&&(n=n.concat(e(t,r)))}),n}class Pc{}class Dc{parse(t){const e=new Wc(t);return new Ac(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return Mc(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Oc(e.children,(e,n)=>{n!==yc&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Rc(e,(n,r)=>r===yc?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Mc(e)}/${n[0]}`:`${Mc(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Uc(e)}=${Uc(t)}`).join("&"):`${Uc(e)}=${Uc(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Lc=new Dc;function Mc(t){return t.segments.map(t=>Hc(t)).join("/")}function Vc(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uc(t){return Vc(t).replace(/%3B/gi,";")}function Fc(t){return Vc(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qc(t){return decodeURIComponent(t)}function zc(t){return qc(t.replace(/\+/g,"%20"))}function Hc(t){return`${Fc(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Fc(t)}=${Fc(e[t])}`).join("")}`;var e}const Bc=/^[^\/()?;=#]+/;function Gc(t){const e=t.match(Bc);return e?e[0]:""}const $c=/^[^=?&#]+/,Kc=/^[^?&#]+/;class Wc{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kc([],{}):new kc([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new kc(t,e)),n}parseSegment(){const t=Gc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new jc(qc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Gc(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Gc(this.remaining);t&&(n=t,this.capture(n))}t[qc(e)]=qc(n)}parseQueryParam(t){const e=function(t){const e=t.match($c);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Kc);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=zc(e),i=zc(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Gc(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=yc);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new kc([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Qc{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Zc(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Zc(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Yc(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Yc(t,this._root).map(t=>t.value)}}function Zc(t,e){if(t===e.value)return e;for(const n of e.children){const e=Zc(t,n);if(e)return e}return null}function Yc(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Yc(t,n);if(r.length)return r.unshift(e),r}return[]}class Xc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Jc(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class tl extends Qc{constructor(t,e){super(t),this.snapshot=e,sl(this,t)}toString(){return this.snapshot.toString()}}function el(t,e){const n=function(t,e){const n=new il([],{},{},"",{},yc,e,null,t.root,-1,{});return new ol("",new Xc(n,[]))}(t,e),r=new ua([new jc("",{})]),i=new ua({}),o=new ua({}),s=new ua({}),u=new ua(""),a=new nl(r,i,s,u,o,yc,e,n.root);return a.snapshot=n.root,new tl(new Xc(a,[]),n)}class nl{constructor(t,e,n,r,i,o,s,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(O(t=>bc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(O(t=>bc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rl(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class il{constructor(t,e,n,r,i,o,s,u,a,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=a,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ol extends Qc{constructor(t,e){super(e),this.url=t,sl(this,e)}toString(){return ul(this._root)}}function sl(t,e){e.value._routerState=t,e.children.forEach(e=>sl(t,e))}function ul(t){const e=t.children.length>0?` { ${t.children.map(ul).join(", ")} } `:"";return`${t.value}${e}`}function al(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ec(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ec(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ec(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ec(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function cl(t,e){var n,r;return Ec(t.params,e.params)&&Nc(n=t.url,r=e.url)&&n.every((t,e)=>Ec(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||cl(t.parent,e.parent))}function ll(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function hl(t){return"object"==typeof t&&null!=t&&t.outlets}function fl(t,e,n,r,i){let o={};return r&&Oc(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Ac(n.root===t?e:function t(e,n,r){const i={};return Oc(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new kc(e.segments,i)}(n.root,t,e),o,i)}class dl{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ll(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(hl);if(r&&r!==xc(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pl{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function gl(t,e,n){if(t||(t=new kc([],{})),0===t.segments.length&&t.hasChildren())return vl(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(hl(s))break;const u=""+s,a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&a&&"object"==typeof a&&void 0===a.outlets){if(!wl(u,a,e))return o;r+=2}else{if(!wl(u,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new kc(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new kc(t.segments.slice(r.pathIndex),t.children),vl(e,0,i)}return r.match&&0===i.length?new kc(t.segments,{}):r.match&&!t.hasChildren()?yl(t,e,n):r.match?vl(t,0,i):yl(t,e,n)}function vl(t,e,n){if(0===n.length)return new kc(t.segments,{});{const r=function(t){return hl(t[0])?t[0].outlets:{[yc]:t}}(n),i={};return Oc(r,(n,r)=>{null!==n&&(i[r]=gl(t.children[r],e,n))}),Oc(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new kc(t.segments,i)}}function yl(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(hl(o)){const t=ml(o.outlets);return new kc(r,t)}if(0===i&&ll(n[0])){r.push(new jc(t.segments[e].path,n[0])),i++;continue}const s=hl(o)?o.outlets.primary:""+o,u=i<n.length-1?n[i+1]:null;s&&u&&ll(u)?(r.push(new jc(s,bl(u))),i+=2):(r.push(new jc(s,{})),i++)}return new kc(r,{})}function ml(t){const e={};return Oc(t,(t,n)=>{null!==t&&(e[n]=yl(new kc([],{}),0,t))}),e}function bl(t){const e={};return Oc(t,(t,n)=>e[n]=""+t),e}function wl(t,e,n){return t==n.path&&Ec(e,n.parameters)}class _l{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),al(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Jc(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Oc(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Jc(t),i=t.value.component?n.children:e;Oc(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Jc(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new gc(t.value.snapshot))}),t.children.length&&this.forwardEvent(new dc(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(al(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),El(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function El(t){al(t.value),t.children.forEach(El)}class Il{constructor(t,e){this.routes=t,this.module=e}}function Tl(t){return"function"==typeof t}function xl(t){return t instanceof Ac}const Ol=Symbol("INITIAL_VALUE");function Sl(){return Ra(t=>function(...t){let e=void 0,n=void 0;return x(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&a(t[0])&&(t=t[0]),B(t,n).lift(new fa(e))}(...t.map(t=>t.pipe(La(1),function(...t){const e=t[t.length-1];return x(e)?(t.pop(),n=>Ua(t,n,e)):e=>Ua(t,e)}(Ol)))).pipe(Fa((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Ol)return t;if(r===Ol&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||xl(r))return r}return t},t)},Ol),ba(t=>t!==Ol),O(t=>xl(t)?t:!0===t),La(1)))}class Cl{constructor(t){this.segmentGroup=t||null}}class Al{constructor(t){this.urlTree=t}}function kl(t){return new m(e=>e.error(new Cl(t)))}function jl(t){return new m(e=>e.error(new Al(t)))}function Nl(t){return new m(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Rl{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Qt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,yc).pipe(O(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ha(t=>{if(t instanceof Al)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Cl)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,yc).pipe(O(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Ha(t=>{if(t instanceof Cl)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new kc([],{[yc]:t}):t;return new Ac(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(O(t=>new kc([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return sa({});const n=[],r=[],i={};return Oc(t,(t,o)=>{const s=e(o,t).pipe(O(t=>i[o]=t));o===yc?n.push(s):r.push(s)}),sa.apply(null,n.concat(r)).pipe(ma(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ba((e,n)=>t(e,n,r)):y,Ia(1),n?ka(e):Oa(()=>new pa))}(),O(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return sa(...n).pipe($a(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Ha(t=>{if(t instanceof Cl)return sa(null);throw t}))),Ka(t=>!!t),Ha((t,n)=>{if(t instanceof pa||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return sa(new kc([],{}));throw new Cl(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Ml(r)!==o?kl(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):kl(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?jl(i):this.lineralizeSegments(n,i).pipe(F(n=>{const i=new kc(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:u,lastChild:a,positionalParamSegments:c}=Pl(e,r,i);if(!s)return kl(e);const l=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?jl(l):this.lineralizeSegments(r,l).pipe(F(r=>this.expandSegment(t,e,n,r.concat(i.slice(a)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(O(t=>(n._loadedConfig=t,new kc(r,{})))):sa(new kc(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Pl(e,n,r);if(!i)return kl(e);const u=r.slice(s);return this.getChildConfig(t,n,r).pipe(F(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Ll(t,e,n)&&Ml(n)!==yc)}(t,n,r)?{segmentGroup:Dl(new kc(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&Ml(r)!==yc&&(n[Ml(r)]=new kc([],{}));return n}(r,new kc(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Ll(t,e,n))}(t,n,r)?{segmentGroup:Dl(new kc(t.segments,function(t,e,n,r){const i={};for(const o of n)Ll(t,e,o)&&!r[Ml(o)]&&(i[Ml(o)]=new kc([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,u,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(O(t=>new kc(o,t))):0===r.length&&0===s.length?sa(new kc(o,{})):this.expandSegment(n,i,r,s,yc,!0).pipe(O(t=>new kc(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?sa(new Il(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?sa(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(F(n=>n?this.configLoader.load(t.injector,e).pipe(O(t=>(e._loadedConfig=t,t))):function(t){return new m(e=>e.error(wc(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):sa(new Il([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?sa(r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Tl(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Tl(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Sc(o)})).pipe(Sl(),Qa(t=>{if(!xl(t))return;const e=wc(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),O(t=>!0===t)):sa(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return sa(n);if(r.numberOfChildren>1||!r.children.primary)return Nl(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Ac(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Oc(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Oc(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new kc(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Pl(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||_c)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Dl(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new kc(t.segments.concat(e.segments),e.children)}return t}function Ll(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Ml(t){return t.outlet||yc}class Vl{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ul{constructor(t,e){this.component=t,this.route=e}}function Fl(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Jc(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,u=n?n.value:null,a=r?r.getContext(e.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Nc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Nc(t.url,e.url)||!Ec(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cl(t,e)||!Ec(t.queryParams,e.queryParams);case"paramsChange":default:return!cl(t,e)}}(u,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Vl(i)):(s.data=u.data,s._resolvedData=u._resolvedData),t(e,n,s.component?a?a.children:null:r,i,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Ul(a.outlet.component,u))}else u&&zl(n,a,o),o.canActivateChecks.push(new Vl(i)),t(e,null,s.component?a?a.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Oc(s,(t,e)=>zl(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function ql(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function zl(t,e,n){const r=Jc(t),i=t.value;Oc(r,(t,r)=>{zl(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ul(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Hl(t,e){return null!==t&&e&&e(new pc(t)),sa(!0)}function Bl(t,e){return null!==t&&e&&e(new fc(t)),sa(!0)}function Gl(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?sa(r.map(r=>ya(()=>{const i=ql(r,e,n);let o;if(function(t){return t&&Tl(t.canActivate)}(i))o=Sc(i.canActivate(e,t));else{if(!Tl(i))throw new Error("Invalid CanActivate guard");o=Sc(i(e,t))}return o.pipe(Ka())}))).pipe(Sl()):sa(!0)}function $l(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>ya(()=>sa(e.guards.map(i=>{const o=ql(i,e.node,n);let s;if(function(t){return t&&Tl(t.canActivateChild)}(o))s=Sc(o.canActivateChild(r,t));else{if(!Tl(o))throw new Error("Invalid CanActivateChild guard");s=Sc(o(r,t))}return s.pipe(Ka())})).pipe(Sl())));return sa(i).pipe(Sl())}class Kl{}class Wl{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Yl(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,yc),n=new il([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},yc,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Xc(n,e),i=new ol(this.url,r);return this.inheritParamsAndData(i._root),sa(i)}catch(t){return new m(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=rl(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Rc(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===yc?-1:e.value.outlet===yc?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof Kl))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Kl}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Kl;if((t.outlet||yc)!==r)throw new Kl;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?xc(n).parameters:{};i=new il(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,th(t),r,t.component,t,Ql(e),Zl(e)+n.length,eh(t))}else{const u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Kl;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||_c)(n,t,e);if(!r)throw new Kl;const i={};Oc(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,s=n.slice(u.lastChild),i=new il(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,th(t),r,t.component,t,Ql(e),Zl(e)+o.length,eh(t))}const u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:a,slicedSegments:c}=Yl(e,o,s,u,this.relativeLinkResolution);if(0===c.length&&a.hasChildren()){const t=this.processChildren(u,a);return[new Xc(i,t)]}if(0===u.length&&0===c.length)return[new Xc(i,[])];const l=this.processSegment(u,a,c,yc);return[new Xc(i,l)]}}function Ql(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Zl(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Yl(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Xl(t,e,n)&&Jl(n)!==yc)}(t,n,r)){const i=new kc(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Jl(o)!==yc){const n=new kc([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Jl(o)]=n}return i}(t,e,r,new kc(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Xl(t,e,n))}(t,n,r)){const o=new kc(t.segments,function(t,e,n,r,i,o){const s={};for(const u of r)if(Xl(t,n,u)&&!i[Jl(u)]){const n=new kc([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Jl(u)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new kc(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Xl(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Jl(t){return t.outlet||yc}function th(t){return t.data||{}}function eh(t){return t.resolve||{}}function nh(t){return function(e){return e.pipe(Ra(e=>{const n=t(e);return n?L(n).pipe(O(()=>e)):L([e])}))}}class rh extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let ih=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=oe({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Ji(0,"router-outlet")},directives:function(){return[mh]},encapsulation:2}),t})();function oh(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];sh(r,uh(e,r))}}function sh(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==yc)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&oh(t.children,e)}function uh(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ah(t){const e=t.children&&t.children.map(ah),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==yc&&(n.component=ih),n}const ch=new Pt("ROUTES");class lh{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(O(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Il(Tc(r.injector.get(ch)).map(ah),r)}))}loadModuleFactory(t){return"string"==typeof t?L(this.loader.load(t)):Sc(t()).pipe(F(t=>t instanceof Zt?sa(t):L(this.compiler.compileModuleAsync(t))))}}class hh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new fh,this.attachRef=null}}class fh{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new hh,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class dh{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ph(t){throw t}function gh(t,e,n){return e.parse("/")}function vh(t,e){return sa(null)}let yh=(()=>{class t{constructor(t,e,n,r,i,o,s,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new I,this.errorHandler=ph,this.malformedUriErrorHandler=gh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:vh,afterPreactivation:vh},this.urlHandlingStrategy=new dh,this.routeReuseStrategy=new rh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Qt),this.console=i.get(ls);const a=i.get(Is);this.isNgZoneEnabled=a instanceof Is,this.resetConfig(u),this.currentUrlTree=new Ac(new kc([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new lh(o,s,t=>this.triggerEvent(new lc(t)),t=>this.triggerEvent(new hc(t))),this.routerState=el(this.currentUrlTree,this.rootComponentType),this.transitions=new ua({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ba(t=>0!==t.id),O(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Ra(t=>{let n=!1,r=!1;return sa(t).pipe(Qa(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ra(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return sa(t).pipe(Ra(t=>{const n=this.transitions.getValue();return e.next(new ec(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?ga:[t]}),Ra(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Ra(t=>function(t,e,n,r,i){return new Rl(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(O(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Qa(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(F(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Wl(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(O(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Qa(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Qa(t=>{const n=new oc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,u=new ec(n,this.serializeUrl(r),i,o);e.next(u);const a=el(r,this.rootComponentType).snapshot;return sa(Object.assign(Object.assign({},t),{targetSnapshot:a,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ga}),nh(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Qa(t=>{const e=new sc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),O(t=>Object.assign(Object.assign({},t),{guards:Fl(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(F(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?sa(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return L(t).pipe(F(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?sa(o.map(o=>{const s=ql(o,e,i);let u;if(function(t){return t&&Tl(t.canDeactivate)}(s))u=Sc(s.canDeactivate(t,e,n,r));else{if(!Tl(s))throw new Error("Invalid CanDeactivate guard");u=Sc(s(t,e,n,r))}return u.pipe(Ka())})).pipe(Sl()):sa(!0)}(t.component,t.route,n,e,r)),Ka(t=>!0!==t,!0))}(s,r,i,t).pipe(F(n=>n&&"boolean"==typeof n?function(t,e,n,r){return L(e).pipe($a(e=>L([Bl(e.route.parent,r),Hl(e.route,r),$l(t,e.path,n),Gl(t,e.route,n)]).pipe(ma(),Ka(t=>!0!==t,!0))),Ka(t=>!0!==t,!0))}(r,o,t,e):sa(n)),O(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Qa(t=>{if(xl(t.guardsResult)){const e=wc(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Qa(t=>{const e=new uc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ba(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new rc(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),nh(t=>{if(t.guards.canActivateChecks.length)return sa(t).pipe(Qa(t=>{const e=new ac(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Ra(t=>{let n=!1;return sa(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(F(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return sa(t);let o=0;return L(n).pipe($a(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return sa({});const o={};return L(i).pipe(F(i=>function(t,e,n,r){const i=ql(t,e,r);return Sc(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Qa(t=>{o[i]=t}))),Ia(1),F(()=>Object.keys(o).length===i.length?sa(o):ga))}(t._resolve,t,e,r).pipe(O(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),rl(t,n).resolve),null)))}(t.route,e,r,i)),Qa(()=>o++),Ia(1),F(e=>o===n.length?sa(t):ga))}))}),Qa({next:()=>n=!0,complete:()=>{if(!n){const n=new rc(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Qa(t=>{const e=new cc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),nh(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),O(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Xc(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new nl(new ua((i=n.value).url),new ua(i.params),new ua(i.queryParams),new ua(i.fragment),new ua(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Xc(r,o)}}var i}(t,e._root,n?n._root:void 0);return new tl(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Qa(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,u=t=>this.triggerEvent(t),O(t=>(new _l(s,t.targetRouterState,t.currentRouterState,u).activate(o),t))),Qa({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new rc(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Xa(i))),Ha(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=xl(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new rc(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new ic(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return ga}));var i,o,s,u}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){oh(t),this.config=t.map(ah),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:u}=e;Xn()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const a=n||this.routerState.root,c=u?this.currentUrlTree.fragment:i;let l=null;if(s)switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=o?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return fl(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new dl(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Oc(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new dl(n,e,r)}(n);if(o.toRoot())return fl(e.root,new kc([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new pl(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new pl(t,t===e.root,0)}const r=ll(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new pl(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),u=s.processChildren?vl(s.segmentGroup,s.index,o.commands):gl(s.segmentGroup,s.index,o.commands);return fl(s.segmentGroup,u,e,r,i)}(a,this.currentUrlTree,t,l,c)}navigateByUrl(t,e={skipLocationChange:!1}){Xn()&&this.isNgZoneEnabled&&!Is.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=xl(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(xl(t))return Cc(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Cc(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new nc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),u=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&u)return Promise.resolve(!0);let a,c,l;i?(a=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{a=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ti),Gt(Pc),Gt(fh),Gt(vu),Gt(Vi),Gt(Bs),Gt(ws),Gt(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),mh=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new es,this.deactivateEvents=new es,this.name=r||yc,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new bh(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(Wi(fh),Wi(Bo),Wi(bo),("name",function(t,e){const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Tn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Ze(),"name")),Wi(Ei))},t.\u0275dir=he({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class bh{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===nl?this.route:t===fh?this.childContexts:this.parent.get(t,e)}}class wh{}class _h{preload(t,e){return sa(null)}}let Eh=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new lh(e,n,e=>t.triggerEvent(new lc(e)),e=>t.triggerEvent(new hc(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ba(t=>t instanceof nc),$a(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Qt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return L(n).pipe(H(),O(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(F(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Gt(yh),Gt(Bs),Gt(ws),Gt(Vi),Gt(wh))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Ih=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ec?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof nc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new vc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Gt(yh),Gt(Au),Gt(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Th=new Pt("ROUTER_CONFIGURATION"),xh=new Pt("ROUTER_FORROOT_GUARD"),Oh=[vu,{provide:Pc,useClass:Dc},{provide:yh,useFactory:function(t,e,n,r,i,o,s,u={},a,c){const l=new yh(null,t,e,n,r,i,o,Tc(s));if(a&&(l.urlHandlingStrategy=a),c&&(l.routeReuseStrategy=c),u.errorHandler&&(l.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(l.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=tu();l.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(l.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(l.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(l.relativeLinkResolution=u.relativeLinkResolution),l},deps:[Pc,fh,vu,Vi,Bs,ws,ch,Th,[class{},new nt],[class{},new nt]]},fh,{provide:nl,useFactory:function(t){return t.routerState.root},deps:[yh]},{provide:Bs,useClass:Ks},Eh,_h,class{preload(t,e){return e().pipe(Ha(()=>sa(null)))}},{provide:Th,useValue:{enableTracing:!1}}];function Sh(){return new Ms("Router",yh)}let Ch=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Oh,Nh(e),{provide:xh,useFactory:jh,deps:[[yh,new nt,new it]]},{provide:Th,useValue:n||{}},{provide:hu,useFactory:kh,deps:[nu,[new et(du),new nt],Th]},{provide:Ih,useFactory:Ah,deps:[yh,Au,Th]},{provide:wh,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:_h},{provide:Ms,multi:!0,useFactory:Sh},[Rh,{provide:ns,multi:!0,useFactory:Ph,deps:[Rh]},{provide:Lh,useFactory:Dh,deps:[Rh]},{provide:cs,multi:!0,useExisting:Lh}]]}}static forChild(e){return{ngModule:t,providers:[Nh(e)]}}}return t.\u0275mod=ce({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)(Gt(xh,8),Gt(yh,8))}}),t})();function Ah(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ih(t,e,n)}function kh(t,e,n={}){return n.useHash?new gu(t,e):new pu(t,e)}function jh(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Nh(t){return[{provide:Ui,multi:!0,useValue:t},{provide:ch,multi:!0,useValue:t}]}let Rh=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new I}appInitializer(){return this.injector.get(iu,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(yh),r=this.injector.get(Th);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?sa(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Th),n=this.injector.get(Eh),r=this.injector.get(Ih),i=this.injector.get(yh),o=this.injector.get(zs);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(Gt(Vi))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Ph(t){return t.appInitializer.bind(t)}function Dh(t){return t.bootstrapListener.bind(t)}const Lh=new Pt("Router Initializer"),Mh=[];let Vh=(()=>{class t{}return t.\u0275mod=ce({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},imports:[[Ch.forRoot(Mh)],Ch]}),t})();class Uh extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class Fh extends Uh{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let qh=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class zh extends qh{constructor(t,e=qh.now){super(t,()=>zh.delegate&&zh.delegate!==this?zh.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return zh.delegate&&zh.delegate!==this?zh.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const Hh=new zh(Fh);let Bh=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return sa(this.value);case"E":return t=this.error,new m(e=>e.error(t));case"C":return va()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function Gh(t,e=0){return function(n){return n.lift(new $h(t,e))}}class $h{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new Kh(t,this.scheduler,this.delay))}}class Kh extends p{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Kh.dispatch,this.delay,new Wh(t,this.destination)))}_next(t){this.scheduleMessage(Bh.createNext(t))}_error(t){this.scheduleMessage(Bh.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Bh.createComplete()),this.unsubscribe()}}class Wh{constructor(t,e){this.notification=t,this.destination=e}}class Qh extends Fh{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class Zh extends zh{}const Yh=new Zh(Qh);let Xh=1;const Jh=(()=>Promise.resolve())(),tf={};function ef(t){return t in tf&&(delete tf[t],!0)}const nf={setImmediate(t){const e=Xh++;return tf[e]=!0,Jh.then(()=>ef(e)&&t()),e},clearImmediate(t){ef(t)}};class rf extends Fh{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=nf.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(nf.clearImmediate(e),t.scheduled=void 0)}}class of extends zh{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const sf=new of(rf);class uf extends m{constructor(t,e=0,n=sf){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,(a(r=e)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=sf)}static create(t,e=0,n=sf){return new uf(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(uf.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class af{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new uf(e,this.delay,this.scheduler).subscribe(t)}}var cf=n("zIRd");function lf(){}cf.a.registerVersion("firebase","8.0.2","app");class hf{constructor(t,e=Yh){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class ff{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",lf,{},lf,lf)),e.pipe(Qa({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class df{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new hf(Zone.current)),this.insideAngular=t.run(()=>new hf(Zone.current,Hh))}}const pf=new Pt("angularfire2.app.options"),gf=new Pt("angularfire2.app.nameOrConfig"),vf=new xo("6.0.5");function yf(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",cf.a.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>cf.a.initializeApp(t,r))}const mf={provide:class{},useFactory:yf,deps:[pf,Is,[new nt,gf]]};let bf=(()=>{class t{constructor(t){cf.a.registerVersion("angularfire",vf.full,t.toString()),cf.a.registerVersion("angular",Oo.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:pf,useValue:e},{provide:gf,useValue:n}]}}}return t.\u0275mod=ce({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)(Gt(as))},providers:[mf]}),t})();function wf(t,e){return function(t,e=Hh){return new m(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),()=>{null!=r&&r()}})}(t,e)}function _f(t,e){return wf(t,e).pipe(O(t=>({payload:t,type:"query"})))}function Ef(t,e){return _f(t,e).pipe(O(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function If(t,e,n){return _f(t,n).pipe(O(t=>t.payload.docChanges()),Fa((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),O(t=>t.map(t=>({type:t.type,payload:t}))))}function Tf(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}n("xsWp");class xf{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?Ef(this.query,this.afs.schedulers.outsideAngular).pipe(O(e=>e.filter(e=>t.indexOf(e.type)>-1)),ba(t=>t.length>0),this.afs.keepUnstableUntilFirst):Ef(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Fa((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Tf(t);return If(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return _f(this.query,this.afs.schedulers.outsideAngular).pipe(O(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return L(this.query.get(t)).pipe(Gh(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Of(this.ref.doc(t),this.afs)}}class Of{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Nf(n,e);return new xf(r,i,this.afs)}snapshotChanges(){return wf(this.ref,this.afs.schedulers.outsideAngular).pipe(O(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(O(t=>t.payload.data()))}get(t){return L(this.ref.get(t)).pipe(Gh(this.afs.schedulers.insideAngular))}}class Sf{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Ef(this.query,this.afs.schedulers.outsideAngular).pipe(O(e=>e.filter(e=>t.indexOf(e.type)>-1)),ba(t=>t.length>0),this.afs.keepUnstableUntilFirst):Ef(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Fa((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Tf(t);return If(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return _f(this.query,this.afs.schedulers.outsideAngular).pipe(O(t=>t.payload.docs.map(t=>t.data())),this.afs.keepUnstableUntilFirst)}get(t){return L(this.query.get(t)).pipe(Gh(this.afs.schedulers.insideAngular))}}const Cf=n("xsWp"),Af=new Pt("angularfire2.enableFirestorePersistence"),kf=new Pt("angularfire2.firestore.persistenceSettings"),jf=new Pt("angularfire2.firestore.settings");function Nf(t,e=(t=>t)){return{query:e(t),ref:t}}let Rf=(()=>{class t{constructor(t,e,n,r,i,o,s){var u;this.schedulers=new df(o),this.keepUnstableUntilFirst=(u=this.schedulers,function(t){return(t=t.lift(new ff(u.ngZone))).pipe(function(t,e=0){return function(n){return n.lift(new af(t,e))}}(u.outsideAngular),Gh(u.insideAngular))}),this.firestore=o.runOutsideAngular(()=>{const n=yf(t,o,e);"registerFirestore"in Cf&&Cf.registerFirestore(cf.a);const i=n.firestore();return r&&i.settings(r),i}),this.persistenceEnabled$=n&&!function(t){return"server"===t}(i)?o.runOutsideAngular(()=>{try{return L(this.firestore.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(t){return sa(!1)}}):sa(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Nf(n,e),o=this.schedulers.ngZone.run(()=>r);return new xf(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Sf(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Of(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(Gt(pf),Gt(gf,8),Gt(Af,8),Gt(jf,8),Gt(as),Gt(Is),Gt(kf,8))},t.\u0275prov=ut({factory:function(){return new t(Gt(pf),Gt(gf,8),Gt(Af,8),Gt(jf,8),Gt(as),Gt(Is),Gt(kf,8))},token:t,providedIn:"any"}),t})(),Pf=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Af,useValue:!0},{provide:kf,useValue:e}]}}}return t.\u0275mod=ce({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},providers:[Rf]}),t})(),Df=(()=>{class t{constructor(t){this.db=t}llegirDades(){return this.db.collection("tresenratlla").snapshotChanges()}inserirItem(t){this.db.collection("items").add({nom:t})}eliminarItem(t){this.db.collection("items").doc(t).delete()}guardarDades(t){this.db.collection("tresenratlla").doc(t.id).update({fila0:t.fila0,fila1:t.fila1,fila2:t.fila2,jugador1:t.jugador1,jugador2:t.jugador2,torn:t.torn})}llegirUnItem(t){return this.db.collection("items").doc(t).snapshotChanges()}}return t.\u0275fac=function(e){return new(e||t)(Gt(Rf))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Lf(t,e){if(1&t){const t=to();Yi(0,"button",5),no("click",(function(){Qe(t);const n=e.index;return oo(2).tirada(0,n)})),Yi(1,"h1"),so(2),Xi(),Xi()}if(2&t){const t=e.$implicit;vr(2),uo(" ",t,"")}}function Mf(t,e){if(1&t){const t=to();Yi(0,"button",5),no("click",(function(){Qe(t);const n=e.index;return oo(2).tirada(1,n)})),Yi(1,"h1"),so(2),Xi(),Xi()}if(2&t){const t=e.$implicit;vr(2),uo(" ",t,"")}}function Vf(t,e){if(1&t){const t=to();Yi(0,"button",5),no("click",(function(){Qe(t);const n=e.index;return oo(2).tirada(2,n)})),Yi(1,"h1"),so(2),Xi(),Xi()}if(2&t){const t=e.$implicit;vr(2),uo(" ",t,"")}}function Uf(t,e){if(1&t){const t=to();Yi(0,"div"),Yi(1,"div",1),Yi(2,"button",2),no("click",(function(){return Qe(t),oo().iniciarJugador(1)})),so(3," Jugador 1 "),Xi(),Yi(4,"button",2),no("click",(function(){return Qe(t),oo().iniciarJugador(2)})),so(5," Jugador 2 "),Xi(),Yi(6,"button",3),no("click",(function(){return Qe(t),oo().reset()})),so(7," RESET "),Xi(),Xi(),Yi(8,"div",1),Ki(9,Lf,3,1,"button",4),Ji(10,"br"),Ki(11,Mf,3,1,"button",4),Ji(12,"br"),Ki(13,Vf,3,1,"button",4),Xi(),Xi()}if(2&t){const t=oo();vr(2),Qi("disabled",t.dades.jugador1||"-"!=t.jugador),vr(2),Qi("disabled",t.dades.jugador2||"-"!=t.jugador),vr(5),Qi("ngForOf",t.dades.fila0),vr(2),Qi("ngForOf",t.dades.fila1),vr(2),Qi("ngForOf",t.dades.fila2)}}let Ff=(()=>{class t{constructor(t){this.serveiDades=t,this.title="tresenratlla",this.jugador="-"}ngOnInit(){this.serveiDades.llegirDades().subscribe(t=>{var e;e=t[0].payload.doc.data(),this.dades=e,this.dades.id=t[0].payload.doc.id,"-"===this.dades.torn&&(this.jugador="-")})}tirada(t,e){if(this.dades.jugador1&&this.dades.jugador2&&this.dades.torn===this.jugador){switch(console.log(t,e),t){case 0:this.dades.fila0[e]=this.jugador;break;case 1:this.dades.fila1[e]=this.jugador;break;case 2:this.dades.fila2[e]=this.jugador}this.dades.torn="X"===this.jugador?"O":"X",this.serveiDades.guardarDades(this.dades)}}reset(){this.dades.jugador1=!1,this.dades.jugador2=!1;for(let t=0;t<3;t++)this.dades.fila0[t]="-",this.dades.fila1[t]="-",this.dades.fila2[t]="-";this.dades.torn="-",this.jugador="-",this.serveiDades.guardarDades(this.dades)}iniciarJugador(t){1===t?(this.dades.jugador1=!0,this.jugador="X","-"===this.dades.torn&&(this.dades.torn="X")):(this.dades.jugador2=!0,this.jugador="O","-"===this.dades.torn&&(this.dades.torn="O")),this.serveiDades.guardarDades(this.dades)}comprovarGuanyador(){}}return t.\u0275fac=function(e){return new(e||t)(Wi(Df))},t.\u0275cmp=oe({type:t,selectors:[["app-root"]],decls:2,vars:1,consts:[[4,"ngIf"],[1,"container"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",3,"click",4,"ngFor","ngForOf"],["type","button",3,"click"]],template:function(t,e){1&t&&(Ki(0,Uf,14,5,"div",0),Ji(1,"router-outlet")),2&t&&Qi("ngIf",e.dades)},directives:[xu,mh,Iu],styles:["button[_ngcontent-%COMP%]{height:100px;width:100px;margin:5px}.centrat[_ngcontent-%COMP%]{position:absolute;top:25%;left:40%}.contenidor[_ngcontent-%COMP%]{position:absolute;border-style:dotted;height:90%;width:90%;margin:50px}"]}),t})(),qf=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),zf=(()=>{class t{}return t.\u0275mod=ce({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)}}),t})(),Hf=(()=>{class t{}return t.\u0275mod=ce({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},providers:[qf],imports:[zf]}),t})(),Bf=(()=>{class t{}return t.\u0275mod=ce({type:t,bootstrap:[Ff]}),t.\u0275inj=at({factory:function(e){return new(e||t)},providers:[],imports:[[oa,Vh,bf.initializeApp(Xs),Pf,Hf]]}),t})();(function(){if(Yn)throw new Error("Cannot enable prod mode after platform setup.");Zn=!1})(),ra().bootstrapModule(Bf).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);